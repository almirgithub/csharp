Application Description: Centura SQLWindows Standard Application Template
	Outline Version - 4.0.28
	Design-time Settings
.data VIEWINFO
0000: 6F00000001000000 FFFF01000D004347 5458566965775374 6174650400010000
0020: 0000000000CC0000 002C000000020000 0003000000FFFFFF FFFFFFFFFFF8FFFF
0040: FFE2FFFFFFFFFFFF FF000000007C0200 004D010000010000 0001000000010000
0060: 000F4170706C6963 6174696F6E497465 6D00000000
.enddata
		Outline Window State: Normal
		Outline Window Location and Size
.data VIEWINFO
0000: 6600040003002D00 0000000000000000 0000B71E5D0E0500 1D00FFFF4D61696E
0020: 0000000000000000 0000000000000000 0000003B00010000 00000000000000E9
0040: 1E800A00008600FF FF496E7465726E61 6C2046756E637469 6F6E730000000000
0060: 0000000000000000 0000000000003200 0100000000000000 0000E91E800A0000
0080: DF00FFFF56617269 61626C6573000000 0000000000000000 0000000000000000
00A0: 3000010000000000 00000000F51E100D 0000F400FFFF436C 6173736573000000
00C0: 0000000000000000 0000000000000000
.enddata
.data VIEWSIZE
0000: D000
.enddata
			Left: -0.013"
			Top: 0.0"
			Width:  8.013"
			Height: 4.969"
		Options Box Location
.data VIEWINFO
0000: D4180909B80B1A00
.enddata
.data VIEWSIZE
0000: 0800
.enddata
			Visible? Yes
			Left: 4.15"
			Top: 1.885"
			Width:  3.8"
			Height: 2.073"
		Class Editor Location
			Visible? No
			Left: 0.575"
			Top: 0.094"
			Width:  5.063"
			Height: 2.719"
		Tool Palette Location
			Visible? No
			Left: 6.388"
			Top: 0.729"
		Fully Qualified External References? Yes
		Reject Multiple Window Instances? No
		Enable Runtime Checks Of External References? Yes
		Use Release 4.0 Scope Rules? No
	Libraries
		File Include: detran_funcoes.apl
	Global Declarations
		Window Defaults
			Tool Bar
				Display Style? Etched
				Font Name: MS Sans Serif
				Font Size: 8
				Font Enhancement: System Default
				Text Color: System Default
				Background Color: System Default
			Form Window
				Display Style? Etched
				Font Name: System Default
				Font Size: System Default
				Font Enhancement: System Default
				Text Color: System Default
				Background Color: System Default
			Dialog Box
				Display Style? Etched
				Font Name: MS Sans Serif
				Font Size: 8
				Font Enhancement: System Default
				Text Color: System Default
				Background Color: System Default
			Top Level Table Window
				Font Name: MS Sans Serif
				Font Size: 8
				Font Enhancement: System Default
				Text Color: System Default
				Background Color: System Default
			Data Field
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Multiline Field
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Spin Field
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Background Text
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Pushbutton
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
			Radio Button
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Check Box
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Option Button
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
			Group Box
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Child Table Window
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			List Box
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Combo Box
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Line
				Line Color: Use Parent
			Frame
				Border Color: Use Parent
				Background Color: 3D Face Color
			Picture
				Border Color: Use Parent
				Background Color: Use Parent
		Formats
			Number: 0'%'
			Number: #0
			Number: ###000
			Number: ###000;'($'###000')'
			Date/Time: hh:mm:ss AMPM
			Date/Time: M/d/yy
			Date/Time: MM-dd-yy
			Date/Time: dd-MMM-yyyy
			Date/Time: MMM d, yyyy
			Date/Time: MMM d, yyyy hh:mm AMPM
			Date/Time: MMMM d, yyyy hh:mm AMPM
			Number: #0
			Input: 999999
		External Functions
		Constants
.data CCDATA
0000: 3000000000000000 0000000000000000 00000000
.enddata
.data CCSIZE
0000: 1400
.enddata
			System
			User
			Enumerations
		Resources
		Variables
.data RESOURCE 0 0 1 2407421837
0000: 2200000013000000 0000000000000000 020000010000001E 020000D019000000
0020: 01FE00FF03
.enddata
		Internal Functions
		Named Menus
		Class Definitions
.data RESOURCE 0 0 1 1443028049
0000: AC030000CA010000 0000000000000000 0200000500FFFF01 00160000436C6173
0020: 73566172004F7574 6C696E6552006567 496E666FC2003C00 000A630051434B31
0040: 47657261006C0202 00001100001E0004 0000C20003000000 FF7F048300190000
0060: 00F001000000FF1F 1D0000AC00190001 FD00FF0736000000 196B000100FFFFC1
0080: 4F00000019DA0001 00FF7F68B0000000 0400F4020000FF1F 6C0000AC00040002
00A0: FD00FF0770000000 046B000200FFFFC1 7400000004DA0002 00FF7F78B0000000
00C0: 0400F60200FF1F7C 0000AC00040002FD 00FF17800000046B 000200FFFFC18400
00E0: 000004DA000200FF 7F88B00000000400 F60200FF1F8C0000 AC00190001FD00FF
0100: 07A5000000196B00 0100FFFFC1BE0000 0004DA000200FF7F 0180803E00000001
0120: 0070000E63514340 6F6E7461696E7220 AA0000000500006F 0400E801020000FF
0140: C18001000000BF04 190019000101FA00 007F80F20100000F 0800000096190001
0160: 00FE00FF83210000 0004B5000200FFFF 60250000001900ED 0100FF3F01806404
0180: 0000020038086351 4D44804922000000 0100DE0004DA0002 00FF7F01CC800400
01A0: 0370000D63514300 6865636B426F7822 A20000010000B704 00F60200FF1F0180
01C0: 0433000400060063 4461646F732200D1 000100005B040002 FB00FF0F
.enddata
		Default Classes
			MDI Window: cBaseMDI
			Form Window:
			Dialog Box:
			Table Window:
			Quest Window:
			Data Field:
			Spin Field:
			Multiline Field:
			Pushbutton:
			Radio Button:
			Option Button:
			Check Box:
			Child Table:
			Quest Child Window: cQuickDatabase
			List Box:
			Combo Box:
			Picture:
			Vertical Scroll Bar:
			Horizontal Scroll Bar:
			Column:
			Background Text:
			Group Box:
			Line:
			Frame:
			Custom Control:
			ActiveX:
		Application Actions
	Form Window: frmAgenteEquip
.data INHERITPROPS
0000: 0100
.enddata
		Class: cQCK1Form
		Property Template:
		Class DLL Name:
		Title: Agente Equipamento
		Icon File:
		Accessories Enabled? Class Default
		Visible? Class Default
		Display Settings
			Display Style? Class Default
			Visible at Design time? No
			Automatically Created at Runtime? Class Default
			Initial State: Normal
			Maximizable? Class Default
			Minimizable? Class Default
			System Menu? Class Default
			Resizable? Class Default
			Window Location and Size
				Left: 17.738"
				Top: 1.813"
				Width:  7.375"
				Width Editable? Class Default
				Height: 3.448"
				Height Editable? Class Default
			Form Size
				Width:  Class Default
				Height: Class Default
				Number of Pages: Class Default
			Font Name: Class Default
			Font Size: Class Default
			Font Enhancement: Class Default
			Text Color: Class Default
			Background Color: Class Default
		Description: -------------------------------------------------------------------------------------------------------------------------------------------------------------------
				Autor-Data: [faml] - Flávio Lago - 04/05/2016 - SPRINT JUNHO/2016 
				#486-Associar o cadastro do agente equipamento com o cadastro da regra de repasse por convênio de delegação.
				-------------------------------------------------------------------------------------------------------------------------------------------------------------------
				[faml] Flávio Lago SPRINT 18-01-2017 #5878 Corrigir a associação do agente equipamento na regra do repasse
		Named Menus
		Menu
		Tool Bar
			Display Settings
				Display Style? Class Default
				Location? Class Default
				Visible? Class Default
				Size: Class Default
				Size Editable? Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Text Color: Class Default
				Background Color: Class Default
			Contents
		Contents
			Data Field: dfnOrgao
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1DataField
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: 6
					Data Type: Number
					Editable? Class Default
				Display Settings
					Window Location and Size
						Left: 1.638"
						Top: 0.115"
						Width:  0.95"
						Width Editable? Class Default
						Height: 0.25"
						Height Editable? Class Default
					Visible? Class Default
					Border? Class Default
					Justify: Right
					Format: Class Default
					Country: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Input Mask: 999999
				Message Actions
					! On SAM_Create
						 Set _sTextoStatusBar = 'Número do órgão autuante'
						 Set _bPermiteNulos = TRUE
						 Set _sNomeParaMsgs = 'Órgão autuante'
						 Set _sTipoMsgNulo = 'PADRAO'
						 Set _bVisivel = TRUE
						 Set _nNroColunasAdicionais = 0
						 Set _sConsultaFrmOpcoesSQLOuSP = 'SP'
						 Set _sConsultaFrmOpcoesColunaOuParam = '@Desc'
						 Set _sConsultaFrmOpcoesCampo = 'exec OrgaoAutS_coddesc'
						! Variáveis para indentificar o Componente Chave
						 Set _bComponenteChave = FALSE
						 Set _bCompChaveGeradoPeloSistema = FALSE
						 Set _bCompChaveOpcionalParaPesquisa = FALSE
						 Set _bDisparaConsultaEmValidate = TRUE
						 Set _bÉCampoDescrição = FALSE
						 Set _bÉDependente = FALSE
						 Set _sConsultaDescrição = ''
						 Call SalSendClassMessage( SAM_Create, wParam, lParam )
					On SAM_Create
						Set _sTextoStatusBar = 'Órgão autuante responsável pelo lote'
						Set _sNroCamposIgnorados = 'NENHUM'
						!
						Set _bCompChaveOpcionalParaPesquisa = FALSE
						Set _bComponenteChave = FALSE
						Set _bDisparaConsultaEmValidate = FALSE
						Set _bPermiteNulos = FALSE
						Set _bSempreHabilitado = TRUE
						!
						Set _bVisivel = TRUE
						Set _sNomeParaMsgs = 'Órgão autuante'
						Set _sConsultaFrmOpcoesSQLOuSP = 'SP'
						Set _sConsultaFrmOpcoesCampo = 'exec dbinfracao..OrgaoAutuanteS_desc_Estan @Cod = :frmAgenteEquip.dfnOrgao'
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
					On UDM_ValidaCampo
						Return dfnOrgao <= 2147483647
			Data Field: dfsOrgao
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1DataField
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: Class Default
					Data Type: Class Default
					Editable? Class Default
				Display Settings
					Window Location and Size
						Left: 2.588"
						Top: 0.115"
						Width:  3.3"
						Width Editable? Class Default
						Height: 0.25"
						Height Editable? Class Default
					Visible? Class Default
					Border? Class Default
					Justify: Class Default
					Format: Class Default
					Country: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Input Mask: Class Default
				Message Actions
					! On SAM_Create
						 Set _bVisivel = TRUE
						 Set _bÉCampoDescrição = TRUE
						 Set _bNuncaHabilitado = TRUE
						! Pesquisa da descrição
						 Set _bÉDependente = TRUE
						 Set _nNroColunasAdicionais = 0
						 Set _sCamposResponsaveis[0] = 'dfnOrgao'
						 Set _sConsultaFrmOpcoesSQLOuSP = 'SP'
						 Set _sConsultaDescrição = 'exec OrgaoAutS_desc @Cod = :frmAgenteEquip.dfnOrgao'
						 Set _bPermiteNulos = TRUE
						 Set _bÉDependenteLimpeza = TRUE
						 Set _sCamposResponsaveisLimpeza[0] = 'dfnCod'
						 Set _bÉCampoDescrição = TRUE
						 Set _bSempreHabilitado = FALSE
						 Set _bNuncaHabilitado = TRUE
						 Call SalSendClassMessage( SAM_Create, wParam, lParam )
						 Set _sTipoMsgNulo = 'PADRAO'
						! Set _sNroCamposResponsaveis = '1'
						! Set _sNroCamposResponsaveisLimpeza = '0'
					On SAM_Create
						Set _sNroCamposIgnorados = 'NENHUM'
						!
						Set _bNuncaHabilitado = TRUE
						Set _bÉCampoDescrição = TRUE
						Set _sConsultaDescrição = 'exec dbinfracao..OrgaoAutuanteS_desc_sint @Cod = :frmAgenteEquip.dfnOrgao'
						Set _bÉDependente = TRUE
						Set _sCamposResponsaveis[0] = 'dfnOrgao'
						Set _bPermiteNulos = TRUE
						Set _bSempreHabilitado = FALSE
						!
						Set _bVisivel = TRUE
						Set _sNomeParaMsgs = ''
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			Data Field: dfnCod
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1DataField
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: 6
					Data Type: Number
					Editable? Class Default
				Display Settings
					Window Location and Size
						Left: 1.638"
						Top: 0.406"
						Width:  0.95"
						Width Editable? Class Default
						Height: 0.25"
						Height Editable? Class Default
					Visible? Class Default
					Border? Class Default
					Justify: Right
					Format: Class Default
					Country: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Input Mask: 999999
				Message Actions
					On SAM_Create
						Set _bVisivel = TRUE
						Set _sMsgNulo = ''
						Set _bPermiteNulos = TRUE
						Set _bSempreHabilitado = FALSE
						Set _bNuncaHabilitado = FALSE
						Set _bCompChaveOpcionalParaPesquisa = TRUE
						Set _bDisparaConsultaEmValidate = TRUE
						Set _bComponenteChave = TRUE
						! Set _bCompChaveGeradoPeloSistema = FALSE
						Set _sNomeParaMsgs = 'dfnCod'
						Set _sTipoMsgNulo = 'PADRAO'
						Set _sTextoStatusBar = 'Código do orgão autuante'
						Set _sConsultaFrmOpcoesSQLOuSP = 'SP'
						Set _sConsultaFrmOpcoesColunaOuParam = '@Desc'
						Set _sConsultaFrmOpcoesCampo = 'exec dbinfracao..AgenteEquipS_coddesc @OrgaoAutuante=:frmAgenteEquip.dfnOrgao'
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			Data Field: dfsDescricao
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1DataField
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: 50
					Data Type: Class Default
					Editable? Class Default
				Display Settings
					Window Location and Size
						Left: 1.638"
						Top: 0.698"
						Width:  4.25"
						Width Editable? Class Default
						Height: 0.25"
						Height Editable? Class Default
					Visible? Class Default
					Border? Class Default
					Justify: Class Default
					Format: Uppercase
					Country: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Input Mask: Class Default
				Message Actions
					On SAM_Create
						Set _bVisivel = TRUE
						Set _sMsgNulo = 'O campo descrição é obrigatório.'
						Set _bPermiteNulos = FALSE
						Set _sTextoStatusBar = 'Descricao do órgão autuante'
						Set _bÉDependente = FALSE
						Set _sCamposResponsaveis[0] = 'dfnCod'
						Set _sNomeParaMsgs = 'Descrição'
						Set _sTipoMsgNulo = 'ESPECIFICA'
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
					On UDM_ValidaCampo
						Call ConverteCampo( hWndItem )
						Return TRUE
			Data Field: dfsDescSintetica
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1DataField
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: 25
					Data Type: Class Default
					Editable? Class Default
				Display Settings
					Window Location and Size
						Left: 1.638"
						Top: 0.99"
						Width:  4.25"
						Width Editable? Class Default
						Height: 0.25"
						Height Editable? Class Default
					Visible? Class Default
					Border? Class Default
					Justify: Class Default
					Format: Uppercase
					Country: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Input Mask: Class Default
				Message Actions
					On SAM_Create
						Set _bVisivel = TRUE
						Set _sCamposResponsaveis[0] = 'dfnCod'
						Set _bÉDependente = FALSE
						Set _sTextoStatusBar = 'Descrição sintética do órgão autuante'
						Set _sMsgNulo = 'O campo descrição sintética é obrigatório'
						Set _sNomeParaMsgs = 'Descrição sintética'
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
					On UDM_ValidaCampo
						Call ConverteCampo( hWndItem )
						Return TRUE
			! cQCK1ComboBox: cmbFaixaAR
.winattr class Combo Box:
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1ComboBox
				Property Template:
				Class DLL Name:
				Window Location and Size
					Left: 1.438"
					Top: 1.281"
					Width:  0.85"
					Width Editable? Yes
					Height: 1.927"
					Height Editable? Yes
				Visible? Yes
				Editable? No
				String Type: String
				Maximum Data Length: Default
				Sorted? Yes
				Always Show List? No
				Vertical Scroll? Yes
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
				Input Mask: Unformatted
.end
				List Initialization 
				Message Actions 
					On SAM_Create
						Set _sTextoStatusBar = 'Faixa que o orgão autuante pertence'
						Set _sNomeParaMsgs = 'FaixaAR'
						Set _sTipoMsgNulo = 'PADRAO'
						Set _bVisivel = TRUE
						Set _sRefresh = 'Create'
						Set _sNomeCampoCodigo = 'dfnFaixaAR'
						! Set _sConsultaBD = 'select 1'
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			Pushbutton: pbNovo
.data CLASSPROPSSIZE
0000: 1800
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000700 44656269746F0000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1PushButton
				Property Template:
				Class DLL Name:
				Title: No&vo
				Window Location and Size
					Left: 1.838"
					Top: 2.656"
					Width:  Class Default
					Width Editable? Class Default
					Height: Class Default
					Height Editable? Class Default
				Visible? Yes
				Keyboard Accelerator: Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Picture File Name:
				Picture Transparent Color: Class Default
				Image Style: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Click
						Call SalSendClassMessage( SAM_Click, wParam, lParam )
						Call SalSendMsg( hWndForm, MSG_Novo, wParam, lParam )
						! Set dfnCod = 0
					On SAM_Create
						Set _sTextoStatusBar = 'Habilita a tela para inserção de um novo registro'
						Set _sTipoComando = 'Comum'
						Set _nPermissao = 3
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			Pushbutton: pbArquivar
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1PushButton
				Property Template:
				Class DLL Name:
				Title: &Arquivar
				Window Location and Size
					Left: 2.838"
					Top: 2.656"
					Width:  Class Default
					Width Editable? Class Default
					Height: Class Default
					Height Editable? Class Default
				Visible? Class Default
				Keyboard Accelerator: Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Picture File Name:
				Picture Transparent Color: Class Default
				Image Style: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Create
						Set _sNroCamposIgnorados = 'NENHUM'
						Set _sTextoStatusBar = 'Arquiva o registro corrente'
						Set _sTipoComando = 'Arquiva'
						Set _sTabela = ''
						Set _bValidaCamposNulos = TRUE
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
					! On SAM_Click
						Call SalSendClassMessage( SAM_Click, wParam, lParam )
						If frmAgenteEquip.dfsEntradaDeAuto = "A"
							Set rbAutomatica = TRUE
							Set frmAgenteEquip.dfsEntradaDeAuto = "A"
						If frmAgenteEquip.dfsEntradaDeAuto = "D"
							Set rbDigitacao = TRUE
							Set frmAgenteEquip.dfsEntradaDeAuto = "D"
			Pushbutton: pbLimpar
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1PushButton
				Property Template:
				Class DLL Name:
				Title: &Limpar
				Window Location and Size
					Left: 3.838"
					Top: 2.656"
					Width:  Class Default
					Width Editable? Class Default
					Height: Class Default
					Height Editable? Class Default
				Visible? Class Default
				Keyboard Accelerator: Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Picture File Name:
				Picture Transparent Color: Class Default
				Image Style: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Create
						Set _sTextoStatusBar = 'Limpa os dados da tela'
						Set _sTipoComando = 'Limpa'
						Set _sTabela = ''
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			Pushbutton: pbExcluir
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1PushButton
				Property Template:
				Class DLL Name:
				Title: E&xcluir
				Window Location and Size
					Left: 4.838"
					Top: 2.656"
					Width:  Class Default
					Width Editable? Class Default
					Height: Class Default
					Height Editable? Class Default
				Visible? Class Default
				Keyboard Accelerator: Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Picture File Name:
				Picture Transparent Color: Class Default
				Image Style: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Create
						Set _sNroCamposIgnorados = 'NENHUM'
						Set _sTextoStatusBar = 'Exclui o registro corrente'
						Set _sTipoComando = 'Remove'
						Set _sTabela = ''
						Set _bValidaCamposNulos = FALSE
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			Pushbutton: pbSair
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1PushButton
				Property Template:
				Class DLL Name:
				Title: &Sair
				Window Location and Size
					Left: 5.838"
					Top: 2.656"
					Width:  Class Default
					Width Editable? Class Default
					Height: Class Default
					Height Editable? Class Default
				Visible? Class Default
				Keyboard Accelerator: Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Picture File Name:
				Picture Transparent Color: Class Default
				Image Style: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Create
						Set _sTextoStatusBar = 'Sai desta tela'
						Set _sTipoComando = 'Sai'
						Set _sTabela = ''
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			Pushbutton: pbPesquisar
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1PushButton
				Property Template:
				Class DLL Name:
				Title: &Pesquisar
				Window Location and Size
					Left: 5.938"
					Top: 0.156"
					Width:  Class Default
					Width Editable? Class Default
					Height: Class Default
					Height Editable? Class Default
				Visible? Class Default
				Keyboard Accelerator: Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Picture File Name:
				Picture Transparent Color: Class Default
				Image Style: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Create
						Set _sTextoStatusBar = 'Efetua a pesquisa no banco de dados'
						Set _sTipoComando = 'Pesquisa'
						Set _sTabela = ''
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			Pushbutton: pbAnterior
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1PushButton
				Property Template:
				Class DLL Name:
				Title: A&nterior
				Window Location and Size
					Left: 5.938"
					Top: 0.448"
					Width:  Class Default
					Width Editable? Class Default
					Height: Class Default
					Height Editable? Class Default
				Visible? Class Default
				Keyboard Accelerator: Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Picture File Name:
				Picture Transparent Color: Class Default
				Image Style: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Create
						Set _sTextoStatusBar = 'Move para o registro anterior'
						Set _sTipoComando = 'Anterior'
						Set _sTabela = ''
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			Pushbutton: pbProximo
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1PushButton
				Property Template:
				Class DLL Name:
				Title: Próxi&mo
				Window Location and Size
					Left: 5.938"
					Top: 0.74"
					Width:  Class Default
					Width Editable? Class Default
					Height: Class Default
					Height Editable? Class Default
				Visible? Class Default
				Keyboard Accelerator: Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Picture File Name:
				Picture Transparent Color: Class Default
				Image Style: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Create
						Set _sTextoStatusBar = 'Move para o próximo registro'
						Set _sTipoComando = 'Próximo'
						Set _sTabela = ''
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			Background Text: Código:
				Resource Id: 4992
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left: 0.788"
					Top: 0.469"
					Width:  0.8"
					Width Editable? Yes
					Height: 0.167"
					Height Editable? Yes
				Visible? Yes
				Justify: Right
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Background Text: Descrição:
				Resource Id: 4993
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left: 0.638"
					Top: 0.719"
					Width:  0.95"
					Width Editable? Yes
					Height: 0.167"
					Height Editable? Yes
				Visible? Yes
				Justify: Right
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Background Text: Desc. Sintética:
				Resource Id: 4994
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left: 0.288"
					Top: 1.052"
					Width:  1.3"
					Width Editable? Yes
					Height: 0.167"
					Height Editable? Yes
				Visible? Yes
				Justify: Right
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Background Text: Desc. Órgão Notif:
				Resource Id: 61555
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left: 0.088"
					Top: 1.385"
					Width:  1.5"
					Width Editable? Yes
					Height: 0.167"
					Height Editable? Yes
				Visible? Yes
				Justify: Right
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Data Field: dfsDescOrgaoNotif
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1DataField
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: 20
					Data Type: Class Default
					Editable? Class Default
				Display Settings
					Window Location and Size
						Left: 1.638"
						Top: 1.323"
						Width:  4.25"
						Width Editable? Class Default
						Height: 0.25"
						Height Editable? Class Default
					Visible? Class Default
					Border? Class Default
					Justify: Class Default
					Format: Uppercase
					Country: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Input Mask: Class Default
				Message Actions
					On SAM_Create
						Set _bVisivel = TRUE
						Set _sCamposResponsaveis[0] = 'dfnCod'
						Set _bÉDependente = FALSE
						Set _sTextoStatusBar = 'Descrição do Orgão Notificador'
						Set _sMsgNulo = 'O campo descrição do Órgão Notificador é obrigatório'
						Set _sNomeParaMsgs = 'Descrição do Órgão Notificador'
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
					On UDM_ValidaCampo
						Call ConverteCampo( hWndItem )
						Return TRUE
			Data Field: dfnFaixaAR
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1DataField
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: Class Default
					Data Type: Number
					Editable? No
				Display Settings
					Window Location and Size
						Left: Default
						Top: Default
						Width:  Class Default
						Width Editable? Class Default
						Height: Class Default
						Height Editable? Class Default
					Visible? No
					Border? Class Default
					Justify: Class Default
					Format: Class Default
					Country: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Input Mask: Class Default
				Message Actions
					On SAM_Create
						Set _bVisivel = FALSE
						Set _bSempreHabilitado = FALSE
						Set _sTipoMsgNulo = 'PADRAO'
						Set _bPermiteNulos = TRUE
						Set _sMsgNulo = ''
						Set _bNuncaHabilitado = TRUE
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			Frame
				Resource Id: 4996
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left: 0.038"
					Top: 0.031"
					Width:  6.95"
					Width Editable? Yes
					Height: 2.542"
					Height Editable? Yes
				Visible? Yes
				Corners: Square
				Border Style: Raised-Shadow
				Border Thickness: 1
				Border Color: Default
				Background Color: 3D Face Color
			Background Text: Tipo Equip.:
				Resource Id: 33557
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left: 0.288"
					Top: 1.719"
					Width:  1.3"
					Width Editable? Yes
					Height: 0.167"
					Height Editable? Yes
				Visible? Yes
				Justify: Right
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Combo Box: cmbTipoEquipamento
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Window Location and Size
					Left: 1.638"
					Top: 1.656"
					Width:  4.3"
					Width Editable? Yes
					Height: 1.104"
					Height Editable? Yes
				Visible? Yes
				Editable? Yes
				String Type: String
				Maximum Data Length: Default
				Sorted? Yes
				Always Show List? No
				Vertical Scroll? Yes
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
				Input Mask: Unformatted
				List Initialization
					Text:
					Text: AGENTES COM TALÃO ELETRÔNICO
					Text: LOMBADA ELETRÔNICA
					Text: AGENTES COM TALÃO PAPEL
					Text: FOTOSENSORES
					Text: RADAR
				Message Actions
					On MSG_Limpa
						Call SalListSelectString( cmbTipoEquipamento, 0, 'AGENTES COM TALÃO PAPEL' )
					On SAM_CreateComplete
						Call SalListSelectString( cmbTipoEquipamento, 0, 'AGENTES COM TALÃO PAPEL' )
			Picture: picSemaforo
				Class Child Ref Key: 1
				Class ChildKey: 0
				Class: cQCK1Form
				Property Template:
				Class DLL Name:
				Window Location and Size
					Left: 0.088"
					Top: 2.573"
					Width:  Class Default
					Width Editable? Class Default
					Height: Class Default
					Height Editable? Class Default
				Visible? Class Default
				Editable? Class Default
				File Name:
				Storage: Class Default
				Picture Transparent Color: Class Default
				Fit: Class Default
				Scaling
					Width:  Class Default
					Height:  Class Default
				Corners: Class Default
				Border Style: Class Default
				Border Thickness: Class Default
				Tile To Parent? Class Default
				Border Color: Class Default
				Background Color: Class Default
				Message Actions
			Background Text: Órgão Aut.:
				Resource Id: 4997
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1BackgroundText
				Window Location and Size
					Left: 0.588"
					Top: 0.156"
					Width:  1.0"
					Width Editable? Class Default
					Height: 0.167"
					Height Editable? Class Default
				Visible? Class Default
				Justify: Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Text Color: Class Default
				Background Color: Class Default
			Radio Button: rbAutomatica
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1RadioButton
				Property Template:
				Class DLL Name:
				Title: Automática
				Window Location and Size
					Left: 0.638"
					Top: 2.198"
					Width:  1.4"
					Width Editable? Class Default
					Height: 0.25"
					Height Editable? Class Default
				Visible? Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					! On SAM_Create
						 Set _sTextoStatusBar = 'Clique para tipo de lote ser de digitação'
						 Set _sNomeParaMsgs = 'Digitação'
						 Set _sNroCamposIgnorados = 'NENHUM'
						!
						 Set _bNuncaHabilitado = FALSE
						 Set _bPermiteNulos = TRUE
						 Set _bSempreHabilitado = FALSE
						!
						 Set _bVisivel = TRUE
						!
						 Set _sNomeCampoFonte = 'dfsEntradaDeAuto'
						 Set _sValorCampoFonte = 'A'
						!
						 Set _bRadioButtonDefault = FALSE
						 Call SalSendClassMessage( SAM_Create, wParam, lParam )
					On SAM_Create
						Set _sTextoStatusBar = 'Clique para tipo de lote ser de digitação'
						Set _sNomeParaMsgs = 'Automática'
						Set _sNroCamposIgnorados = 'NENHUM'
						Set _bNuncaHabilitado = FALSE
						Set _bPermiteNulos = TRUE
						Set _bSempreHabilitado = TRUE
						Set _bVisivel = TRUE
						Set _sNomeCampoFonte = 'dfsEntradaDeAuto'
						Set _sValorCampoFonte = 'A'
						Set _bRadioButtonDefault = TRUE
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			Radio Button: rbDigitacao
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1RadioButton
				Property Template:
				Class DLL Name:
				Title: Digitação
				Window Location and Size
					Left: 2.338"
					Top: 2.198"
					Width:  1.15"
					Width Editable? Class Default
					Height: 0.25"
					Height Editable? Class Default
				Visible? Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Create
						Set _sTextoStatusBar = 'Clique para tipo de lote ser de digitação'
						Set _sNomeParaMsgs = 'Digitação'
						Set _sNroCamposIgnorados = 'NENHUM'
						!
						Set _bNuncaHabilitado = FALSE
						Set _bPermiteNulos = TRUE
						Set _bSempreHabilitado = TRUE
						!
						Set _bVisivel = TRUE
						!
						Set _sNomeCampoFonte = 'dfsEntradaDeAuto'
						Set _sValorCampoFonte = 'D'
						!
						Set _bRadioButtonDefault = FALSE
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			Group Box: Tipo de Implantação de Auto
				Resource Id: 4998
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left: 0.588"
					Top: 1.99"
					Width:  2.95"
					Width Editable? Yes
					Height: 0.5"
					Height Editable? Yes
				Visible? Yes
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Data Field: dfsEntradaDeAuto
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000100 00000000
.enddata
.data CLASSPROPSSIZE
0000: 1400
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1DataField
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: Class Default
					Data Type: String
					Editable? Class Default
				Display Settings
					Window Location and Size
						Left: 0.4"
						Top: 4.292"
						Width:  0.288"
						Width Editable? Class Default
						Height: 0.25"
						Height Editable? Class Default
					Visible? Class Default
					Border? Class Default
					Justify: Class Default
					Format: Class Default
					Country: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Input Mask: Class Default
				Message Actions
					On SAM_Create
						Set _sNroCamposIgnorados = 'NENHUM'
						Set _sTextoStatusBar = 'Tipo de Implantação de Auto'
						Set _sNomeParaMsgs = 'Tipo de Implantação de Auto'
						Set _bNuncaHabilitado = FALSE
						Set _bPermiteNulos = FALSE
						Set _sMsgNulo = 'Tipo de Implantação de Auto'
						Set _bSempreHabilitado = FALSE
						Set _bVisivel = FALSE
						! Set _sValorDefault = 'A'
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
		Functions
			Function: fSelecionaTipoEquipamento
				Description:
				Returns
				Parameters
				Static Variables
				Local variables
				Actions
					If sTipoEquipamento = 'L'
						Call SalListSelectString( cmbTipoEquipamento, 0, 'LOMBADA ELETRÔNICA' )
					Else
						If sTipoEquipamento = 'R'
							Call SalListSelectString( cmbTipoEquipamento, 0, 'RADAR' )
						Else
							If sTipoEquipamento = 'F'
								Call SalListSelectString( cmbTipoEquipamento, 0, 'FOTOSENSORES' )
							Else
								If sTipoEquipamento = 'I'
									Call SalListSelectString( cmbTipoEquipamento, 0, 'AGENTES COM TALÃO ELETRÔNICO' )
								Else
									Call SalListSelectString( cmbTipoEquipamento, 0, 'AGENTES COM TALÃO PAPEL' )
		Window Parameters
		Window Variables
			String: sTipoEquipamento
			String: sEntradaDeAuto
			Sql Handle: hSqlRegraRepasse
			Date/Time: dtDataVigenciaRetorno
			String: sCodCidadeAux
			Number: nCodCidadeAux
			Number: nValorRepasseRen		!!---- [faml] 04/05/2016
			Number: nValorRepasseInfLeveRen	!!---- [faml] 04/05/2016
		Message Actions
			On SAM_Create
				Set _sNomeBD = ''
				Set _sPwdUsuario = ''
				Set _sTextoStatusBar = 'Tela de cadastro dos órgãos autuantes'
				Set _bCriacaoConexaoAuxiliar = FALSE
				Set _bLimpaTelaAposRemocao = TRUE
				Set _bLimpaTelaAposInclusao = FALSE
				! Set dfsEntradaDeAuto = "A"
				Set _sComandoAtualizacao = 'exec dbinfracao..AgenteEquipU  
						@Cod = :frmAgenteEquip.dfnCod,  
						@Descricao = :frmAgenteEquip.dfsDescricao,' ||' 
						@DesSintetica = :frmAgenteEquip.dfsDescSintetica, 
						@FaixaAR = 1, 
						@OrgaoAutuante = :frmAgenteEquip.dfnOrgao,'||' 
						@EntradaDeAuto=:frmAgenteEquip.dfsEntradaDeAuto, 
						@TipoAgenteEquip=:frmAgenteEquip.sTipoEquipamento,
						@DescricaoOrgaoNotif =:frmAgenteEquip.dfsDescOrgaoNotif'
				Set _sComandoInclusao = 'exec dbinfracao..AgenteEquipI  @Cod = :frmAgenteEquip.dfnCod,  @Descricao = :frmAgenteEquip.dfsDescricao,' ||
						' @DesSintetica = :frmAgenteEquip.dfsDescSintetica, @FaixaAR = 1, @OrgaoAutuante = :frmAgenteEquip.dfnOrgao,'||
						' @EntradaDeAuto=:frmAgenteEquip.dfsEntradaDeAuto,@TipoAgenteEquip=:frmAgenteEquip.sTipoEquipamento,@DescricaoOrgaoNotif =:frmAgenteEquip.dfsDescOrgaoNotif'
				Set _sComandoRemocao = 'exec dbinfracao..AgenteEquipD  @Cod = :frmAgenteEquip.dfnCod,@OrgaoAutuante = :frmAgenteEquip.dfnOrgao'
				Set _sComandoPesquisa = 'exec dbinfracao..AgenteEquipS @Cod = :frmAgenteEquip.dfnCod,@OrgaoAutuante = :frmAgenteEquip.dfnOrgao'
				Set _sListaINTOAtualizacao = ''
				Set _sListaINTOInclusao = ':frmAgenteEquip.dfnCod'
				Set _sListaINTORemocao = ''
				Set _sListaINTOPesquisa = 
						':frmAgenteEquip.dfnCod,  
						:frmAgenteEquip.dfsDescricao, 
						:frmAgenteEquip.dfsDescSintetica,
						:frmAgenteEquip.dfnFaixaAR, 
						:frmAgenteEquip.dfnOrgao, 
						:frmAgenteEquip.dfsOrgao,
						:frmAgenteEquip.dfsEntradaDeAuto,
						:frmAgenteEquip.sTipoEquipamento,
						:frmAgenteEquip.dfsDescOrgaoNotif'
				Set _nEstadoInicialForm = 1
				Set _bLimpaTelaAposAtualizacao = FALSE
				Set _sCriacaoConexao = 'Default'
				Set _sIdUsuario = ''
				Call SalSendClassMessage( SAM_Create, wParam, lParam )
				Call SalCenterWindow ( hWndForm )
				! Call SalDisableWindow( mdipbOrgAut )
			On SAM_Destroy
				Call SalSendClassMessage( SAM_Destroy, wParam, lParam )
				! Call SalEnableWindow( mdipbOrgAut )
			On UDM_AposAtualizacao
				Call SalDisableWindow( pbAnterior )
				Call SalDisableWindow( pbProximo )
				Call SalDisableWindow( dfnCod )
				Return SalSendClassMessage( UDM_AposAtualizacao, wParam, lParam )
			On UDM_AntesInclusao
				If cmbTipoEquipamento='LOMBADA ELETRÔNICA'
					Set sTipoEquipamento = 'L'
				Else
					If cmbTipoEquipamento= 'RADAR'  
						Set sTipoEquipamento = 'R'
					Else
						If cmbTipoEquipamento='FOTOSENSORES'  
							Set sTipoEquipamento = 'F'
						Else
							If cmbTipoEquipamento='AGENTES COM TALÃO ELETRÔNICO'
								Set sTipoEquipamento = 'I'
							Else
								Set sTipoEquipamento = 'D'
				Return SalSendClassMessage( UDM_AntesInclusao, wParam, lParam )
			On UDM_AntesAtualizacao
				If cmbTipoEquipamento='LOMBADA ELETRÔNICA'
					Set sTipoEquipamento = 'L'
				Else
					If cmbTipoEquipamento= 'RADAR'  
						Set sTipoEquipamento = 'R'
					Else
						If cmbTipoEquipamento='FOTOSENSORES'  
							Set sTipoEquipamento = 'F'
						Else
							If cmbTipoEquipamento='AGENTES COM TALÃO ELETRÔNICO'
								Set sTipoEquipamento = 'I'
							Else
								Set sTipoEquipamento = 'D'
				Return SalSendClassMessage( UDM_AntesInclusao, wParam, lParam )
			On UDM_AposInclusao
				Call SalDisableWindow( dfnCod )
				Call SalPostMsg( rbDigitacao, MSG_Desabilita1, 0, 0 )
				Call SalPostMsg( rbAutomatica, MSG_Desabilita1, 0, 0 )
				If fMPSConnect( hSqlRegraRepasse )
					! ---- [faml] 18-01-2017 - ini
					If dfnOrgao = 117100 or dfnOrgao = 117200 or dfnOrgao = 300 
						Set nCodCidadeAux= NUMBER_Null
					Else
						Set sCodCidadeAux = SalStrMidX ( SalNumberToStrX( dfnOrgao, 0), 1, 4 )
						Set nCodCidadeAux = SalStrToNumber(sCodCidadeAux)
					! -- fim
					If fMPSPrepareProc( hSqlRegraRepasse, 'exec dbarrecadacao..DebitoRepasseInfMunicipioSdata 
											@Municipio= :nCodCidadeAux, 
											@OrgaoAutuante= :dfnOrgao, 
											@Tela = 1', ':dtDataVigenciaRetorno' )
						If SqlExecute( hSqlRegraRepasse )
							Call SqlFetchNext( hSqlRegraRepasse, lParam )
							If lParam = FETCH_Ok
								! --- [faml] 18-01-2017 - ini
								If dtDataVigenciaRetorno != DATETIME_Null
									! --- fim
									!
									! --- [faml] 04/05/2016 - ini
									! --- vai fazer a renovação da regra de repasse incluindo o novo agente equipamento criado
									! --- serm precisar perguntar se o usuário quer fazer essa renovação
									! If SalMessageBox('Deseja renovar o convênio de delegação do município incluindo o novo agente equipamento?', 
													'Atenção', MB_IconQuestion | MB_YesNo) = IDYES
										Call SalModalDialog( dlgAgenteEquipConvDelegacao, hWndMDI,  nCodCidadeAux , dfnOrgao, dtDataVigenciaRetorno, dfnCod)
									!
									! --- [faml] 18-01-2017 - ini
									If nCodCidadeAux = NUMBER_Null 
										Call SalModalDialog( dlgAgenteEquipConvDelegacao, hWndMDI,  nCodCidadeAux , dfnOrgao, dtDataVigenciaRetorno, dfnCod, nValorRepasseRen, nValorRepasseInfLeveRen )
									Else
										! --fim
										! -- buscar atuais valores da regra de repasse
										If fMPSPrepareProc( hSqlRegraRepasse, 'exec dbarrecadacao..DebitoRepasseInfMunicipioValS 
																@Municipio= :nCodCidadeAux, 
																@Tela = 1', 
																':nValorRepasseRen,
																:nValorRepasseInfLeveRen' )
											If SqlExecute( hSqlRegraRepasse )
												Call SqlFetchNext( hSqlRegraRepasse, lParam )
												Call SalModalDialog( dlgAgenteEquipConvDelegacao, hWndMDI,  nCodCidadeAux , dfnOrgao, dtDataVigenciaRetorno, dfnCod, nValorRepasseRen, nValorRepasseInfLeveRen )
												! If lParam = FETCH_Ok
													!
									! --- fim
				Return SalSendClassMessage( UDM_AntesAtualizacao, wParam, lParam )
			On UDM_AposPesquisa
				! Set cmbFaixaAR = SalNumberToStrX( 1, 0 )
				! Call SalPostMsg( rbDigitacao, MSG_Desabilita1, 0, 0 )
				! Call SalPostMsg( rbAutomatica, MSG_Desabilita1, 0, 0 )
				Call SalSendClassMessage( UDM_AposPesquisa, wParam, lParam )
				Call fSelecionaTipoEquipamento()
				Call SalDisableWindow( dfnCod )
				If SalIsNull(frmAgenteEquip.dfsEntradaDeAuto) or frmAgenteEquip.dfsEntradaDeAuto = ''
					Set frmAgenteEquip.dfsEntradaDeAuto = 'A' 
				! Set frmAgenteEquip.dfsEntradaDeAuto = sEntradaDeAuto
			On MSG_Proximo
				Call SalSendClassMessage( MSG_Proximo, wParam, lParam )
				Call fSelecionaTipoEquipamento()
			On MSG_Anterior
				Call SalSendClassMessage( MSG_Anterior, wParam, lParam )
				Call fSelecionaTipoEquipamento()






  