Application Description: Centura SQLWindows Standard Application Template
	Outline Version - 4.0.28
	Design-time Settings
.data VIEWINFO
0000: 6F00000001000000 FFFF01000D004347 5458566965775374 6174650400010000
0020: 0000000000E00000 002C000000020000 0003000000FFFFFF FFFFFFFFFFFCFFFF
0040: FFE9FFFFFFFFFFFF FF000000007C0200 004D010000010000 0001000000010000
0060: 000F4170706C6963 6174696F6E497465 6D02000000075769 6E646F77731D6672
0080: 6D52656C416E616C 697469636F417574 6F41727265636164 61646F
.enddata
		Outline Window State: Normal
		Outline Window Location and Size
.data VIEWINFO
0000: 6600040003002D00 0000000000000000 0000B71E5D0E0500 1D00FFFF4D61696E
0020: 0000000000000000 0000000000000000 0000003B00010000 00000000000000E9
0040: 1E800A00008600FF FF496E7465726E61 6C2046756E637469 6F6E730000000000
0060: 0000000000000000 0000000000003200 0100000000000000 0000E91E800A0000
0080: DF00FFFF56617269 61626C6573000000 0000000000000000 0000000000000000
00A0: 3000010000000000 00000000F51E100D 0000F400FFFF436C 6173736573000000
00C0: 0000000000000000 0000000000000000
.enddata
.data VIEWSIZE
0000: D000
.enddata
			Left: -0.013"
			Top: 0.0"
			Width:  8.013"
			Height: 4.969"
		Options Box Location
.data VIEWINFO
0000: D4180909B80B1A00
.enddata
.data VIEWSIZE
0000: 0800
.enddata
			Visible? No
			Left: 4.15"
			Top: 1.885"
			Width:  3.8"
			Height: 2.073"
		Class Editor Location
			Visible? No
			Left: 0.575"
			Top: 0.094"
			Width:  5.063"
			Height: 2.719"
		Tool Palette Location
			Visible? No
			Left: 6.388"
			Top: 0.729"
		Fully Qualified External References? Yes
		Reject Multiple Window Instances? No
		Enable Runtime Checks Of External References? Yes
		Use Release 4.0 Scope Rules? No
	Libraries
		File Include: detran_funcoes.apl
		File Include: SaidaArquivo.apl
	Global Declarations
		Window Defaults
			Tool Bar
				Display Style? Etched
				Font Name: MS Sans Serif
				Font Size: 8
				Font Enhancement: System Default
				Text Color: System Default
				Background Color: System Default
			Form Window
				Display Style? Etched
				Font Name: System Default
				Font Size: System Default
				Font Enhancement: System Default
				Text Color: System Default
				Background Color: System Default
			Dialog Box
				Display Style? Etched
				Font Name: MS Sans Serif
				Font Size: 8
				Font Enhancement: System Default
				Text Color: System Default
				Background Color: System Default
			Top Level Table Window
				Font Name: MS Sans Serif
				Font Size: 8
				Font Enhancement: System Default
				Text Color: System Default
				Background Color: System Default
			Data Field
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Multiline Field
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Spin Field
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Background Text
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Pushbutton
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
			Radio Button
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Check Box
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Option Button
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
			Group Box
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Child Table Window
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			List Box
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Combo Box
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Line
				Line Color: Use Parent
			Frame
				Border Color: Use Parent
				Background Color: 3D Face Color
			Picture
				Border Color: Use Parent
				Background Color: Use Parent
		Formats
			Number: 0'%'
			Number: #0
			Number: ###000
			Number: ###000;'($'###000')'
			Date/Time: hh:mm:ss AMPM
			Date/Time: M/d/yy
			Date/Time: MM-dd-yy
			Date/Time: dd-MMM-yyyy
			Date/Time: MMM d, yyyy
			Date/Time: MMM d, yyyy hh:mm AMPM
			Date/Time: MMMM d, yyyy hh:mm AMPM
			Input: 999999
		External Functions
		Constants
.data CCDATA
0000: 3000000000000000 0000000000000000 00000000
.enddata
.data CCSIZE
0000: 1400
.enddata
			System
			User
			Enumerations
		Resources
		Variables
.data RESOURCE 0 0 1 2801029132
0000: 2200000013000000 0000000000000000 0200000100000005 020000D019000000
0020: 01FE00FF03
.enddata
		Internal Functions
		Named Menus
		Class Definitions
.data RESOURCE 0 0 1 1443028049
0000: AC030000CA010000 0000000000000000 0200000500FFFF01 00160000436C6173
0020: 73566172004F7574 6C696E6552006567 496E666FC2003C00 000A630051434B31
0040: 47657261006C0202 00001100001E0004 0000C20003000000 FF7F048300190000
0060: 00F001000000FF1F 1D0000AC00190001 FD00FF0736000000 196B000100FFFFC1
0080: 4F00000019DA0001 00FF7F68B0000000 0400F4020000FF1F 6C0000AC00040002
00A0: FD00FF0770000000 046B000200FFFFC1 7400000004DA0002 00FF7F78B0000000
00C0: 0400F60200FF1F7C 0000AC00040002FD 00FF17800000046B 000200FFFFC18400
00E0: 000004DA000200FF 7F88B00000000400 F60200FF1F8C0000 AC00190001FD00FF
0100: 07A5000000196B00 0100FFFFC1BE0000 0004DA000200FF7F 0180803E00000001
0120: 0070000E63514340 6F6E7461696E7220 AA0000000500006F 0400E801020000FF
0140: C18001000000BF04 190019000101FA00 007F80F20100000F 0800000096190001
0160: 00FE00FF83210000 0004B5000200FFFF 60250000001900ED 0100FF3F01806404
0180: 0000020038086351 4D44804922000000 0100DE0004DA0002 00FF7F01CC800400
01A0: 0370000D63514300 6865636B426F7822 A20000010000B704 00F60200FF1F0180
01C0: 0433000400060063 4461646F732200D1 000100005B040002 FB00FF0F
.enddata
		Default Classes
			MDI Window: cBaseMDI
			Form Window:
			Dialog Box:
			Table Window:
			Quest Window:
			Data Field:
			Spin Field:
			Multiline Field:
			Pushbutton:
			Radio Button:
			Option Button:
			Check Box:
			Child Table:
			Quest Child Window: cQuickDatabase
			List Box:
			Combo Box:
			Picture:
			Vertical Scroll Bar:
			Horizontal Scroll Bar:
			Column:
			Background Text:
			Group Box:
			Line:
			Frame:
			Custom Control:
			ActiveX:
		Application Actions
	Form Window: frmRelAnaliticoAutoArrecadado
		Class: cQCK1Form
		Property Template:
		Class DLL Name:
		Title: Relatório Analítico de Autos Arrecadados
		Icon File:
		Accessories Enabled? Class Default
		Visible? Class Default
		Display Settings
			Display Style? Class Default
			Visible at Design time? No
			Automatically Created at Runtime? Class Default
			Initial State: Normal
			Maximizable? Class Default
			Minimizable? Class Default
			System Menu? Class Default
			Resizable? Class Default
			Window Location and Size
				Left: 8.8"
				Top: 2.594"
				Width:  7.05"
				Width Editable? Class Default
				Height: 2.323"
				Height Editable? Class Default
			Form Size
				Width:  Class Default
				Height: Class Default
				Number of Pages: Class Default
			Font Name: Class Default
			Font Size: Class Default
			Font Enhancement: Class Default
			Text Color: Class Default
			Background Color: Class Default
		Description: -------------------------------------------------------------------------------------------------------------------------------------------------------
				Função      : Tela de emissão do relatório analítico de autos arrecadados
				Autor-Data: [faml] Flávio Lago SPRINT JULHO/2016 #1369 Criar relatório analítico de autos arrecadados
				-------------------------------------------------------------------------------------------------------------------------------------------------------
		Named Menus
		Menu
		Tool Bar
			Display Settings
				Display Style? Class Default
				Location? Class Default
				Visible? Class Default
				Size: Class Default
				Size Editable? Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Text Color: Class Default
				Background Color: Class Default
			Contents
		Contents
			Frame
				Resource Id: 36383
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left: 0.088"
					Top: 0.031"
					Width:  6.6"
					Width Editable? Yes
					Height: 1.542"
					Height Editable? Yes
				Visible? Yes
				Corners: Square
				Border Style: Solid
				Border Thickness: 1
				Border Color: Default
				Background Color: 3D Face Color
			! --- campos da tela
			Background Text: Órgão Autuante:
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 74616253656C65E7 E36F0000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
				Resource Id: 36379
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1BackgroundText
				Window Location and Size
					Left: 0.288"
					Top: 0.219"
					Width:  1.4"
					Width Editable? Class Default
					Height: 0.167"
					Height Editable? Class Default
				Visible? Yes
				Justify: Right
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Text Color: Class Default
				Background Color: Class Default
			Data Field: dfnOrgaoAutuante
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 74616253656C65E7 E36F0000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1DataField
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: 10
					Data Type: Number
					Editable? Class Default
				Display Settings
					Window Location and Size
						Left: 1.738"
						Top: 0.115"
						Width:  1.0"
						Width Editable? Class Default
						Height: 0.25"
						Height Editable? Class Default
					Visible? Yes
					Border? Class Default
					Justify: Right
					Format: #0
					Country: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Input Mask: 999999
				Message Actions
					On SAM_Create
						Set _sTextoStatusBar = 'Órgão Autuante'
						Set _sNomeParaMsgs = 'Órgão Autuante'
						!
						Set _bVisivel = TRUE
						Set _bSempreHabilitado = TRUE
						! Set _bComponenteChave = TRUE
						! Set _bDisparaConsultaEmValidate = TRUE
						! Set _bCompChaveOpcionalParaPesquisa = TRUE
						! Set _bCompChaveGeradoPeloSistema = TRUE
						! --- busca instântanea [F2]
						Set _sConsultaFrmOpcoesSQLOuSP = 'SP'
						Set _sConsultaFrmOpcoesCampo = 'Exec dbarrecadacao..OrgaoAutuadorS @UF=PE'
						Set _sConsultaFrmOpcoesColunaOuParam = '@Descricao'
						! Set _sValorDefault = '0'
						!
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			Data Field: dfsOrgaoAutuante
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 74616253656C65E7 E36F0000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1DataField
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: Class Default
					Data Type: Class Default
					Editable? Class Default
				Display Settings
					Window Location and Size
						Left: 2.788"
						Top: 0.115"
						Width:  3.7"
						Width Editable? Class Default
						Height: 0.25"
						Height Editable? Class Default
					Visible? Yes
					Border? Class Default
					Justify: Class Default
					Format: Uppercase
					Country: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Input Mask: Class Default
				Message Actions
					On SAM_Create
						Set _sNomeParaMsgs = 'Descrição'
						Set _sTextoStatusBar = 'Descrição do Órgão Autuante'
						Set _bVisivel = TRUE
						Set _bÉCampoDescrição = TRUE
						Set _bNuncaHabilitado = TRUE
						Set _bPermiteNulos = TRUE
						! -- exibição da busca instântanea [F2]
						Set _bÉDependente = TRUE
						Set _sCamposResponsaveis[0] = 'dfnOrgaoAutuante'
						Set _sConsultaDescrição = 'Exec dbinfracao..OrgaoAutuanteS_desc_Con @Cod= :frmRelAnaliticoAutoArrecadado.dfnOrgaoAutuante'
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			Background Text: Placa:
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 74616253656C65E7 E36F0000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
				Resource Id: 36384
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1BackgroundText
				Window Location and Size
					Left: 0.388"
					Top: 0.51"
					Width:  0.6"
					Width Editable? Class Default
					Height: 0.167"
					Height Editable? Class Default
				Visible? Yes
				Justify: Right
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Text Color: Class Default
				Background Color: Class Default
			Data Field: dfsPlaca
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 74616253656C65E7 E36F0000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1DataField
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: 7
					Data Type: Class Default
					Editable? Class Default
				Display Settings
					Window Location and Size
						Left: 1.738"
						Top: 0.49"
						Width:  1.0"
						Width Editable? Class Default
						Height: 0.25"
						Height Editable? Class Default
					Visible? Yes
					Border? Class Default
					Justify: Right
					Format: Uppercase
					Country: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Input Mask: Class Default
				Message Actions
					On SAM_Create
						Set _sMsgValidacao = 'Placa'
						Set _sTextoStatusBar = 'Placa'
						Set _sNomeParaMsgs =  'Placa'
						Set _bVisivel = TRUE
						Set _bPermiteNulos = TRUE
						Set _bSempreHabilitado = TRUE
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			Group Box: Período 
				Resource Id: 29897
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left: 0.288"
					Top: 0.781"
					Width:  2.7"
					Width Editable? Yes
					Height: 0.708"
					Height Editable? Yes
				Visible? Yes
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Data Field: dfdDataIni
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1DataField
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: 20
					Data Type: Date/Time
					Editable? Class Default
				Display Settings
					Window Location and Size
						Left: 0.388"
						Top: 1.052"
						Width:  1.0"
						Width Editable? Class Default
						Height: 0.25"
						Height Editable? Class Default
					Visible? Class Default
					Border? Class Default
					Justify: Right
					Format: dd/MM/yyyy
					Country: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Input Mask: 99-99-9999
				Message Actions
					On SAM_Create
						Set _sTextoStatusBar = 'Data Incial'
						!
						Set _bVisivel = TRUE
						Set _bSempreHabilitado = TRUE
						!
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			Background Text: a
				Resource Id: 29896
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left: 1.513"
					Top: 1.073"
					Width:  0.113"
					Width Editable? Yes
					Height: 0.167"
					Height Editable? Yes
				Visible? Yes
				Justify: Right
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Data Field: dfdDataFim
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1DataField
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: 10
					Data Type: Date/Time
					Editable? Class Default
				Display Settings
					Window Location and Size
						Left: 1.788"
						Top: 1.052"
						Width:  1.0"
						Width Editable? Class Default
						Height: 0.25"
						Height Editable? Class Default
					Visible? Class Default
					Border? Class Default
					Justify: Right
					Format: dd/MM/yyyy
					Country: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Input Mask: 99-99-9999
				Message Actions
					On SAM_Create
						Set _sTextoStatusBar = 'Data final'
						!
						Set _bVisivel = TRUE
						Set _bSempreHabilitado = TRUE
						!
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			! ---- botões
			Group Box: Saída 
				Resource Id: 36382
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left: 3.138"
					Top: 0.74"
					Width:  3.35"
					Width Editable? Yes
					Height: 0.75"
					Height Editable? Yes
				Visible? Yes
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Data Field: dfsSaida
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1DataField
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: Class Default
					Data Type: Class Default
					Editable? Class Default
				Display Settings
					Window Location and Size
						Left: 0.738"
						Top: 1.615"
						Width:  0.25"
						Width Editable? Class Default
						Height: 0.25"
						Height Editable? Class Default
					Visible? Class Default
					Border? Class Default
					Justify: Class Default
					Format: Class Default
					Country: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
					Input Mask: Class Default
				Message Actions
					On SAM_Create
						Set _bVisivel = FALSE
						Set _sValorDefault = 'T'
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			Radio Button: rbArquivo
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1RadioButton
				Property Template:
				Class DLL Name:
				Title: &Arquivo
				Window Location and Size
					Left: 3.288"
					Top: 1.031"
					Width:  0.9"
					Width Editable? Class Default
					Height: 0.25"
					Height Editable? Class Default
				Visible? Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Create
						Set _sValorCampoFonte = 'A'
						Set _sNomeCampoFonte = 'dfsSaida'
						Set _sTextoStatusBar = 'Saída do relatório em arquivo'
						!
						Set _bVisivel = TRUE
						Set _bSempreHabilitado = TRUE
						Set _bRadioButtonDefault = FALSE
						! Variáveis para Check Box
						Set rbTela= 0
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
					On SAM_Click
						Call SalSendClassMessage( SAM_Click, wParam, lParam )
						Call SalDisableWindow( pbConfigurar )
						Set dfsSaida = 'A'
			Radio Button: rbImpressora
.data CLASSPROPSSIZE
0000: 1D00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000C00 746162496D707269 6D69720000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1RadioButton
				Property Template:
				Class DLL Name:
				Title: Impressora
				Window Location and Size
					Left: 4.288"
					Top: 1.031"
					Width:  1.15"
					Width Editable? Class Default
					Height: 0.25"
					Height Editable? Class Default
				Visible? Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Create
						Set _sValorCampoFonte = 'I'
						Set _sNomeCampoFonte = 'dfsSaida'
						Set _sTextoStatusBar = 'Saída do relatório na impressora'
						!
						Set _bVisivel = TRUE
						Set _bSempreHabilitado = TRUE
						Set _bRadioButtonDefault = TRUE
						! Variáveis para Check Box
						Set rbImpressora = 0
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
					On SAM_Click
						Call SalSendClassMessage( SAM_Click, wParam, lParam )
						Call SalEnableWindow( pbConfigurar )
						Set dfsSaida = 'I'
			Radio Button: rbTela
.data CLASSPROPSSIZE
0000: 1D00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000C00 746162496D707269 6D69720000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1RadioButton
				Property Template:
				Class DLL Name:
				Title: Tela
				Window Location and Size
					Left: 5.588"
					Top: 1.031"
					Width:  0.7"
					Width Editable? Class Default
					Height: 0.25"
					Height Editable? Class Default
				Visible? Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Create
						Set _sValorCampoFonte = 'T'
						Set _sNomeCampoFonte = 'dfsSaida'
						Set _sTextoStatusBar = 'Saída do relatório na tela'
						!
						Set _bVisivel = TRUE
						Set _bSempreHabilitado = TRUE
						! Variáveis para Check Box
						Set rbTela = 0
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
					On SAM_Click
						Call SalSendClassMessage( SAM_Click, wParam, lParam )
						Call SalDisableWindow( pbConfigurar )
						Set dfsSaida = 'T'
			Pushbutton: pbImprimir
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1PushButton
				Property Template:
				Class DLL Name:
				Title: Im&primir
				Window Location and Size
					Left: 1.938"
					Top: 1.615"
					Width:  1.15"
					Width Editable? Class Default
					Height: Class Default
					Height Editable? Class Default
				Visible? Class Default
				Keyboard Accelerator: Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Picture File Name:
				Picture Transparent Color: Class Default
				Image Style: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Create
						Set _sTextoStatusBar = 'Imprime o relatório'
						Set _nPermissao = 15
						Set _sTipoComando = 'Comum'
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
					On SAM_Click
						!
						! -- validar dados
						!
						If SalIsNull( dfnOrgaoAutuante )
							Call SalMessageBeep( MB_IconExclamation )
							Call SalMessageBox( 'Informe o Órgão Autuante!', 'Atenção', MB_IconExclamation | MB_Ok )
							Call SalSetFocus( dfnOrgaoAutuante )
							Return FALSE
						If SalIsNull( dfdDataIni ) or SalIsNull( dfdDataFim )
							Call SalMessageBeep( MB_IconExclamation )
							Call SalMessageBox( 'Informe o período de datas (inicial e final)!', 'Atenção', MB_IconExclamation | MB_Ok )
							If SalIsNull( dfdDataIni )
								Call SalSetFocus( dfdDataIni )
							Else
								Call SalSetFocus( dfdDataFim )
							!
							Return FALSE
						If dfdDataIni > dfdDataFim
							Call SalMessageBeep( MB_IconExclamation )
							Call SalMessageBox( 'Data inicial está maior que final!' , 'Atenção', MB_IconExclamation | MB_Ok )
							Call SalSetFocus( dfdDataIni )
							Return FALSE
						!
						If hWndReport != hWndNULL
							Call SalSendMsg( hWndReport, SAM_Close, 0,0)
						!
						!
						! --- SE NÃO TIVER raiserror NA ROTINA DO RELATÓRIO, DEVE-SE USAR O SqlGetResultSetCount ( hSql, nCount ) 
						! --- PARA SABER SE HÁ DADOS A SEREM IMPRESSOS. NESSE CASO, A EXECUÇÃO DA ROTINA DO RELATÓRIO 
						! --- DEVE SER FEITA NO On SAM_ReportFetchInit
						! ----
						! --- SE TIVER O raiserror NA ROTINA DO RELATÓRIO, NÃO DEVE TER NENHUM CÓDIGO NO On SAM_ReportFetchInit
						! --- E A EXECUÇÃO DA ROTINA DO RELATÓRIO É FEITA AQUI NO BOTÃO IMPRIMIR CONFORME ABAIXO
						!
						If fMPSConnect( hSql )
							If fMPSPrepareProc( hSql, 'Exec dbinfracao..RelAnaliticoAutosArrecadados
										@OrgaoAutuante 	= :frmRelAnaliticoAutoArrecadado.dfnOrgaoAutuante,
										@DataIni 	= :frmRelAnaliticoAutoArrecadado.dfdDataIni,
										@DataFim 	= :frmRelAnaliticoAutoArrecadado.dfdDataFim,
										@Placa		= :frmRelAnaliticoAutoArrecadado.dfsPlaca' ,
										':frmRelAnaliticoAutoArrecadado.dDataPagamento,
										:frmRelAnaliticoAutoArrecadado.sPlaca,
										:frmRelAnaliticoAutoArrecadado.sDescTipoDebito,
										:frmRelAnaliticoAutoArrecadado.nExercicio,
										:frmRelAnaliticoAutoArrecadado.nInfracao,
										:frmRelAnaliticoAutoArrecadado.sSerie,
										:frmRelAnaliticoAutoArrecadado.nAuto,
										:frmRelAnaliticoAutoArrecadado.sDescMovimentoBaixa,
										:frmRelAnaliticoAutoArrecadado.nValorPago,
										:frmRelAnaliticoAutoArrecadado.dVigenciaRepasse' )
								If NOT SqlExecute( hSql )
									If hWndReport != hWndNULL
										Call SalSendMsg( hWndReport, SAM_Close, 0,0)
									!
									Call fMPSDisconnect( hSql )
									Call SalWaitCursor( FALSE )
									Return FALSE
								!
							!
							! ! Return SqlExecute( hSql )
						!
						! --- saída do relatório
						!
						If dfsSaida = 'A'
							Call fGerarArquivo()
							!
						If dfsSaida = 'I'
							Call SalReportPrint( hWndForm, 'RelAnaliticoAutoArrecadado.qrp',
										'sGlobalSecretaria, sGlobalDetran, nGlobalSetor, sGlobalSetor, SqlUser, dDataCorrente,
										dfnOrgaoAutuante, dfsOrgaoAutuante, dfdDataIni,dfdDataFim, dDataPagamento, sPlaca, sDescTipoDebito, 
										nExercicio, nInfracao,sSerie, nAuto, sDescMovimentoBaixa, nValorPago, dVigenciaRepasse' ,
										'Secretaria,Detran,Setor,NomeSetor,Usuario, DataCorrente,
										nOrgaoAutuante, sDescOrgaoAutuante, dDataIni, dDataFim, dDataPagamento, sPlaca, sDescTipoDebito, 
										nExercicio, nInfracao,sSerie, nAuto, sDescMovimentoBaixa, nValorPago, dVigenciaRepasse' , 
									 	1, RPT_PrintAll, 0, 0, nErro )
							!
							! Set hWndReport = SalReportPrint( hWndForm, 'RelAnaliticoAutoArrecadado.qrp',
										'sGlobalSecretaria, sGlobalDetran, nGlobalSetor, sGlobalSetor, SqlUser, dDataCorrente,
										dfnOrgaoAutuante, dfsOrgaoAutuante, dfdDataIni,dfdDataFim, dDataPagamento, sPlaca, sDescTipoDebito, 
										nExercicio, nInfracao,sSerie, nAuto, sDescMovimentoBaixa, nValorPago, dVigenciaRepasse' ,
										'Secretaria,Detran,Setor,NomeSetor,Usuario, DataCorrente,
										nOrgaoAutuante, sDescOrgaoAutuante, dDataIni, dDataFim, dDataPagamento, sPlaca, sDescTipoDebito, 
										nExercicio, nInfracao,sSerie, nAuto, sDescMovimentoBaixa, nValorPago, dVigenciaRepasse' , 
									 	1, RPT_PrintAll, 0, 0, nErro )
						If dfsSaida = 'T'
							Set hWndReport = SalCreateWindow( frmReportView, hWndForm )
							Call SalSetWindowText( hWndReport, 'Relatório Analítico de Autos Arrecadados' )
							!
							Call SalReportView( hWndForm, hWndReport, 'RelAnaliticoAutoArrecadado.qrp',
										'sGlobalSecretaria, sGlobalDetran, nGlobalSetor, sGlobalSetor, SqlUser, dDataCorrente,
										dfnOrgaoAutuante, dfsOrgaoAutuante, dfdDataIni,dfdDataFim, dDataPagamento, sPlaca, sDescTipoDebito, 
										nExercicio, nInfracao, sSerie, nAuto, sDescMovimentoBaixa, nValorPago, dVigenciaRepasse' ,
										'Secretaria,Detran,Setor,NomeSetor,Usuario, DataCorrente,
										nOrgaoAutuante, sDescOrgaoAutuante, dDataIni, dDataFim, dDataPagamento, sPlaca, sDescTipoDebito, 
										nExercicio, nInfracao, sSerie, nAuto, sDescMovimentoBaixa, nValorPago, dVigenciaRepasse' , 
									 	nErro )
							!
			Pushbutton: pbLimpar
.data CLASSPROPSSIZE
0000: 2800
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573001500 7461625065737175 6973610974616244
0020: 61646F7300000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1PushButton
				Property Template:
				Class DLL Name:
				Title: Limpar
				Window Location and Size
					Left: 4.338"
					Top: 1.615"
					Width:  1.15"
					Width Editable? Class Default
					Height: 0.25"
					Height Editable? Class Default
				Visible? Class Default
				Keyboard Accelerator: Class Default
				Font Name: Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Picture File Name:
				Picture Transparent Color: Class Default
				Image Style: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Create
						Set _sTextoStatusBar = 'Limpa os dados da tela'
						Set _sTipoComando = 'Limpa'
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
					On SAM_Click
						Call SalSendClassMessage( SAM_Click, wParam, lParam )
						!
						Set rbImpressora = 1
						Set rbArquivo = 0
						Set rbTela = 0
						Set dfsSaida = 'I'
						If hWndReport != hWndNULL
							Call SalSendMsg( hWndReport, SAM_Close, 0,0)
			Pushbutton: pbConfigurar
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1PushButton
				Property Template:
				Class DLL Name:
				Title: Con&figurar
				Window Location and Size
					Left: 3.138"
					Top: 1.615"
					Width:  1.15"
					Width Editable? Class Default
					Height: Class Default
					Height Editable? Class Default
				Visible? Class Default
				Keyboard Accelerator: Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Picture File Name:
				Picture Transparent Color: Class Default
				Image Style: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Create
						Set _sTextoStatusBar = 'Configuração de impressoras'
						Set _nPermissao = EF_RegistroExistente | EF_PesquisaHabilitada | EF_Vazio
						Set _sTipoComando = 'Comum'
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
					On SAM_Click
						Call SalPrtGetDefault( sDeviceDef, sDriverDef, sPortaDef )
						Call SalPrtSetup(sDevice,sDriver,sPorta,FALSE)
			Pushbutton: pbSair
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class: cQCK1PushButton
				Property Template:
				Class DLL Name:
				Title: &Sair
				Window Location and Size
					Left: 5.538"
					Top: 1.615"
					Width:  1.15"
					Width Editable? Class Default
					Height: Class Default
					Height Editable? Class Default
				Visible? Class Default
				Keyboard Accelerator: Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Picture File Name:
				Picture Transparent Color: Class Default
				Image Style: Class Default
				Text Color: Class Default
				Background Color: Class Default
				Message Actions
					On SAM_Create
						Set _sTextoStatusBar = 'Sai desta tela'
						Set _sTipoComando = 'Sai'
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
			!
			Picture: picSemaforo
				Class Child Ref Key: 1
				Class ChildKey: 0
				Class: cQCK1Form
				Property Template:
				Class DLL Name:
				Window Location and Size
					Left: 0.338"
					Top: 1.656"
					Width:  Class Default
					Width Editable? Class Default
					Height: Class Default
					Height Editable? Class Default
				Visible? Class Default
				Editable? Class Default
				File Name:
				Storage: Class Default
				Picture Transparent Color: Class Default
				Fit: Class Default
				Scaling
					Width:  Class Default
					Height:  Class Default
				Corners: Class Default
				Border Style: Class Default
				Border Thickness: Class Default
				Tile To Parent? Class Default
				Border Color: Class Default
				Background Color: Class Default
				Message Actions
		Functions
			Function: fGerarArquivo
				Description: Exportar o relatorio em arquivo txt.
				Returns
				Parameters
				Static Variables
				Local variables
					!
					FunctionalVar: oArquivo
						Class: cArquivo
					Sql Handle: hSqlArquivo
					!
				Actions
					Call SalWaitCursor( TRUE )
					If fMPSConnect(  hSqlArquivo )
						If fMPSPrepareProc( hSqlArquivo, 'Exec dbinfracao..RelAnaliticoAutosArrecadados
									@OrgaoAutuante 	= :frmRelAnaliticoAutoArrecadado.dfnOrgaoAutuante,
									@DataIni 	= :frmRelAnaliticoAutoArrecadado.dfdDataIni,
									@DataFim 	= :frmRelAnaliticoAutoArrecadado.dfdDataFim,
									@Placa		= :frmRelAnaliticoAutoArrecadado.dfsPlaca' ,
									':frmRelAnaliticoAutoArrecadado.dDataPagamento,
									:frmRelAnaliticoAutoArrecadado.sPlaca,
									:frmRelAnaliticoAutoArrecadado.sDescTipoDebito,
									:frmRelAnaliticoAutoArrecadado.nExercicio,
									:frmRelAnaliticoAutoArrecadado.nInfracao,
									:frmRelAnaliticoAutoArrecadado.sSerie,
									:frmRelAnaliticoAutoArrecadado.nAuto,
									:frmRelAnaliticoAutoArrecadado.sDescMovimentoBaixa,
									:frmRelAnaliticoAutoArrecadado.nValorPago,
									:frmRelAnaliticoAutoArrecadado.dVigenciaRepasse' )
							If SqlExecute( hSqlArquivo )
								Call oArquivo.IniciaLinha(  )
								Call oArquivo.NovaLinha(  )
								Call oArquivo.AddDate( dDataPagamento, 'DataPagamento' )
								Call oArquivo.AddStr( sPlaca , 'Placa' )
								Call oArquivo.AddStr( sDescTipoDebito, 'TipoDebito' )
								Call oArquivo.AddNumber( nExercicio, 0, 'Exercicio' )
								Call oArquivo.AddNumber( nInfracao, 0, 'Infracao' )
								Call oArquivo.AddStr( sSerie, 'Serie' )
								Call oArquivo.AddNumber( nAuto, 0, 'Auto' )
								Call oArquivo.AddStr( sDescMovimentoBaixa, 'Movimento de Baixa' )
								Call oArquivo.AddNumber( nValorPago, 2, 'Valor Pago' )
								If dVigenciaRepasse = DATETIME_Null
									Call oArquivo.AddStr( '       ' , 'Vigencia Repasse' )
								Else
									Call oArquivo.AddDate( dVigenciaRepasse, 'Vigencia Repasse' )
								!
								While SqlFetchNext( hSqlArquivo, lParam )
									Call oArquivo.NovaLinha(  )
									Call oArquivo.AddDate( dDataPagamento, 'DataPagamento' )
									Call oArquivo.AddStr( sPlaca , 'Placa' )
									Call oArquivo.AddStr( sDescTipoDebito, 'TipoDebito' )
									Call oArquivo.AddNumber( nExercicio, 0, 'Exercicio' )
									Call oArquivo.AddNumber( nInfracao, 0, 'Infracao' )
									Call oArquivo.AddStr( sSerie, 'Serie' )
									Call oArquivo.AddNumber( nAuto, 0, 'Auto' )
									Call oArquivo.AddStr( sDescMovimentoBaixa, 'MovimentoBaixa' )
									Call oArquivo.AddNumber( nValorPago, 2, 'Valor Pago' )
									If dVigenciaRepasse = DATETIME_Null
										Call oArquivo.AddStr( '       ' , 'Vigencia Repasse' )
									Else
										Call oArquivo.AddDate( dVigenciaRepasse, 'Vigencia Repasse' )
									!
								! ---- fim
								Call oArquivo.GerarArquivo( 'RelAnaliticoAutosArrecadados' )
								!
							!
						!
					Call SalWaitCursor( FALSE )
		Window Parameters
		Window Variables
			! ---- retorno da rotina do relatório
			Date/Time: dDataPagamento
			String: sPlaca
			String: sDescTipoDebito
			Number: nExercicio
			Number: nInfracao
			String: sSerie
			Number: nAuto
			String: sDescMovimentoBaixa
			Number: nValorPago	
			Date/Time: dVigenciaRepasse
			! ---- 'padrão' de relatório
			Sql Handle: hSqlNULL
			Boolean: bAbortaImpressao
			String: sDevice
			String: sDriver
			String: sPorta
			String: sDeviceDef
			String: sDriverDef
			String: sPortaDef
			Window Handle: hWndReport
			Sql Handle: hSql
			Number: nErro
			!
			Boolean: bAux
			Date/Time: dDataCorrente
		Message Actions
			On SAM_Create
				Set _sTextoStatusBar = 'Tela de emissão do relatório analítico de autos arrecadados'
				Set _nEstadoInicialForm = EF_RegistroExistente
				Call SalCenterWindow( hWndForm )
				Call SalEnableWindow( pbLimpar)
				Call SalSendClassMessage( SAM_Create, wParam, lParam )
			On SAM_CreateComplete
				Set rbImpressora = 1
				Set rbArquivo = 0
				Set rbTela = 0
				Set dfsSaida = 'I'
				Call SqlImmediate( 'select getdate() into :dDataCorrente' )
				! Call SalSendMsg( rbTela,SAM_Click,wParam,lParam)
			On SAM_Destroy
				If hWndReport != hWndNULL
					Call SalSendMsg( hWndReport, SAM_Close, 0,0)
				Call SalSendClassMessage( SAM_Destroy, wParam, lParam )
			! -- relatório
			On SAM_ReportStart
				Call SalReportDlgOptions( SalNumberToWindowHandle( wParam ), 'Impressão', 'Imprimindo', 'Relatório Analítico de Autos Arrecadados', 'Relatório Analítico de Autos Arrecadados')
				Return TRUE
			On SAM_ReportFetchInit
				! If fMPSConnect( hSql )
					If fMPSPrepareProc( hSql, 'Exec dbinfracao..RelAnaliticoAutosArrecadados
								@OrgaoAutuante 	= :frmRelAnaliticoAutoArrecadado.dfnOrgaoAutuante,
								@DataIni 	= :frmRelAnaliticoAutoArrecadado.dfdDataIni,
								@DataFim 	= :frmRelAnaliticoAutoArrecadado.dfdDataFim,
								@Placa		= :frmRelAnaliticoAutoArrecadado.dfsPlaca' ,
								':frmRelAnaliticoAutoArrecadado.dDataPagamento,
								:frmRelAnaliticoAutoArrecadado.sPlaca,
								:frmRelAnaliticoAutoArrecadado.sDescTipoDebito,
								:frmRelAnaliticoAutoArrecadado.nExercicio,
								:frmRelAnaliticoAutoArrecadado.nInfracao,
								:frmRelAnaliticoAutoArrecadado.sSerie,
								:frmRelAnaliticoAutoArrecadado.nAuto,
								:frmRelAnaliticoAutoArrecadado.sDescMovimentoBaixa,
								:frmRelAnaliticoAutoArrecadado.nValorPago,
								:frmRelAnaliticoAutoArrecadado.dVigenciaRepasse' )
						If NOT SqlExecute( hSql )
							If hWndReport != hWndNULL
								Call SalSendMsg( hWndReport, SAM_Close, 0,0)
							!
							Call fMPSDisconnect( hSql )
							Call SalWaitCursor( FALSE )
							Return FALSE
						!
					!
					Return SqlExecute( hSql )
			On SAM_ReportFetchNext
				If SqlFetchNext( hSql, lParam )
					Return TRUE
				Else
					Call fMPSDisconnect( hSql )
					Call SalWaitCursor( FALSE )
					Return FALSE
			On SAM_ReportFinish
				Call SalPrtSetDefault(sDeviceDef,sDriverDef,sPortaDef)
				If hSql != hSqlNULL
					Call SalWaitCursor(TRUE)
					While SqlFetchNext( hSql, lParam ) = TRUE
						Call SalWaitCursor(FALSE)
				Return TRUE


  