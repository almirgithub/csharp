Application Description: ---------------------------------------------------------------------------------------------------------------------
		Detran-PE Departamento de Trânsito do estado de Pernambuco
		Sistema de Controle e Registro de Infrações
		---------------------------------------------------------------------------------------------------------------------
		Analista Responsável 	: Adilson Santos
		Versão Liberada na Data	: 02-10-2002
		---------------------------------------------------------------------------------------------------------------------
		Migrado para versão CTD2000 em 19/08/2002 por Fernando Freitas
		---------------------------------------------------------------------------------------------------------------------
.data CLASSPROPSSIZE
0000: 2700
.enddata
.data CLASSPROPS
0000: 4442475F504C4159 4241434B5F475549 440010001F466F46 6172864991303E7E
0020: 42A10E3C000000
.enddata
	Outline Version - 4.0.28
	Design-time Settings
.data VIEWINFO
0000: 6F00000001000000 FFFF01000D004347 5458566965775374 6174650400010000
0020: 0000000000B00000 002C000000020000 0003000000FFFFFF FFFFFFFFFFF8FFFF
0040: FFE2FFFFFF160000 0000000000D40200 007B010000010000 0001000000010000
0060: 000F4170706C6963 6174696F6E497465 6D00000000
.enddata
.data DT_MAKERUNDLG
0000: 0900001000000000 0C496E6672616361 6F2E69636F12456E 76696F5472616E73
0020: 6163616F2E657865 0C494E4652414341 4F2E646C6C0C494E 46524143414F2E61
0040: 7063000001010100 6400000000000000 0001000000000000 000C494E46524143
0060: 414F2E6170640C49 4E46524143414F2E 646C6C0C494E4652 4143414F2E617063
0080: 0000010101006400 00000C494E465241 43414F2E61706C0C 494E46524143414F
00A0: 2E646C6C0C494E46 524143414F2E6170 6300000101010064 0000000C494E4652
00C0: 4143414F2E657865 0C494E4652414341 4F2E646C6C0C494E 46524143414F2E61
00E0: 7063000001010100 640000000C494E46 524143414F2E646C 6C0C494E46524143
0100: 414F2E646C6C0C49 4E46524143414F2E 6170630000010101 00640000000C494E
0120: 46524143414F2E64 6C6C0C494E465241 43414F2E646C6C0C 494E46524143414F
0140: 2E61706300000101 0100640000000000 0000000000000000 0000000000000000
0160: 0000000000000000 0100000001000000 0100010000000000 0000000100001000
0180: 0000000000000000 000000
.enddata
		Outline Window State: Maximized
		Outline Window Location and Size
.data VIEWINFO
0000: 6600070003001B00 0200000000000000 00007920E0140500 1D00FFFF4D61696E
0020: 0032000000000000 001301E5009E2081 0F02000100FFFF6D 6469496E66726163
0040: 616F2E66726D4175 746F496E66726163 616F002D00000000 00000072065F0566
0060: 1FFB1302000100FF FF6D6469496E6672 6163616F2E66726D 43616E63656C6100
0080: 2E00000000000000 3903B002C4224B11 02000100FFFF6D64 69496E6672616361
00A0: 6F2E66726D436F6E 734175746F002E00 0000000000008507 44061027E0140200
00C0: 0100FFFF6D646949 6E66726163616F2E 66726D496E667261 63616F002F000000
00E0: 0000000072065F05 FD25FB1302000100 FFFF6D6469496E66 726163616F2E6672
0100: 6D42616978614175 746F002C00000000 0000004C049503D7 23301202000100FF
0120: FF6D6469496E6672 6163616F2E66726D 41636572746F00
.enddata
.data VIEWSIZE
0000: 3701
.enddata
			Left: -0.013"
			Top: 0.0"
			Width:  8.013"
			Height: 4.969"
		Options Box Location
.data VIEWINFO
0000: D4189806B80B2A00
.enddata
.data VIEWSIZE
0000: 0800
.enddata
			Visible? Yes
			Left: 4.15"
			Top: 1.885"
			Width:  3.8"
			Height: 2.073"
		Class Editor Location
			Visible? No
			Left: 0.2"
			Top: 0.042"
			Width:  5.063"
			Height: 2.719"
		Tool Palette Location
			Visible? No
			Left: 1.5"
			Top: 5.677"
		Fully Qualified External References? No
		Reject Multiple Window Instances? No
		Enable Runtime Checks Of External References? No
		Use Release 4.0 Scope Rules? No
	Libraries
		File Include: vtfile.apl
		File Include: vtstr.apl
		File Include: vtdos.apl
		File Include: vtmeter.apl
		File Include: vtcomdlg.apl
		File Include: vtspin.apl
		File Include: Detran_Consultas.apl
		File Include: vt.apl
		File Include: vtcal.apl
		File Include: vtdebug.apl
		File Include: vtfontnm.apl
		File Include: vtlstvw.apl
		File Include: vtmenu.apl
		File Include: vtmsgbox.apl
		File Include: vtpal.apl
		File Include: vtsplit.apl
		File Include: vtwin.apl
	Global Declarations
		Window Defaults
			Tool Bar
				Display Style? Etched
				Font Name: System Default
				Font Size: System Default
				Font Enhancement: System Default
				Text Color: System Default
				Background Color: System Default
			Form Window
				Display Style? Etched
				Font Name: System Default
				Font Size: System Default
				Font Enhancement: System Default
				Text Color: System Default
				Background Color: System Default
			Dialog Box
				Display Style? Etched
				Font Name: System Default
				Font Size: System Default
				Font Enhancement: System Default
				Text Color: System Default
				Background Color: System Default
			Top Level Table Window
				Font Name: System Default
				Font Size: System Default
				Font Enhancement: System Default
				Text Color: System Default
				Background Color: System Default
			Data Field
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Multiline Field
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Spin Field
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Background Text
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Pushbutton
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
			Radio Button
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Check Box
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Option Button
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
			Group Box
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Child Table Window
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			List Box
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Combo Box
				Font Name: Use Parent
				Font Size: Use Parent
				Font Enhancement: Use Parent
				Text Color: Use Parent
				Background Color: Use Parent
			Line
				Line Color: Use Parent
			Frame
				Border Color: Use Parent
				Background Color: Use Parent
			Picture
				Border Color: Use Parent
				Background Color: Use Parent
		Formats
			Number: 0'%'
			Number: #0
			Number: ###000
			Number: ###000;'($'###000')'
			Date/Time: hh:mm:ss AMPM
			Date/Time: M/d/yy
			Date/Time: MM-dd-yy
			Date/Time: dd-MMM-yyyy
			Date/Time: MMM d, yyyy
			Date/Time: MMM d, yyyy hh:mm AMPM
			Date/Time: MMMM d, yyyy hh:mm AMPM
			Number: 00000000000
			Input: 9999999999-9
			Input: 99999999999-9
			Date/Time: dd-MM-yyyy hh:mm
			Date/Time: hh:mm
			Date/Time: hhhh:mm
			Number: 000000000
			Input: 99999999-9
			Number: #0
			Input: 999999999-9
			Number: 0000000000
			Input: 999999999
			Input: 99
			Input: 9999-9
			Input: 99-99-9999 99:99
			Input: 9999.999999
			Input: 99-99-9999
			Date/Time: dd-MM-yyyy
			Input: 9999
			Number: 0000000000
			Input: 999999999
			Number: 000000000
			Input: 999999999-9
			Number: 000000000
			Input: 9999999-9
			Number: 000000
			Input: 999999
			Date/Time: MMM d, yyyy
			Input: 99-99-9999
			Number: ###000
			Number: ###0
			Number: ##0
			Input: 99999
			Number: 0000
			Number:
		External Functions
		Constants
.data CCDATA
0000: 3000000000000000 0000000000000000 00000000
.enddata
.data CCSIZE
0000: 1400
.enddata
			System
			User
			Enumerations
		Resources
		Variables
.data RESOURCE 0 0 1 2549225364
0000: 2200000013000000 0000000000000000 020000010000005B 030000D019000000
0020: 01FE00FF03
.enddata
			Date/Time: dGlobalHoje
			Window Handle: hWndConsAutoDis
			Window Handle: hWndConsAutoFin
			Window Handle: hWndConsAutoLoca
			Window Handle: hWndConsAutoMov
			Window Handle: hWndAcertoAuto
			Window Handle: hWndBairro
			Window Handle: hWndConEntregaNotificacao
			Window Handle: hWndConMovtoAuto
			Window Handle: hWndConSituacaoAuto
			Window Handle: hWndComplementoCategoria
			Window Handle: hWndEnderProprietario
			Window Handle: hWndMunicipio
			Window Handle: hWndRelMulta
			Window Handle: hWndRelNotifi
			Window Handle: hWndConsAutoGeral
			Window Handle: hWndConHistAuto
			Window Handle: hWndHisInfracaoAuto
			String: sGlobalSecretaria
			String: sGlobalDetran
			Number: nAux
			Number: nInfracaoCTB
			Number: nCodConsultaRENAINF
			Number: nSeqTransacaoRENAINF
		Internal Functions
			! Function: SerieDigitoModulo11
				  Description: Inclue a série no cálculo do dígito
				  Returns 
					  Number: nRetorno
				  Parameters 
					  String: sSerie
					  Number: nCodigo
				  Static Variables 
				  Local variables 
					  Number: nSerie
				  Actions 
					! Faz o tratamento da série
					  If sSerie ='*'
						  Return -1
					  If NOT ( sSerie >= 'A' AND sSerie <= 'Z' )
						  Call SalMessageBeep( 0 )
						  Call SalMessageBox( 'Deve ser informado uma série válida!', 'Atenção', MB_IconExclamation | MB_Ok )
						  Return -1
					  Set sSerie = SalStrUpperX( sSerie )
					  Call SalStrFirstC( sSerie, nSerie )
					  Set nSerie = SalNumberMod( nSerie - 64, 10 )
					  Set nCodigo = SalStrToNumber( SalNumberToStrX( nSerie, 0 ) || SalStrRightX( SalNumberToStrX( 100000000 + nCodigo, 0 ), 8 ))
					!
					  Return DigitoModulo11Inf( nCodigo )
			! Function: fTransmiteRENAINF
				Description: 
				Returns 
				Parameters 
				Static Variables 
				Local variables 
					Number: nLinha
					Long String: lsMensagem
					Long String: lsMensagem2
					Number: nSeqTransacao
					Number: nCodConsulta
					String: sMensagem
				Actions 
					Set nLinha = 0
					Call SalTblSetContext( tblReenvioRENAINF, 0 )
					While SalTblFetchRow( tblReenvioRENAINF, nLinha ) != TBL_NoMoreRows
						If fMPSPrepareProc( hSqlApp, 'exec dbinfracao..RNFTransmiteAuto @Serie = :frmReenvioRENAINF.tblReenvioRENAINF.colsSerie,
								@OrgaoAutuante =:frmReenvioRENAINF.tblReenvioRENAINF.colnOrgaoAutuante, @Auto =:frmReenvioRENAINF.tblReenvioRENAINF.colnAuto,
								@Infracao = :frmReenvioRENAINF.tblReenvioRENAINF.colnInfracao', ':lsMensagem,:lsMensagem2' )
							! Call SqlExecute( hSqlApp )
						!
						If NOT SqlExecute( hSqlApp )
							Call fMPSDisconnect( hSqlApp )
							Return FALSE
						Call SqlFetchNext( hSqlApp, nRetorno )
						If nRetorno != FETCH_Ok
							Call fMPSDisconnect( hSqlApp )
							Return FALSE
						Set lsMensagem = lsMensagem || lsMensagem2
						Set nCodConsulta = SalStrToNumber( SalStrMidX( lsMensagem, 6, 3) )
						Set nSeqTransacao = SalStrToNumber( SalStrLeftX( lsMensagem, 6  ) )
						Call fMPSDisconnect( hSqlApp )
						! Call SqlGetResultSetCount( hSqlApp, nRetorno )
						!
						If NOT FuncaoHelpCom( lsMensagem )
							Call fMPSDisconnect( hSqlApp )
							Return FALSE
						Set nLinha = nLinha + 1
								
						! PAREI AQUI
						Call fMPSConnect( hSqlApp )
						If fMPSPrepareProc( hSqlApp, 'exec dbinfracao..RNFTrataRetorno @CodTransacao = :nCodConsulta,
								@NumSeqTransacao =:nSeqTransacao', ':sMensagem' )
							! Call SqlExecute( hSqlApp )
						If NOT SqlExecute( hSqlApp )
							! Call fMPSDisconnect( hSqlApp )
							Return FALSE
						Call SqlFetchNext( hSqlApp, nRetorno )
						Set tblReenvioRENAINF.colsMensagem= sMensagem
					! Call fMPSDisconnect( hSqlApp )
			Function: fInfracaoNovoCodigo
				Description:
				Returns
					Number:
				Parameters
					Number: nCodigo
				Static Variables
				Local variables
				Actions
					If nCodigo > 5000 and nCodigo < 6000
						Set nCodigo =  SalNumberTruncate( nCodigo/10, 10, 0 )
					Return nCodigo
			Function: fInfracaoInseriDigito
				Description:
				Returns
					Number:
				Parameters
					Number: nCodigo
				Static Variables
				Local variables
				Actions
					If nCodigo > 500 and nCodigo < 600
						Set nCodigo = nCodigo*10+DigitoModulo11( SalNumberTruncate( nCodigo, 10, 0 ))
					Return nCodigo
			Function: PreencheListaCombo
				Description: Preenche a lista e o array de codigos dos itens.
						Esta função recebe um Sql Handle e uma string com o 
						comando.
				Returns
					Number:
				Parameters
					Window Handle: hCombo
					String: strComando
				Static Variables
				Local variables
					! Flags de retorno de funcoes
					Boolean: bOk
					Number: nInd
					! Contador
					Number: nCount
					! Variaveis para codigos
					String: strNome
					! Armazena temporariamente a string que sera´ jogada dentro da combo propriamente dita
					String: strItem
					! car 21/06/96 - Armazena a selecao do combo para que nao se perca no drop-down
					String: strCampoCodigo
					Sql Handle: hSqlApoio
				Actions
					Call fMPSConnect( hSqlApoio )
					Set bOk = fMPSPrepareProc(hSqlApoio,strComando ,':strNome')
					Set bOk = SqlExecute(hSqlApoio)
					Set nCount = 0
					Call SqlFetchNext(hSqlApoio,nInd)
					While nInd != FETCH_EOF
						Set nCount = nCount + 1
						If nCount = 1
							Set strCampoCodigo = strNome
						Call SalListAdd(hCombo,strNome)
						Call SqlFetchNext(hSqlApoio,nInd)
					! Call SalArraySetUpperBound( strCodigos, 1, nCount  -1 )
					! Call SalArraySetUpperBound( strItens, 1, nCount -1 )
					! Call SalListSelectString( hCombo, -1, strCampoCodigo)
			Function: fLimpa
				Description:
				Returns
				Parameters
					Window Handle: hHandle
				Static Variables
				Local variables
					Number: nType
				Actions
					Set nType = SalGetType( hHandle ) 
					If nType = TYPE_ChildTable
						Call SalTblReset( hHandle )
					Else If nType =  TYPE_ComboBox
						Call SalListSetSelect( hHandle, -1 )
					Else If nType = TYPE_DataField
						Call SalClearField( hHandle )
					Else If nType = TYPE_MultilineText
						Call SalClearField( hHandle )
			! Function: SerieDigitoModulo11 VERSAO ANTERIOR
				 Description: Inclue a série no cálculo do dígito
				 Returns 
					 Number: nRetorno
				 Parameters 
					 String: sSerie
					 Number: nCodigo
				 Static Variables 
				 Local variables 
					 Number: nSerie
				 Actions 
					! Faz o tratamento da série
					 If sSerie = 'A'
						 Set nSerie = 1
					 Else If sSerie = 'B'
						 Set nSerie = 2
					 Else If sSerie = 'C'
						 Set nSerie = 3
					 Else If sSerie = 'D'
						 Set nSerie = 4
					 Else If sSerie = 'E'
						 Set nSerie = 5
					 Else If sSerie = 'F'
						 Set nSerie = 6
					 Else If sSerie = 'G'
						 Set nSerie = 7
					 Else If sSerie = 'H'
						 Set nSerie = 8
					 Else If sSerie = 'I'
						 Set nSerie = 9
					 Else If sSerie = 'J'
						 Set nSerie = 1
					 Else If sSerie = 'K'
						 Set nSerie = 2
					 Else If sSerie = 'L'
						 Set nSerie = 3
					 Else If sSerie = 'M'
						 Set nSerie = 4
					 Else If sSerie = 'N'
						 Set nSerie = 5
					 Else If sSerie = 'O'
						 Set nSerie = 6
					 Else If sSerie = 'P'
						 Set nSerie = 7
					 Else If sSerie = 'Q'
						 Set nSerie = 8
					 Else If sSerie = 'R'
						 Set nSerie = 9
					 Else If sSerie = 'S'
						 Set nSerie = 2
					 Else If sSerie = 'T'
						 Set nSerie = 3
					 Else If sSerie = 'U'
						 Set nSerie = 4
					 Else If sSerie = 'V'
						 Set nSerie = 5
					 Else If sSerie = 'W'
						 Set nSerie = 6
					 Else If sSerie = 'X'
						 Set nSerie = 7
					 Else If sSerie = 'Y'
						 Set nSerie = 8
					 Else If sSerie = 'Z'
						 Set nSerie = 9
					 Else If sSerie = '*'
						 Return -1
					 Set nCodigo = SalStrToNumber( SalNumberToStrX( nSerie, 0 ) || SalStrRightX( SalNumberToStrX( 100000000 + nCodigo, 0 ), 8 ))
					!
					 Return DigitoModulo11Inf( nCodigo )
			! Function: SerieDigitoModulo11
				Description: Inclue a série no cálculo do dígito
				Returns 
					Number: nRetorno
				Parameters 
					String: sSerie
					Number: nCodigo
				Static Variables 
				Local variables 
					Number: nSerie
				Actions 
					! Faz o tratamento da série
					Set sSerie = SalStrMidX(sSerie||"    ",0,2)
					If SalStrMidX(sSerie,0,1) = 'A'
						Set nSerie = 1
					Else If SalStrMidX(sSerie,0,1) = 'B'
						Set nSerie = 2
					Else If SalStrMidX(sSerie,0,1) = 'C'
						Set nSerie = 3
					Else If SalStrMidX(sSerie,0,1) = 'D'
						Set nSerie = 4
					Else If SalStrMidX(sSerie,0,1) = 'E'
						Set nSerie = 5
					Else If SalStrMidX(sSerie,0,1) = 'F'
						Set nSerie = 6
					Else If SalStrMidX(sSerie,0,1) = 'G'
						Set nSerie = 7
					Else If SalStrMidX(sSerie,0,1) = 'H'
						Set nSerie = 8
					Else If SalStrMidX(sSerie,0,1) = 'I'
						Set nSerie = 9
					Else If SalStrMidX(sSerie,0,1) = 'J'
						Set nSerie = 1
					Else If SalStrMidX(sSerie,0,1) = 'K'
						Set nSerie = 2
					Else If SalStrMidX(sSerie,0,1) = 'L'
						Set nSerie = 3
					Else If SalStrMidX(sSerie,0,1) = 'M'
						Set nSerie = 4
					Else If SalStrMidX(sSerie,0,1) = 'N'
						Set nSerie = 5
					Else If SalStrMidX(sSerie,0,1) = 'O'
						Set nSerie = 6
					Else If SalStrMidX(sSerie,0,1) = 'P'
						Set nSerie = 7
					Else If SalStrMidX(sSerie,0,1) = 'Q'
						Set nSerie = 8
					Else If SalStrMidX(sSerie,0,1) = 'R'
						Set nSerie = 9
					Else If SalStrMidX(sSerie,0,1) = 'S'
						Set nSerie = 2
					Else If SalStrMidX(sSerie,0,1) = 'T'
						Set nSerie = 3
					Else If SalStrMidX(sSerie,0,1) = 'U'
						Set nSerie = 4
					Else If SalStrMidX(sSerie,0,1) = 'V'
						Set nSerie = 5
					Else If SalStrMidX(sSerie,0,1) = 'W'
						Set nSerie = 6
					Else If SalStrMidX(sSerie,0,1) = 'X'
						Set nSerie = 7
					Else If SalStrMidX(sSerie,0,1) = 'Y'
						Set nSerie = 8
					Else If SalStrMidX(sSerie,0,1) = 'Z'
						Set nSerie = 9
					Else If SalStrMidX(sSerie,0,1) = '*'
						Return -1
					!
					If SalStrMidX(sSerie,1,1) != ' '
						If SalStrIsValidNumber( SalStrMidX(sSerie,0,1))
							Set nSerie = SalStrToNumber( SalStrMidX(sSerie,0,1) )
					!
					If SalStrMidX(sSerie,1,1) = 'A'
						Set nSerie = nSerie * 10 + 1
					Else If SalStrMidX(sSerie,1,1) = 'B'
						Set nSerie = nSerie * 10 + 2
					Else If SalStrMidX(sSerie,1,1) = 'C'
						Set nSerie = nSerie * 10 + 3
					Else If SalStrMidX(sSerie,1,1) = 'D'
						Set nSerie = nSerie * 10 + 4
					Else If SalStrMidX(sSerie,1,1) = 'E'
						Set nSerie = nSerie * 10 + 5
					Else If SalStrMidX(sSerie,1,1) = 'F'
						Set nSerie = nSerie * 10 + 6
					Else If SalStrMidX(sSerie,1,1) = 'G'
						Set nSerie = nSerie * 10 + 7
					Else If SalStrMidX(sSerie,1,1) = 'H'
						Set nSerie = nSerie * 10 + 8
					Else If SalStrMidX(sSerie,1,1) = 'I'
						Set nSerie = nSerie * 10 + 9
					Else If SalStrMidX(sSerie,1,1) = 'J'
						Set nSerie = nSerie * 10 + 1
					Else If SalStrMidX(sSerie,1,1) = 'K'
						Set nSerie = nSerie * 10 + 2
					Else If SalStrMidX(sSerie,1,1) = 'L'
						Set nSerie = nSerie * 10 + 3
					Else If SalStrMidX(sSerie,1,1) = 'M'
						Set nSerie = nSerie * 10 + 4
					Else If SalStrMidX(sSerie,1,1) = 'N'
						Set nSerie = nSerie * 10 + 5
					Else If SalStrMidX(sSerie,1,1) = 'O'
						Set nSerie = nSerie * 10 + 6
					Else If SalStrMidX(sSerie,1,1) = 'P'
						Set nSerie = nSerie * 10 + 7
					Else If SalStrMidX(sSerie,1,1) = 'Q'
						Set nSerie = nSerie * 10 + 8
					Else If SalStrMidX(sSerie,1,1) = 'R'
						Set nSerie = nSerie * 10 + 9
					Else If SalStrMidX(sSerie,1,1) = 'S'
						Set nSerie = nSerie * 10 + 2
					Else If SalStrMidX(sSerie,1,1) = 'T'
						Set nSerie = nSerie * 10 + 3
					Else If SalStrMidX(sSerie,1,1) = 'U'
						Set nSerie = nSerie * 10 + 4
					Else If SalStrMidX(sSerie,1,1) = 'V'
						Set nSerie = nSerie * 10 + 5
					Else If SalStrMidX(sSerie,1,1) = 'W'
						Set nSerie = nSerie * 10 + 6
					Else If SalStrMidX(sSerie,1,1) = 'X'
						Set nSerie = nSerie * 10 + 7
					Else If SalStrMidX(sSerie,1,1) = 'Y'
						Set nSerie = nSerie * 10 + 8
					Else If SalStrMidX(sSerie,1,1) = 'Z'
						Set nSerie = nSerie * 10 + 9
					Else If SalStrMidX(sSerie,1,1) = '*'
						Return -1
					! Verificar se existe numero na composição da serie -- adilson 
					If SalStrMidX(sSerie,1,1) != ' '
						If SalStrIsValidNumber( SalStrMidX(sSerie,1,1))
							Set nSerie = nSerie*10+SalStrToNumber( SalStrMidX(sSerie,1,1) )
					Set nCodigo = SalStrToNumber( SalNumberToStrX( nSerie, 0 ) || SalStrRightX( SalNumberToStrX( 100000000 + nCodigo, 0 ), 8 ))
					!
					Return DigitoModulo11Inf( nCodigo )
			! Function: DigitoModulo11Inf
				  Description: Consiste dígito módulo 11
				  Returns 
					  Number: nRetorno
				  Parameters 
					  Number: nCodigo
				  Static Variables 
				  Local variables 
					  String: sCodigo
					  Number: nIndice
					  Number: nIndAux
					  Number: nLength
					  Number: nDigito
					  Number: nSoma
					  Number: nRetorno
				  Actions 
					  Set nLength = SalNumberToStr( nCodigo, 0, sCodigo )
					  Set nIndice = 2
					  Set nSoma = 0
					  Set nIndAux = 0
					  While nIndAux < nLength
						  Set nSoma = nSoma + ( SalStrToNumber( SalStrMidX( sCodigo, nIndAux, 1) ) * nIndice )
						  Set nIndice = nIndice + 1
						  Set nIndAux = nIndAux + 1
						  If nIndice > 9
							  Set nIndice = 2
					  Set nDigito = 11 - SalNumberMod( nSoma, 11 )
					  If nDigito > 9
						  Set nDigito = 0
					  Set nRetorno = nDigito
					  Return nRetorno
			! Function: DigitoModulo11Inf
				Description: Consiste dígito módulo 11
				Returns 
					Number: nRetorno
				Parameters 
					Number: nCodigo
				Static Variables 
				Local variables 
					String: sCodigo
					String: sInverso
					Number: nIndice
					Number: nLength
					Number: nDigito
					Number: nSoma
					Number: nRetorno
				Actions 
					Set nLength = SalNumberToStr( nCodigo, 0, sCodigo )
					Set nIndice = 0
					Set sInverso = ''
					While nIndice <  nLength
						Set sInverso = SalStrMidX( sCodigo, nIndice, 1 ) || sInverso
						Set nIndice = nIndice + 1
					Set nIndice = 0
					Set nSoma = 0
					While nIndice <  nLength 
						Set nSoma = nSoma + ( SalStrToNumber( SalStrMidX( sInverso, nIndice, 1 ) ) * ( SalNumberMod( nIndice,8 ) + 2) )
						Set nIndice = nIndice + 1
					Set nDigito = 11 - SalNumberMod( nSoma, 11 )
					If nDigito > 9
						Set nDigito = 0
					Set nRetorno = nDigito
					Return nRetorno
			Function: DivideColPor100
				Description: Divide o conteúdo da coluna por 100.
				Returns
				Parameters
					Receive Window Handle: hWndTabela
					Receive Window Handle: hWndColuna
				Static Variables
				Local variables
					Number: nAux
					String: sAux
				Actions
					! Autor 
						    Celso 1/11/95
					Call SalTblGetColumnText( hWndTabela, SalTblQueryColumnID( hWndColuna), sAux )
					Set nAux = SalStrToNumber( sAux) / 100
					Call SalTblSetColumnText( hWndTabela, SalTblQueryColumnID( hWndColuna), SalNumberToStrX( nAux , 2 ) )
			Function: ItensSelecionado
				Description: Seleciona os ítens seecionados de uma tabela
				Returns
					String:
				Parameters
					Window Handle: hWndTable
					Window Handle: hWndColuna
				Static Variables
				Local variables
					Number: nLinhaAtual
					Number: nColumnID
					String: sItem
					String: sSelecionados
				Actions
					! Observações:
						    Autor: Celso - 07/05/1997
					Set nLinhaAtual = TBL_MinRow
					Set nColumnID = SalTblQueryColumnID( hWndColuna )
					If NOT SalTblFindNextRow( hWndTable, nLinhaAtual, ROW_Edited, 0)
						Return ''
					Call SalTblSetContext( hWndTable, nLinhaAtual )
					Call SalTblGetColumnText( hWndTable, nColumnID, sSelecionados )
					While SalTblFindNextRow( hWndTable, nLinhaAtual, ROW_Edited, 0)
						Call SalTblSetContext( hWndTable, nLinhaAtual )
						Call SalTblGetColumnText( hWndTable, nColumnID, sItem )
						Set sSelecionados = sSelecionados || ', ' || sItem
					Return sSelecionados
			Function: NomeArquivo
				Description: Retorna o nome do arquivo dentro de uma string que contém o path e o nome do mesmo.
				Returns
					String:
				Parameters
					Long String: lsCaminho
				Static Variables
				Local variables
				Actions
					! Observacoes
						    Autor
							    Celso 1/11/95
					If VisStrScanReverse( lsCaminho, -1, '\\' ) = -1
						Return lsCaminho
					Return SalStrMidX( lsCaminho, VisStrScanReverse( lsCaminho, -1, '\\' ) +1 , 12 )
			Function: NomeDiretorio
				Description: Retorna o diretorio do arquivo dentro de uma string que contém o path e o nome do arquivo.
				Returns
					String:
				Parameters
					Long String: lsCaminho
				Static Variables
				Local variables
				Actions
					! Observacoes
						    Autor
							    Celso 1/11/95
					If VisStrScanReverse( lsCaminho, -1, '\\' ) = -1
						Return ''
					Return SalStrLeftX( lsCaminho, VisStrScanReverse( lsCaminho, -1, '\\' )  + 1)
			Function: ProcuraDJaDigitado
				Description: Procura uma data numa tabela, verificando se o mesmo já existe (deletando a linha digitada).
				Returns
					Boolean:
				Parameters
					Receive Window Handle: hWndTabela
					Number: nColumnID
					Number: nLinhaDigitada
					Date/Time: dCodigoDigitado
					String: sMensagem
				Static Variables
				Local variables
					Number: nLinha
					String: sCol
				Actions
					! Observações
						    Retorna TRUE se encontrou o código e foi deletado a Linha.
						    Autor 
							    Celso - 02/01/96
						    O Código em comentário é o código escrito antigamente.
						! Antigamente....
							! Verifica se existe linha com Código do Título igual ao recém digitado.
								    nColumnID	- Contém o Número do ColumnID da coluna colnTitulo.
								    nLinha 	   	- Contém o número das linhas atuais em que se está fazendo a pesquisa.
								    sCodigoDigitado  	- Código do Tipo de Venda que foi recém digitado.
								    sCol 	   	- Usado para quardar temporariamente os códigos já existentes.
							! Set nLinha = TBL_MinRow
							! Set nColumnID = SalTblQueryColumnID( tblTitulosBordero.colnTitulo )
							! Call SalTblGetColumnText( tblTitulosBordero, nColumnID, sCodigoDigitado )
							! While SalTblFindNextRow( tblTitulosBordero, nLinha, 0, 0)
								    Call SalTblSetContext( tblTitulosBordero, nLinha )
								    Call SalTblGetColumnText( tblTitulosBordero, nColumnID, sCol)
								    If (SalStrToNumber( sCol ) = SalStrToNumber( sCodigoDigitado)) AND (nLinha != lParam)
									! Seta  focus na linha com a coluna do mesmo Código de Tipo de Venda.
									    Call SalMessageBeep( 0 )
									    Call SalMessageBox( 'Título já digitado', 'Atenção', MB_IconExclamation | MB_Ok )
									    Call SalTblDeleteRow( tblTitulosBordero, lParam, TBL_NoAdjust )
									    Set nLinhasInseridas = nLinhasInseridas - 1
									    Return FALSE
					! Verifica se existe linha com Código do Título igual ao recém digitado.
						    nColumnID	- Contém o Número do ColumnID da coluna colnTitulo.
						    nLinha 	   	- Contém o número das linhas atuais em que se está fazendo a pesquisa.
						    sCodigoDigitado  	- Código do Tipo de Venda que foi recém digitado.
						    sCol 	   	- Usado para quardar temporariamente os códigos já existentes.
					Set nLinha = TBL_MinRow
					While SalTblFindNextRow( hWndTabela, nLinha, 0, 0)
						Call SalTblSetContext( hWndTabela, nLinha )
						Call SalTblGetColumnText( hWndTabela, nColumnID, sCol)
						If (SalStrToDate( sCol ) = dCodigoDigitado) AND (nLinha != nLinhaDigitada)
							! Seta  focus na linha com a coluna do mesmo Código de Tipo de Venda.
							Call SalMessageBeep( MB_IconExclamation )
							Call SalMessageBox( sMensagem, 'Atenção', MB_IconExclamation | MB_Ok )
							Call SalTblDeleteRow( hWndTabela, nLinhaDigitada, TBL_NoAdjust )
							Return TRUE
					Call SalTblSetContext( hWndTabela, nLinhaDigitada )
					Return FALSE
			Function: SetaFlagLinhaD
				Description: Seta Flag de todas Linhas de uma tabela de acordo com o valor de uma Coluna do tipo data.
				Returns
				Parameters
					Receive Window Handle: hWndTabela
					Window Handle: hWndColuna
					Date/Time: dColuna
					! Valores para a Linha
					Number: nFlags
					Boolean: bSetar
				Static Variables
				Local variables
					Number: nLinha
					String: sCol
					String: sAux
					Boolean: bEncontrou1
				Actions
					Set nLinha = TBL_MinRow
					Set bEncontrou1 = FALSE
					While SalTblFindNextRow( hWndTabela, nLinha, 0, 0 ) 
						Call SalTblSetContext( hWndTabela, nLinha )
						Call SalTblGetColumnText( hWndTabela, SalTblQueryColumnID( hWndColuna ), sCol )
						Call SalDateToStr( dColuna, sAux )
						If sCol = sAux
							Call SalTblSetRowFlags( hWndTabela, nLinha, nFlags, bSetar )
							Set bEncontrou1 = TRUE
					Return bEncontrou1
			Function: TiraFormatoNumero
				Description: Tira a máscara de um número.
				Returns
					Number:
				Parameters
					String: sNumero
				Static Variables
				Local variables
					Number: nDigitos
					Number: nNumero
					Number: nPosicao
					String: sAux
				Actions
					! Observações
						    Autor
							    Celso - 1/11/95
					If sNumero = ''
						Return FALSE
					Set nPosicao =  SalStrLength( sNumero ) -1
					Set nNumero = 0
					Set nDigitos = 0
					While nPosicao >= 0
						Set sAux = SalStrMidX( sNumero, nPosicao, 1 )
						If sAux = SalNumberToStrX( SalStrToNumber( sAux ), 0)
							Set nNumero = nNumero + (SalStrToNumber( sAux ) * SalNumberPower( 10, nDigitos))
							Set nDigitos = nDigitos + 1
						Set nPosicao = nPosicao - 1
					Return nNumero
			Function: TransfereLStrToTable
				Description: Coloca a String nas colunas de acordo com o tamanho das mesmas.
				Returns
				Parameters
					Long String: lsString
					Receive Window Handle: hWndTabela
				Static Variables
				Local variables
					Window Handle: hWndColuna
					Number: nTamanhoCol
					Number: nLinha
					Number: nSoma
					String: sColuna
				Actions
					! Observações
						    Local variables
							    nLinha		- Número da Nova Linha.
							    nTamanhoCol	- Tamanho da Coluna atual.
							    nSoma		- Soma de Todas as colunas lidas até o momento.
							    sColuna		- Valor da coluna atual.
						    Autor
							    Celso 1/11/95
					Set nLinha = SalSendMsg( hWndTabela, MSG_NovaLinha, 0, 0 )
					Set hWndColuna =  SalGetFirstChild( hWndTabela, TYPE_TableColumn )
					If hWndColuna = hWndNULL
						Return FALSE
					Set nSoma = 0
					While hWndColuna != hWndNULL
						Call SalTblSetContext( hWndTabela, nLinha )
						! Call SalTblQueryColumnWidth( hWndColuna, nTamanhoCol )
						Set nTamanhoCol = SalGetMaxDataLength( hWndColuna )
						If nTamanhoCol > 0
							Set sColuna = SalStrMidX( lsString, nSoma, nTamanhoCol )
							! Set sColuna = SalStrTrimX( SalStrMidX( lsString, nSoma, nTamanhoCol ))
							Set nSoma = nSoma + nTamanhoCol
							Call SalTblSetColumnText( hWndTabela, SalTblQueryColumnID( hWndColuna ), sColuna )
							! If nTamanhoCol > 6
								    Call VisTblAutoSizeColumn( hWndTabela, hWndColuna )
						Set hWndColuna = SalGetNextChild( hWndColuna, TYPE_TableColumn )
					Return nLinha
			Function: fTransmiteRENAINF
				Description:
				Returns
				Parameters
					String: sSerie
					Number: nOrgaoAutuante 
					Number: nAuto
					Number: nInfracao
					Number: nTransacao
					String: sTipoRegistroTransacao
					Sql Handle: phSqlApp
					String: sNumAutoInfracao
					String: sPlaca
					String: sCond
					String: sMotivoCancelamento
					Number: nTipoOcorrencia
					Number: nTipoLancamento
					String: sOrigemOcorrencia
				Static Variables
				Local variables
					Number: nLinha
					Long String: lsMensagem
					Long String: lsMensagem2
					Number: nSeqTransacao
					Number: nCodConsulta
					String: sMensagem
					Number: nRetorno
					Number: nCodRetorno
				Actions
					If fMPSPrepareProc( phSqlApp, 'exec dbinfracao..RNFTransmiteAuto @Serie = :sSerie,
							@CodigoOrgaoAut =:nOrgaoAutuante, @Auto =:nAuto,
							@Infracao = :nInfracao,
							@CodConsulta = :nTransacao, 
							@TipoRegistroTransacao=:sTipoRegistroTransacao,
							@NumAutoInfracao = :sNumAutoInfracao,
							@Placa=:sPlaca,@Condicionalidade=:sCond,
							@MotivoCancelamento=:sMotivoCancelamento,
							@TipoOcorrencia=:nTipoOcorrencia,@TipoLancamento=:nTipoLancamento,@OrigemOcorrencia=:sOrigemOcorrencia', 
							':lsMensagem,:lsMensagem2' )
						! Call SqlExecute( hSqlApp )
					!
					If NOT SqlExecute( phSqlApp )
						! Call fMPSDisconnect( phSqlApp )
						Return FALSE
					Call SqlFetchNext( phSqlApp, nRetorno )
					If nRetorno != FETCH_Ok
						! Call fMPSDisconnect( phSqlApp )
						Return FALSE
					Set lsMensagem = lsMensagem || lsMensagem2
					Set nCodConsulta = SalStrToNumber( SalStrMidX( lsMensagem, 6, 3) )
					Set nSeqTransacao = SalStrToNumber( SalStrLeftX( lsMensagem, 6  ) )
					Set nSeqTransacaoRENAINF = nSeqTransacao
					Set nCodConsultaRENAINF = nCodConsulta
					Call fMPSDisconnect( phSqlApp )
					! Call SqlGetResultSetCount( hSqlApp, nRetorno )
					!
					If NOT FuncaoHelpCom( lsMensagem )
						Call fMPSDisconnect( phSqlApp )
						Return FALSE
					Set nLinha = nLinha + 1
							
					! PAREI AQUI
					Call fMPSConnect( phSqlApp )
					If fMPSPrepareProc( phSqlApp, 'exec dbinfracao..RNFTrataRetorno @CodTransacao = :nCodConsulta,
							@NumSeqTransacao =:nSeqTransacao,@CodigoOrgaoAut=:nOrgaoAutuante,
							@nAuto = :nAuto,@Serie=:sSerie,@TipoOcorrencia=:nTipoOcorrencia,
							@TipoLancamento=:nTipoLancamento,
							@OrigemOcorrencia=:sOrigemOcorrencia', ':nCodRetorno' )
						! Call SqlExecute( hSqlApp )
					If NOT SqlExecute( phSqlApp )
						! Call fMPSDisconnect( hSqlApp )
						Return FALSE
					Call SqlFetchNext( phSqlApp, nRetorno )
					! Set tblReenvioRENAINF.colsMensagem= sMensagem
					! Call fMPSDisconnect( hSqlApp )
		Named Menus
		Class Definitions
.data RESOURCE 0 0 1 1767940185
0000: D107000085030000 0000000000000000 0200000A00FFFF01 00160000436C6173
0020: 73566172004F7574 6C696E6552006567 496E666F13013800 00000F6300446573
0040: 6B746F704C006973 74426F784E01C200 0B00000043190000 0001FA0000FF6F19
0060: 00D6190001FE00FF 833200000019B500 0100FFFF604B0000 001900ED0100FF3F
0080: 6400580000190001 FB00FF0F7D000000 D6190001FE00FF83 9600000019B50001
00A0: 00FFFF60AF000000 1900ED0100FF3FC8 00580000190001FB 00FF0FE1000000D6
00C0: 190001FE00FF83FA 00000019B5000100 FFFF100180640000 010001000B634469
00E0: 724C3E697C00C000 00040000005B1900 01FB00FF6F1900D6 190001FE00FF9B32
0100: 0019B5000100FFFF 664B001900ED0100 FF3F0180044B0000 020000001E0F5472
0120: 65F8654C69005E00 0000030000006F19 00E9010000FFBF19 5900190001FB00FF
0140: 6F3200D6190001FE 00FF430180AF0000 0603000C634669F8 6C654C01D6000000
0160: 070000DE0019D200 010000FF7F19B300 1900F60100FFDF32 AC00190001FD00FF
0180: 374B00196B000100 FFFFCD640019DA00 0100FF7F7DB30019 00F60100FFDF96AC
01A0: 00190001FD00FF87 01807D000C000400 0D6352C06164696F 4C69079A00000005
01C0: 78000000194B0001 0000FFFFCD190019 DA000100FF7F32B3 001900F60100FFDF
01E0: 4BAC00190001FD00 FF376400196B0001 00FFFF010180C200 00000503000A6351
0200: 434B003147657261 6C0202C200110000 005B040003FB00FF 6F04009619000100
0220: FE00FF831D000000 19B5000100FFFF60 360000001900ED01 00FF3F4F00580000
0240: 190001FB00FF0F68 000000D6040002FE 00FF836C00000004 B5000200FFFF6070
0260: 0000000400ED0200 FF3F740058000004 0002FB00FF0F7800 0000D6040002FE00
0280: FF937C000004B500 0200FFFF62800000 0400ED0200FF3F84 00580000040002FB
02A0: 00FF0F88000000D6 040002FE00FF838C 00000019B5000100 FFFF60A500000019
02C0: 00ED0100FF3FBE00 580000040002FB00 FF0F01803E000000 00060000000E630E
02E0: 51436F6E74086169 6E72AA0000EC0005 000D0400010200FD 003F8001F8000000
0300: 3704001943000101 0000FF4F800100FE 00C10800000019D2 00010000FF7F21B0
0320: 0000000400F60200 FF1F250000AC0019 0001FD00FF870180 04000C0007000863
0340: 51074D44492200D0 00000100005B0400 02FB00FF8F018004 91000800000D0E51
0360: 43686563486B426F 220000F4010000D6 040002FE00FF6301 8004000009000000
0380: 0663446120646F73 220000017A000004 6B000200FFFF01
.enddata
		Default Classes
			MDI Window: cQCK1MDI
			Form Window:
			Dialog Box: cQCK1DialogBox
			Table Window:
			Quest Window:
			Data Field:
			Spin Field:
			Multiline Field: cQuickMLField
			Pushbutton: cQCK2PbExcluir
			Radio Button: cQCK1RadioButton
			Option Button:
			ActiveX:
			Check Box: cQCK1CheckBox
			Child Table: cQCK2ChildTable
			Quest Child Window:
			List Box:
			Combo Box:
			Picture:
			Vertical Scroll Bar:
			Horizontal Scroll Bar:
			Column:
			Background Text: cQCK1BackgroundText
			Group Box:
			Line:
			Frame:
			Custom Control: cQuickGraph
		Application Actions
			On SAM_SqlError
				Return TRUE
			On SAM_AppStartup
	MDI Window: mdiInfracao
.data INHERITPROPS
0000: 0100
.enddata
		Class: cQCK1MDI
		Property Template:
		Class DLL Name:
		Title: Controle de Infrações - Envio das Transações do RENAINF
		Display Settings
			Visible at Design time? No
			Automatically Created at Runtime? Class Default
			Initial State: Maximized
			Maximizable? Class Default
			Minimizable? Class Default
			System Menu? Class Default
			Resizable? Class Default
			Window Location and Size
				Left: 1.3"
				Top: 0.792"
				Width:  Class Default
				Width Editable? Class Default
				Height: 4.342"
				Height Editable? Class Default
		Icon File: LOTEAUTO.ICO
.data RESOURCE 2 0 1 458831676
0000: 00030000F2010000 0000000000000000 0200A20001000120 3010000000E80200
0020: 0000160000002800 0000002000000040 0008000001040000 00A380020000FFFF
0040: 8F80000003008080 0080006800008080 800D008000C0C080 C0000000FF000003
0060: 00FFFF00FF006800 00FFFFFF4D00FF00 00FFFF8780000000 FF83170FFFFFFFD7
0080: 0000BB17FF570000 0980191017077777 7750F707FF000091 80910017000000FF
00A0: 8DFF0000091090FF 00FFFF0000001088 880000000999340F FFFF8880940FFF00
00C0: 000957FF00009088 888800000907FFF8 0F0B0042FFF70000 0099060FFFF800B0
00E0: 80D0888888000005 FFFFF80B08F0C0FF F7770000000BFFF0 B08F08D088888800
0100: 00C30FFF0B08D377 0000031000B0FF08 88D588000003170B 0000FFF7D3770000
0120: 8310B0888888D700 00830B0FFFFFF7D5 770000A3B0088888 D70000410B070FFF
0140: 0000FF01B0170888 0999991E99900000 0200170FF0595959 1F00000003170880
0160: 9595951F00000003 170F095959590F50 0000000317080595 95954F9000008317
0180: 00595959AF00008B 17959595AF0000A3 18095959B7500003 0105001001008E10
01A0: 0000000301107007 0070C607000000FF FFFF3FFFFF06FF80 003FFF00211FE100
01C0: 00C0002380000000 00CC001F001F8C00 1F001F803BC0FC00 F200FF00FF3FFE00
01E0: 1BFC00F800000000 F9000001FF001F03 FF009F07FF5F0F80 1D0F1FFFF2A0493F
0200: FFFFFF00
.enddata
		Accessories Enabled? Class Default
		Visible? Class Default
		Description:
		Named Menus
		Menu
			Popup Menu: &RENAINF - Infrações Interestaduais
				Resource Id: 51613
				Enabled when:
				Status Text:
				Menu Item Name:
				Menu Item: Envio das Transações 
					Resource Id: 51614
					Keyboard Accelerator: (none)
					Status Text: Gerar Arquivo das Notificações de Multa
					Menu Settings
						Enabled when: MenuHabilitado('frmEnviaNotificacaoAutuacao')
						Checked when:
					Menu Actions
						Call SalCreateWindow( frmEnviaNotificacaoAutuacao, hWndMDI )
					Menu Item Name:
			Windows Menu: &Janela
				Resource Id: 17916
				Enabled when:
				Status Text: Selecionar e reagrupar as janelas do Aplicativo.
				Menu Item Name:
				Menu Item: &Cascata
					Resource Id: 17917
					Keyboard Accelerator: (none)
					Status Text: Rearruma as janelas agrupando-as em forma de cascata.
					Menu Settings
						Enabled when:
						Checked when:
					Menu Actions
						Call SalMDICascade( hWndMDI )
					Menu Item Name:
				Menu Item: Lado a Lado &Verticalmente
					Resource Id: 17918
					Keyboard Accelerator: (none)
					Status Text: Rearruma as janelas abertas agrupando-as lado a lado verticalmente.
					Menu Settings
						Enabled when:
						Checked when:
					Menu Actions
						Call SalMDITile( hWndMDI, TRUE )
					Menu Item Name:
				Menu Item: Lado a Lado &Horizontalmente
					Resource Id: 17919
					Keyboard Accelerator: (none)
					Status Text: Rearruma as janelas abertas agrupando-as lado a lado horizontalmente.
					Menu Settings
						Enabled when:
						Checked when:
					Menu Actions
						Call SalMDITile( hWndMDI, FALSE )
					Menu Item Name:
				Menu Separator
				Menu Item: &Reagrupa Ícones
					Resource Id: 17920
					Keyboard Accelerator: (none)
					Status Text: Reagrupa os ícones minimizados na aplicação.
					Menu Settings
						Enabled when:
						Checked when:
					Menu Actions
						Call SalMDIArrangeIcons( hWndMDI )
					Menu Item Name:
			Popup Menu: &?
				Resource Id: 17921
				Enabled when:
				Status Text:
				Menu Item Name:
				Menu Item: &Conteúdo
					Resource Id: 17922
					Keyboard Accelerator: (none)
					Status Text:
					Menu Settings
						Enabled when:
						Checked when:
					Menu Actions
						Call SalWinHelp( hWndForm, 'infra.HLP', HELP_Index, 0, '' )
					Menu Item Name:
				Menu Separator
				Menu Item: Como Usar o &Help
					Resource Id: 17923
					Keyboard Accelerator: (none)
					Status Text:
					Menu Settings
						Enabled when:
						Checked when:
					Menu Actions
						Call SalWinHelp( hWndForm, '', HELP_HelpOnHelp, 0, '' )
					Menu Item Name:
				Menu Separator
				Menu Item: &Usuario
					Resource Id: 17924
					Keyboard Accelerator: (none)
					Status Text:
					Menu Settings
						Enabled when:
						Checked when:
					Menu Actions
						Call SalModalDialog( dlgUsuario, hWndNULL, FALSE )
					Menu Item Name:
				Menu Item: &Sobre
					Resource Id: 17925
					Keyboard Accelerator: (none)
					Status Text:
					Menu Settings
						Enabled when:
						Checked when:
					Menu Actions
						Call SalSendMsg( hWndMDI, MSG_MostraInfo, 0, 0)
					Menu Item Name:
		Tool Bar
			Display Settings
				Display Style? Class Default
				Location? Class Default
				Visible? Class Default
				Size: 0.49"
				Size Editable? Class Default
				Font Name: Class Default
				Font Size: Class Default
				Font Enhancement: Class Default
				Text Color: Class Default
				Background Color: Class Default
			Contents
		Contents
			Form Window: frmEnviaNotificacaoAutuacao
				Class: cQCK1Form
				Property Template:
				Class DLL Name:
				Title: Transmissão das Transações
				Icon File:
				Accessories Enabled? No
				Visible? Yes
				Display Settings
					Display Style? Class Default
					Visible at Design time? No
					Automatically Created at Runtime? Class Default
					Initial State: Normal
					Maximizable? Class Default
					Minimizable? Class Default
					System Menu? Class Default
					Resizable? Yes
					Window Location and Size
						Left: 0.913"
						Top: 0.052"
						Width:  11.338"
						Width Editable? Class Default
						Height: 5.438"
						Height Editable? Class Default
					Form Size
						Width:  Class Default
						Height: Class Default
						Number of Pages: Class Default
					Font Name: Class Default
					Font Size: Class Default
					Font Enhancement: Class Default
					Text Color: Class Default
					Background Color: Class Default
				Description: Envia as transações 412 para a BINIT
				Named Menus
				Menu
				Tool Bar
					Display Settings
						Display Style? Class Default
						Location? Top
						Visible? Class Default
						Size: Class Default
						Size Editable? Class Default
						Font Name: Class Default
						Font Size: Class Default
						Font Enhancement: Class Default
						Text Color: Class Default
						Background Color: Class Default
					Contents
				Contents
					Frame
						Resource Id: 51360
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Window Location and Size
							Left: 0.088"
							Top: 0.073"
							Width:  10.9"
							Width Editable? Yes
							Height: 3.917"
							Height Editable? Yes
						Visible? Yes
						Corners: Square
						Border Style: Solid
						Border Thickness: 1
						Border Color: Default
						Background Color: 3D Face Color
					! cQCK2ChildTable: tblAutos
.winattr class Child Table:
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class: cQCK2ChildTable
						Property Template:
						Class DLL Name:
						Display Settings
							Window Location and Size
								Left: 0.238"
								Top: 0.281"
								Width:  8.65"
								Width Editable? Yes
								Height: 3.542"
								Height Editable? Yes
							Visible? Yes
							Font Name: Default
							Font Size: Default
							Font Enhancement: Default
							Text Color: Default
							Background Color: Default
							View: Table
							Allow Row Sizing? No
							Lines Per Row: Default
						Memory Settings
							Maximum Rows in Memory: 10000
							Discardable? Yes
.end
						Contents 
							Column: colsDescMovimento
.winattr class
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Movimento
								Visible? Yes
								Editable? Yes
								Maximum Data Length: Default
								Data Type: String
								Justify: Left
								Width:  1.463"
								Width Editable? Yes
								Format: Unformatted
								Country: Default
								Input Mask: Unformatted
								Cell Options
									Cell Type? Standard
									Multiline Cell? No
									Cell DropDownList
										Sorted? Yes
										Vertical Scroll? Yes
										Auto Drop Down? No
										Allow Text Editing? Yes
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Yes
.end
								List Values 
								Message Actions 
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: colnTransacao
.winattr class
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Transacao
								Visible? Yes
								Editable? Yes
								Maximum Data Length: Default
								Data Type: Number
								Justify: Center
								Width:  0.538"
								Width Editable? Yes
								Format: Unformatted
								Country: Default
								Input Mask: Unformatted
								Cell Options
									Cell Type? Standard
									Multiline Cell? No
									Cell DropDownList
										Sorted? Yes
										Vertical Scroll? Yes
										Auto Drop Down? No
										Allow Text Editing? Yes
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Yes
.end
								List Values 
								Message Actions 
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: colnOrgaoAutuante
.winattr class
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Orgão Autuante
								Visible? Yes
								Editable? Yes
								Maximum Data Length: Default
								Data Type: Number
								Justify: Left
								Width:  1.4"
								Width Editable? Yes
								Format: Unformatted
								Country: Default
								Input Mask: Unformatted
								Cell Options
									Cell Type? Standard
									Multiline Cell? No
									Cell DropDownList
										Sorted? Yes
										Vertical Scroll? Yes
										Auto Drop Down? No
										Allow Text Editing? Yes
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Yes
.end
								List Values 
								Message Actions 
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: colsNumAutoInfracao
.winattr class
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Auto RENAINF
								Visible? Yes
								Editable? Yes
								Maximum Data Length: Default
								Data Type: String
								Justify: Left
								Width:  1.4"
								Width Editable? Yes
								Format: Unformatted
								Country: Default
								Input Mask: Unformatted
								Cell Options
									Cell Type? Standard
									Multiline Cell? No
									Cell DropDownList
										Sorted? Yes
										Vertical Scroll? Yes
										Auto Drop Down? No
										Allow Text Editing? Yes
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Yes
.end
								List Values 
								Message Actions 
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: colnInfracao
.winattr class
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Infração
								Visible? Yes
								Editable? Yes
								Maximum Data Length: Default
								Data Type: Number
								Justify: Center
								Width:  0.813"
								Width Editable? Yes
								Format: Unformatted
								Country: Default
								Input Mask: Unformatted
								Cell Options
									Cell Type? Standard
									Multiline Cell? No
									Cell DropDownList
										Sorted? Yes
										Vertical Scroll? Yes
										Auto Drop Down? No
										Allow Text Editing? Yes
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Yes
.end
								List Values 
								Message Actions 
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: colnCodigoRENAINF
.winattr class
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Codigo RENAINF
								Visible? Yes
								Editable? Yes
								Maximum Data Length: Default
								Data Type: Number
								Justify: Center
								Width:  1.4"
								Width Editable? Yes
								Format: Unformatted
								Country: Default
								Input Mask: Unformatted
								Cell Options
									Cell Type? Standard
									Multiline Cell? No
									Cell DropDownList
										Sorted? Yes
										Vertical Scroll? Yes
										Auto Drop Down? No
										Allow Text Editing? Yes
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Yes
.end
								List Values 
								Message Actions 
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: coldDataLimiteDefesa
.winattr class
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Dt Limite Defesa
								Visible? No
								Editable? Yes
								Maximum Data Length: Default
								Data Type: Date/Time
								Justify: Left
								Width:  1.4"
								Width Editable? Yes
								Format: dd-MM-yyyy
								Country: Default
								Input Mask: 99-99-9999
								Cell Options
									Cell Type? Standard
									Multiline Cell? No
									Cell DropDownList
										Sorted? Yes
										Vertical Scroll? Yes
										Auto Drop Down? No
										Allow Text Editing? Yes
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Yes
.end
								List Values 
								Message Actions 
									On SAM_Create
										Set _bVisivel = FALSE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: colsSerie
.winattr class
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Serie
								Visible? Yes
								Editable? Yes
								Maximum Data Length: Default
								Data Type: String
								Justify: Left
								Width:  0.488"
								Width Editable? Yes
								Format: Unformatted
								Country: Default
								Input Mask: Unformatted
								Cell Options
									Cell Type? Standard
									Multiline Cell? No
									Cell DropDownList
										Sorted? Yes
										Vertical Scroll? Yes
										Auto Drop Down? No
										Allow Text Editing? Yes
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Yes
.end
								List Values 
								Message Actions 
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: colnAuto
.winattr class
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Auto DETRAN
								Visible? Yes
								Editable? Yes
								Maximum Data Length: Default
								Data Type: Number
								Justify: Center
								Width:  1.263"
								Width Editable? Yes
								Format: Unformatted
								Country: Default
								Input Mask: Unformatted
								Cell Options
									Cell Type? Standard
									Multiline Cell? No
									Cell DropDownList
										Sorted? Yes
										Vertical Scroll? Yes
										Auto Drop Down? No
										Allow Text Editing? Yes
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Yes
.end
								List Values 
								Message Actions 
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: colsTipoMovimento
.winattr class
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Tipo Movimento
								Visible? Yes
								Editable? Yes
								Maximum Data Length: Default
								Data Type: String
								Justify: Left
								Width:  0.488"
								Width Editable? Yes
								Format: Unformatted
								Country: Default
								Input Mask: Unformatted
								Cell Options
									Cell Type? Standard
									Multiline Cell? No
									Cell DropDownList
										Sorted? Yes
										Vertical Scroll? Yes
										Auto Drop Down? No
										Allow Text Editing? Yes
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Yes
.end
								List Values 
								Message Actions 
									On SAM_Create
										Set _bVisivel = FALSE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: colsMensagem
.winattr class
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Mensagem
								Visible? Yes
								Editable? Yes
								Maximum Data Length: Default
								Data Type: String
								Justify: Left
								Width:  3.225"
								Width Editable? Yes
								Format: Unformatted
								Country: Default
								Input Mask: Unformatted
								Cell Options
									Cell Type? Standard
									Multiline Cell? No
									Cell DropDownList
										Sorted? Yes
										Vertical Scroll? Yes
										Auto Drop Down? No
										Allow Text Editing? Yes
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Yes
.end
								List Values 
								Message Actions 
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
						Functions 
						Window Variables 
						Message Actions 
							On SAM_Create
								Set _sTextoStatusBar = 'Selecione os órgãos autuantes dos autos a serem selecionados'
								Set _bPesquisaCreate = FALSE
								Set _bNuncaHabilitado = TRUE
								Set _bSempreHabilitado = FALSE
								Set _sCriacaoConexao = 'FALSE'
								Set _sComandoPesquisa = 'exec dbinfracao..RNFEnvioTransacaoS'
								! coluna para o retorno
								Set _sIntoPesquisa = ':frmEnviaNotificacaoAutuacao.tblAutos.colnOrgaoAutuante,
										:frmEnviaNotificacaoAutuacao.tblAutos.colsNumAutoInfracao,
										:frmEnviaNotificacaoAutuacao.tblAutos.colnInfracao,
										:frmEnviaNotificacaoAutuacao.tblAutos.colnCodigoRENAINF,
										:frmEnviaNotificacaoAutuacao.tblAutos.coldDataLimiteDefesa,
										:frmEnviaNotificacaoAutuacao.tblAutos.colsSerie,
										:frmEnviaNotificacaoAutuacao.tblAutos.colnAuto,
										:frmEnviaNotificacaoAutuacao.tblAutos.colsTipoMovimento,:frmEnviaNotificacaoAutuacao.tblAutos.colnTransacao,
										:frmEnviaNotificacaoAutuacao.tblAutos.colsMensagem,
										:frmEnviaNotificacaoAutuacao.tblAutos.colsDescMovimento'
								Call SalSendClassMessage( SAM_Create, wParam, lParam )
							! On SAM_FetchRowDone
								Call SalTblSetContext( hWndForm, lParam )
								If colsTipoMovimento = 'D'
									Set colnTransacao = 412
								Else If colsTipoMovimento = 'N'
									Set colnTransacao =413
					Child Table: tblAutos
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class: cQCK2ChildTable
						Property Template:
						Class DLL Name:
						Display Settings
							Window Location and Size
								Left: 0.238"
								Top: 0.281"
								Width:  10.6"
								Width Editable? Class Default
								Height: 3.542"
								Height Editable? Class Default
							Visible? Class Default
							Font Name: Class Default
							Font Size: Class Default
							Font Enhancement: Class Default
							Text Color: Class Default
							Background Color: Class Default
							View: Class Default
							Allow Row Sizing? Class Default
							Lines Per Row: Class Default
						Memory Settings
							Maximum Rows in Memory: 20000
							Discardable? Class Default
						Contents
							Column: colsMensagem
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Mensagem
								Visible? Class Default
								Editable? Class Default
								Maximum Data Length: Class Default
								Data Type: Class Default
								Justify: Class Default
								Width:  1.9"
								Width Editable? Class Default
								Format: Class Default
								Country: Class Default
								Input Mask: Class Default
								Cell Options
									Cell Type? Class Default
									Multiline Cell? Class Default
									Cell DropDownList
										Sorted? Class Default
										Vertical Scroll? Class Default
										Auto Drop Down? Class Default
										Allow Text Editing? Class Default
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Class Default
								List Values
								Message Actions
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: colsDescMovimento
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Movimento
								Visible? Class Default
								Editable? Class Default
								Maximum Data Length: Class Default
								Data Type: Class Default
								Justify: Class Default
								Width:  1.463"
								Width Editable? Class Default
								Format: Class Default
								Country: Class Default
								Input Mask: Class Default
								Cell Options
									Cell Type? Class Default
									Multiline Cell? Class Default
									Cell DropDownList
										Sorted? Class Default
										Vertical Scroll? Class Default
										Auto Drop Down? Class Default
										Allow Text Editing? Class Default
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Class Default
								List Values
								Message Actions
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: colnTransacao
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Transacao
								Visible? Class Default
								Editable? Class Default
								Maximum Data Length: Class Default
								Data Type: Number
								Justify: Center
								Width:  0.538"
								Width Editable? Class Default
								Format: Class Default
								Country: Class Default
								Input Mask: Class Default
								Cell Options
									Cell Type? Class Default
									Multiline Cell? Class Default
									Cell DropDownList
										Sorted? Class Default
										Vertical Scroll? Class Default
										Auto Drop Down? Class Default
										Allow Text Editing? Class Default
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Class Default
								List Values
								Message Actions
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: colnOrgaoAutuante
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Orgão Autuante
								Visible? Class Default
								Editable? Class Default
								Maximum Data Length: Class Default
								Data Type: Number
								Justify: Class Default
								Width:  1.4"
								Width Editable? Class Default
								Format: Class Default
								Country: Class Default
								Input Mask: Class Default
								Cell Options
									Cell Type? Class Default
									Multiline Cell? Class Default
									Cell DropDownList
										Sorted? Class Default
										Vertical Scroll? Class Default
										Auto Drop Down? Class Default
										Allow Text Editing? Class Default
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Class Default
								List Values
								Message Actions
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: colsNumAutoInfracao
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Auto RENAINF
								Visible? Class Default
								Editable? Class Default
								Maximum Data Length: Class Default
								Data Type: Class Default
								Justify: Class Default
								Width:  1.4"
								Width Editable? Class Default
								Format: Class Default
								Country: Class Default
								Input Mask: Class Default
								Cell Options
									Cell Type? Class Default
									Multiline Cell? Class Default
									Cell DropDownList
										Sorted? Class Default
										Vertical Scroll? Class Default
										Auto Drop Down? Class Default
										Allow Text Editing? Class Default
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Class Default
								List Values
								Message Actions
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: colnInfracao
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Infração
								Visible? Class Default
								Editable? Class Default
								Maximum Data Length: Class Default
								Data Type: Number
								Justify: Center
								Width:  0.813"
								Width Editable? Class Default
								Format: Class Default
								Country: Class Default
								Input Mask: Class Default
								Cell Options
									Cell Type? Class Default
									Multiline Cell? Class Default
									Cell DropDownList
										Sorted? Class Default
										Vertical Scroll? Class Default
										Auto Drop Down? Class Default
										Allow Text Editing? Class Default
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Class Default
								List Values
								Message Actions
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: colnCodigoRENAINF
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Codigo RENAINF
								Visible? Class Default
								Editable? Class Default
								Maximum Data Length: Class Default
								Data Type: Number
								Justify: Center
								Width:  1.4"
								Width Editable? Class Default
								Format: Class Default
								Country: Class Default
								Input Mask: Class Default
								Cell Options
									Cell Type? Class Default
									Multiline Cell? Class Default
									Cell DropDownList
										Sorted? Class Default
										Vertical Scroll? Class Default
										Auto Drop Down? Class Default
										Allow Text Editing? Class Default
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Class Default
								List Values
								Message Actions
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: coldDataLimiteDefesa
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Dt Limite Defesa
								Visible? No
								Editable? Class Default
								Maximum Data Length: Class Default
								Data Type: Date/Time
								Justify: Class Default
								Width:  1.4"
								Width Editable? Class Default
								Format: dd-MM-yyyy
								Country: Class Default
								Input Mask: 99-99-9999
								Cell Options
									Cell Type? Class Default
									Multiline Cell? Class Default
									Cell DropDownList
										Sorted? Class Default
										Vertical Scroll? Class Default
										Auto Drop Down? Class Default
										Allow Text Editing? Class Default
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Class Default
								List Values
								Message Actions
									On SAM_Create
										Set _bVisivel = FALSE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: colsSerie
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Serie
								Visible? Class Default
								Editable? Class Default
								Maximum Data Length: Class Default
								Data Type: Class Default
								Justify: Class Default
								Width:  0.488"
								Width Editable? Class Default
								Format: Class Default
								Country: Class Default
								Input Mask: Class Default
								Cell Options
									Cell Type? Class Default
									Multiline Cell? Class Default
									Cell DropDownList
										Sorted? Class Default
										Vertical Scroll? Class Default
										Auto Drop Down? Class Default
										Allow Text Editing? Class Default
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Class Default
								List Values
								Message Actions
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: colnAuto
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Auto DETRAN
								Visible? Class Default
								Editable? Class Default
								Maximum Data Length: Class Default
								Data Type: Number
								Justify: Center
								Width:  1.263"
								Width Editable? Class Default
								Format: Class Default
								Country: Class Default
								Input Mask: Class Default
								Cell Options
									Cell Type? Class Default
									Multiline Cell? Class Default
									Cell DropDownList
										Sorted? Class Default
										Vertical Scroll? Class Default
										Auto Drop Down? Class Default
										Allow Text Editing? Class Default
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Class Default
								List Values
								Message Actions
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: colsTipoMovimento
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Tipo Movimento
								Visible? Class Default
								Editable? Class Default
								Maximum Data Length: Class Default
								Data Type: Class Default
								Justify: Class Default
								Width:  0.488"
								Width Editable? Class Default
								Format: Class Default
								Country: Class Default
								Input Mask: Class Default
								Cell Options
									Cell Type? Class Default
									Multiline Cell? Class Default
									Cell DropDownList
										Sorted? Class Default
										Vertical Scroll? Class Default
										Auto Drop Down? Class Default
										Allow Text Editing? Class Default
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Class Default
								List Values
								Message Actions
									On SAM_Create
										Set _bVisivel = FALSE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
							Column: coldDataMovimento
								Class Child Ref Key: 0
								Class ChildKey: 0
								Class: cQCK2Column
								Property Template:
								Class DLL Name:
								Title: Data Movto
								Visible? Yes
								Editable? Class Default
								Maximum Data Length: Class Default
								Data Type: Date/Time
								Justify: Class Default
								Width:  1.4"
								Width Editable? Class Default
								Format: dd-MM-yyyy
								Country: Class Default
								Input Mask: 99-99-9999
								Cell Options
									Cell Type? Class Default
									Multiline Cell? Class Default
									Cell DropDownList
										Sorted? Class Default
										Vertical Scroll? Class Default
										Auto Drop Down? Class Default
										Allow Text Editing? Class Default
									Cell CheckBox
										Check Value:
										Uncheck Value:
										Ignore Case? Class Default
								List Values
								Message Actions
									On SAM_Create
										Set _bVisivel = TRUE
										Set _bPermiteNulos = TRUE
										Set _bNuncaHabilitado = TRUE
										Set _sTipoMsgNulo = 'PADRAO'
										Call SalSendClassMessage( SAM_Create, wParam, lParam )
						Functions
						Window Variables
						Message Actions
							On SAM_Create
								Set _sTextoStatusBar = 'Selecione os órgãos autuantes dos autos a serem selecionados'
								Set _bPesquisaCreate = FALSE
								Set _bNuncaHabilitado = TRUE
								Set _bSempreHabilitado = FALSE
								Set _sCriacaoConexao = 'FALSE'
								Set _sComandoPesquisa = 'exec dbinfracao..RNFEnvioTransacaoS'
								! coluna para o retorno
								Set _sIntoPesquisa = ':frmEnviaNotificacaoAutuacao.tblAutos.colnOrgaoAutuante,
										:frmEnviaNotificacaoAutuacao.tblAutos.colsNumAutoInfracao,
										:frmEnviaNotificacaoAutuacao.tblAutos.colnInfracao,
										:frmEnviaNotificacaoAutuacao.tblAutos.colnCodigoRENAINF,
										:frmEnviaNotificacaoAutuacao.tblAutos.coldDataLimiteDefesa,
										:frmEnviaNotificacaoAutuacao.tblAutos.colsSerie,
										:frmEnviaNotificacaoAutuacao.tblAutos.colnAuto,
										:frmEnviaNotificacaoAutuacao.tblAutos.colsTipoMovimento,:frmEnviaNotificacaoAutuacao.tblAutos.colnTransacao,
										:frmEnviaNotificacaoAutuacao.tblAutos.colsMensagem,
										:frmEnviaNotificacaoAutuacao.tblAutos.colsDescMovimento,
										:frmEnviaNotificacaoAutuacao.tblAutos.coldDataMovimento'
								Call SalSendClassMessage( SAM_Create, wParam, lParam )
							On SAM_FetchRowDone
								Set dfnTransmitir = dfnTransmitir + 1
					Pushbutton: pbArquivar
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class: cQCK1PushButton
						Property Template:
						Class DLL Name:
						Title: &Transmitir
						Window Location and Size
							Left: 9.088"
							Top: 3.99"
							Width:  0.95"
							Width Editable? Class Default
							Height: Class Default
							Height Editable? Class Default
						Visible? Yes
						Keyboard Accelerator: Class Default
						Font Name: Class Default
						Font Size: Class Default
						Font Enhancement: Class Default
						Picture File Name:
						Picture Transparent Color: Class Default
						Image Style: Class Default
						Text Color: Class Default
						Background Color: Class Default
						Message Actions
							On SAM_Create
								Set _sNroCamposIgnorados = 'NENHUM'
								Set _sTextoStatusBar = 'Cria o arquivo'
								Set _sTipoComando = 'Arquiva'
								Set _bValidaCamposNulos = TRUE
								Call SalSendClassMessage( SAM_Create, wParam, lParam )
					! Botões 
					Data Field: dfsNaoEnviado
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class: cQCK1DataField
						Property Template:
						Class DLL Name:
						Data
							Maximum Data Length: Class Default
							Data Type: Class Default
							Editable? Class Default
						Display Settings
							Window Location and Size
								Left: Default
								Top: Default
								Width:  Class Default
								Width Editable? Class Default
								Height: Class Default
								Height Editable? Class Default
							Visible? No
							Border? Class Default
							Justify: Class Default
							Format: Class Default
							Country: Class Default
							Font Name: Class Default
							Font Size: Class Default
							Font Enhancement: Class Default
							Text Color: Class Default
							Background Color: Class Default
							Input Mask: Class Default
						Message Actions
							On SAM_Create
								Set _bVisivel = FALSE
								Set _bSempreHabilitado = FALSE
								Set _bPermiteNulos = TRUE
								Set _bNuncaHabilitado = TRUE
								Set _sValorDefault = 'S'
								Call SalSendClassMessage( SAM_Create, wParam, lParam )
					Pushbutton: pbSair
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class: cQCK1PushButton
						Property Template:
						Class DLL Name:
						Title: &Sair
						Window Location and Size
							Left: 10.088"
							Top: 3.99"
							Width:  0.95"
							Width Editable? Class Default
							Height: Class Default
							Height Editable? Class Default
						Visible? Class Default
						Keyboard Accelerator: Class Default
						Font Name: Class Default
						Font Size: Class Default
						Font Enhancement: Class Default
						Picture File Name:
						Picture Transparent Color: Class Default
						Image Style: Class Default
						Text Color: Class Default
						Background Color: Class Default
						Message Actions
							On SAM_Create
								Set _sTextoStatusBar = 'Sai desta tela'
								Set _sTipoComando = 'Sai'
								Call SalSendClassMessage( SAM_Create, wParam, lParam )
							On MSG_Desabilita1
					Picture: picSemaforo
						Class Child Ref Key: 1
						Class ChildKey: 0
						Class: cQCK1Form
						Property Template:
						Class DLL Name:
						Window Location and Size
							Left: 0.088"
							Top: 3.99"
							Width:  Class Default
							Width Editable? Class Default
							Height: Class Default
							Height Editable? Class Default
						Visible? Class Default
						Editable? Class Default
						File Name:
						Storage: Class Default
						Picture Transparent Color: Class Default
						Fit: Class Default
						Scaling
							Width:  Class Default
							Height:  Class Default
						Corners: Class Default
						Border Style: Class Default
						Border Thickness: Class Default
						Tile To Parent? Class Default
						Border Color: Class Default
						Background Color: Class Default
						Message Actions
					Background Text: TOTAL:
						Resource Id: 43442
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class: cQCK1BackgroundText
						Window Location and Size
							Left: 0.638"
							Top: 4.073"
							Width:  Class Default
							Width Editable? Class Default
							Height: Class Default
							Height Editable? Class Default
						Visible? Class Default
						Justify: Class Default
						Font Name: Class Default
						Font Size: Class Default
						Font Enhancement: Class Default
						Text Color: Class Default
						Background Color: Class Default
					Background Text: TRANSMITIDOS:
						Resource Id: 43441
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class: cQCK1BackgroundText
						Window Location and Size
							Left: 2.938"
							Top: 4.073"
							Width:  1.45"
							Width Editable? Class Default
							Height: Class Default
							Height Editable? Class Default
						Visible? Class Default
						Justify: Class Default
						Font Name: Class Default
						Font Size: Class Default
						Font Enhancement: Class Default
						Text Color: Class Default
						Background Color: Class Default
					Data Field: dfnTransmitir
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Data
							Maximum Data Length: Default
							Data Type: Number
							Editable? Yes
						Display Settings
							Window Location and Size
								Left: 1.538"
								Top: 4.031"
								Width:  0.9"
								Width Editable? Yes
								Height: 0.25"
								Height Editable? Yes
							Visible? Yes
							Border? Yes
							Justify: Left
							Format: Unformatted
							Country: Default
							Font Name: Default
							Font Size: Default
							Font Enhancement: Default
							Text Color: Default
							Background Color: Default
							Input Mask: Unformatted
						Message Actions
					Data Field: dfnTransmitido
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Data
							Maximum Data Length: Default
							Data Type: Number
							Editable? Yes
						Display Settings
							Window Location and Size
								Left: 4.438"
								Top: 4.031"
								Width:  0.8"
								Width Editable? Yes
								Height: 0.25"
								Height Editable? Yes
							Visible? Yes
							Border? Yes
							Justify: Left
							Format: Unformatted
							Country: Default
							Font Name: Default
							Font Size: Default
							Font Enhancement: Default
							Text Color: Default
							Background Color: Default
							Input Mask: Unformatted
						Message Actions
					Data Field: dfsMensagem
						Class Child Ref Key: 0
						Class ChildKey: 0
						Class:
						Property Template:
						Class DLL Name:
						Data
							Maximum Data Length: Default
							Data Type: String
							Editable? Yes
						Display Settings
							Window Location and Size
								Left: 5.638"
								Top: 4.031"
								Width:  3.3"
								Width Editable? Yes
								Height: 0.25"
								Height Editable? Yes
							Visible? Yes
							Border? Yes
							Justify: Left
							Format: Unformatted
							Country: Default
							Font Name: Default
							Font Size: Default
							Font Enhancement: Default
							Text Color: Default
							Background Color: Default
							Input Mask: Unformatted
						Message Actions
				Functions
					Function: GeraArquivo
						Description:
						Returns
						Parameters
						Static Variables
						Local variables
							Number: nRow
						Actions
							! começa a verificação do Arquivo...
							Set nRow = 0
							Call SalTblSetContext( tblAutos, nRow )
							Loop
								If SalTblFetchRow( tblAutos, nRow ) = TBL_NoMoreRows
									Break
								Call SalTblSetRowFlags( tblAutos, ROW_Edited, nRow, TRUE )
								If tblAutos.colsTipoMovimento = 'E' 
									Call fComunicaBIN(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',7,2,'3')
								Else If tblAutos.colsTipoMovimento = 'M'
									Call fComunicaBIN(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',8,1,'3')
								Else If tblAutos.colsTipoMovimento = 'S'
									Call fComunicaBIN(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',6,1,'3')
								Else If tblAutos.colsTipoMovimento = 'T'
									Call fComunicaBIN(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',8,9,'3')
								Else If tblAutos.colsTipoMovimento = 'Y'
									Call fComunicaBIN(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',8,9,'4')
								Else If tblAutos.colsTipoMovimento = '4'
									Call fComunicaBIN(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',7,1,'3')
								Else If tblAutos.colsTipoMovimento = '5'
									Call fComunicaBIN(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',7,2,'3')
								Else
									Call fComunicaBIN(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',7,1,'3')
								Set nRow = nRow + 1
							! Set tblAutos._sComandoPesquisa = 'exec dbinfracao..RNFRegistroPontuacao'
							! Call SalSendMsg( tblAutos, MSG_PesquisaTabela, 0 ,0)
							! Loop
								If SalTblFetchRow( tblAutos, nRow ) = TBL_NoMoreRows
									Break 
								Call SalTblSetRowFlags( tblAutos, ROW_Edited, nRow, TRUE )
								If tblAutos.colsTipoMovimento = 'E' 
									Call fComunicaBIN(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',7,2,'3')
								Else If tblAutos.colsTipoMovimento = 'M'
									Call fComunicaBIN(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',8,1,'3')
								Else If tblAutos.colsTipoMovimento = 'S'
									Call fComunicaBIN(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',6,1,'3')
								Else If tblAutos.colsTipoMovimento = 'T'
									Call fComunicaBIN(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',8,9,'3')
								Else If tblAutos.colsTipoMovimento = 'Y'
									Call fComunicaBIN(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',8,9,'4')
								Else 
									Call fComunicaBIN(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',7,1,'3')
								Set nRow = nRow + 1
							! Call SalDestroyWindow( mdiInfracao )
							Call GeraArquivoRENAINF()
							Call SalSendMsg( tblAutos, MSG_PesquisaTabela, 0 ,0)
							! Call SalSendMsg( pbArquivar, SAM_Click, 0 ,0)
							If NOT GeraArquivo(  )
								Return TRUE
							! Call SalModalDialog( dlgEnvioTransacao, hWndNULL )
							Return TRUE
					! Function: GeraArquivo
						Description: 
						Returns 
						Parameters 
						Static Variables 
						Local variables 
							Number: nRow
						Actions 
							! começa a verificação do Arquivo...
							Set nRow = 0
							Call SalTblSetContext( tblAutos, nRow )
							Loop 
								If SalTblFetchRow( tblAutos, nRow ) = TBL_NoMoreRows
									Break 
								Call SalTblSetRowFlags( tblAutos, ROW_Edited, nRow, TRUE )
								If tblAutos.colsTipoMovimento = 'E' 
									Call fTransmiteRENAINF(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',7,2,'3')
								Else If tblAutos.colsTipoMovimento = 'M'
									Call fTransmiteRENAINF(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',8,1,'3')
								Else If tblAutos.colsTipoMovimento = 'S'
									Call fTransmiteRENAINF(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',6,1,'3')
								Else If tblAutos.colsTipoMovimento = 'T'
									Call fTransmiteRENAINF(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',8,9,'3')
								Else If tblAutos.colsTipoMovimento = 'Y'
									Call fTransmiteRENAINF(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',8,9,'4')
								Else 
									Call fTransmiteRENAINF(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',7,1,'3')
								Set nRow = nRow + 1
							Set tblAutos._sComandoPesquisa = 'exec dbinfracao..RNFRegistroPontuacao'
							Call SalSendMsg( tblAutos, MSG_PesquisaTabela, 0 ,0)
							Loop 
								If SalTblFetchRow( tblAutos, nRow ) = TBL_NoMoreRows
									Break 
								Call SalTblSetRowFlags( tblAutos, ROW_Edited, nRow, TRUE )
								If tblAutos.colsTipoMovimento = 'E' 
									Call fTransmiteRENAINF(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',7,2,'3')
								Else If tblAutos.colsTipoMovimento = 'M'
									Call fTransmiteRENAINF(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',8,1,'3')
								Else If tblAutos.colsTipoMovimento = 'S'
									Call fTransmiteRENAINF(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',6,1,'3')
								Else If tblAutos.colsTipoMovimento = 'T'
									Call fTransmiteRENAINF(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',8,9,'3')
								Else If tblAutos.colsTipoMovimento = 'Y'
									Call fTransmiteRENAINF(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',8,9,'4')
								Else 
									Call fTransmiteRENAINF(tblAutos.colsSerie,tblAutos.colnOrgaoAutuante,
											tblAutos.colnAuto,
											tblAutos.colnInfracao,tblAutos.colnTransacao,'EV01',hSqlApp,'','','','',7,1,'3')
								Set nRow = nRow + 1
							Call SalDestroyWindow( mdiInfracao )
							! Call SalModalDialog( dlgEnvioTransacao, hWndNULL )
							Return TRUE
					Function: fComunicaBIN
						Description:
						Returns
						Parameters
							String: sSerie
							Number: nOrgaoAutuante 
							Number: nAuto
							Number: nInfracao
							Number: nTransacao
							String: sTipoRegistroTransacao
							Sql Handle: phSqlApp
							String: sNumAutoInfracao
							String: sPlaca
							String: sCond
							String: sMotivoCancelamento
							Number: nTipoOcorrencia
							Number: nTipoLancamento
							String: sOrigemOcorrencia
						Static Variables
						Local variables
							Number: nLinha
							Long String: lsMensagem
							Long String: lsMensagem2
							Number: nSeqTransacao
							Number: nCodConsulta
							String: sMensagem
							Number: nRetorno
							Number: nCodRetorno
						Actions
							If fMPSPrepareProc( phSqlApp, 'exec dbinfracao..RNFTransmiteAuto @Serie = :sSerie,
									@CodigoOrgaoAut =:nOrgaoAutuante, @Auto =:nAuto,
									@Infracao = :nInfracao,
									@CodConsulta = :nTransacao, 
									@TipoRegistroTransacao=:sTipoRegistroTransacao,
									@NumAutoInfracao = :sNumAutoInfracao,
									@Placa=:sPlaca,@Condicionalidade=:sCond,
									@MotivoCancelamento=:sMotivoCancelamento,
									@TipoOcorrencia=:nTipoOcorrencia,@TipoLancamento=:nTipoLancamento,@OrigemOcorrencia=:sOrigemOcorrencia', 
									':lsMensagem,:lsMensagem2' )
								! Call SqlExecute( hSqlApp )
							!
							If NOT SqlExecute( phSqlApp )
								! Call fMPSDisconnect( phSqlApp )
								Return FALSE
							Call SqlFetchNext( phSqlApp, nRetorno )
							If nRetorno != FETCH_Ok
								! Call fMPSDisconnect( phSqlApp )
								Return FALSE
							Set lsMensagem = lsMensagem || lsMensagem2
							Set nCodConsulta = SalStrToNumber( SalStrMidX( lsMensagem, 6, 3) )
							Set nSeqTransacao = SalStrToNumber( SalStrLeftX( lsMensagem, 6  ) )
							Set nSeqTransacaoRENAINF = nSeqTransacao
							Set nCodConsultaRENAINF = nCodConsulta
							Call fMPSDisconnect( phSqlApp )
							! Call SqlGetResultSetCount( hSqlApp, nRetorno )
							!
							Set dfsMensagem ='COMUNICANDO COM A BIN.............'
							! If NOT FuncaoHelpCom( lsMensagem ) ----antes 08/06/2018 ---ajs
								Call fMPSDisconnect( phSqlApp )
								! Return FALSE
							If NOT fFuncaoComunicacao( lsMensagem )
								Call fMPSDisconnect( phSqlApp )
								! Return FALSE
							Set nLinha = nLinha + 1
									
							! PAREI AQUI
							Set dfsMensagem = 'PROCESSANDO.............'
							Call fMPSConnect( phSqlApp )
							If fMPSPrepareProc( phSqlApp, 'exec dbinfracao..RNFTrataRetorno @CodTransacao = :nCodConsulta,
									@NumSeqTransacao =:nSeqTransacao,@CodigoOrgaoAut=:nOrgaoAutuante,
									@nAuto = :nAuto,@Serie=:sSerie,@TipoOcorrencia=:nTipoOcorrencia,
									@TipoLancamento=:nTipoLancamento,
									@OrigemOcorrencia=:sOrigemOcorrencia', ':nCodRetorno' )
								! Call SqlExecute( hSqlApp )
							Set dfnTransmitido = dfnTransmitido + 1
							If NOT SqlExecute( phSqlApp )
								! Call fMPSDisconnect( hSqlApp )
								Return FALSE
							Call SqlFetchNext( phSqlApp, nRetorno )
							! Set tblReenvioRENAINF.colsMensagem= sMensagem
							! Call fMPSDisconnect( hSqlApp )
					! Function: fFuncaoComunicacao
						Description: 
						Returns 
						Parameters 
							String: sTringEnvio
						Static Variables 
						Local variables 
							String: sTipoTransacao
							String: sDestinoTransacao
							Sql Handle: hSqlComunicacao
							Number: nFetch
							Number: nRetorno
							String: sParametro1
							String: sParametro2
							String: sParametro3
							Number: nNumseq
							Number: nCodTransacao
						Actions 
							Call SalStrSetBufferLength( sTringEnvio, 4096 )
							! Set frmEnviaNotificacaoAutuacao.dfsMensagem = 'COMUNICANDO COM BINIT.................'
							Set nRetorno = 20
							! Recuperando o código da transação
							! Set dfnTransacao = SalStrToNumber(SalStrMidX(sTringEnvio, 6, 3))
							Set sDestinoTransacao = SalStrMidX( sTringEnvio, 25, 2)
							! Verifica o tipo de transação
							If fMPSConnect( hSqlComunicacao )
								! If fMPSPrepareProc( hSqlComunicacao, 'exec ' || DATABASE_RENAVAM || '..TipoConsultaS @Transacao = :dfnTransacao', ':sTipoTransacao' )
									If SqlExecute( hSqlComunicacao )
										Call SqlFetchNext( hSqlComunicacao, nFetch )
										If nFetch = FETCH_Ok
											If SalStrUpperX( sTipoTransacao ) = 'R'
												Call SalSetWindowText( hWndForm, 'Comunicação BINIT' )
								Set nRetorno = _FSocket32( sGlbIPRENAVAM, nGlbPortaRENAVAM, 20, sTringEnvio, 4096 )
								Set sTringEnvio = SalStrMidX( sTringEnvio, 55, 4096 )
								If nRetorno != 55 And nRetorno > 0
									Set sParametro1 = SalStrMidX(sTringEnvio,0,255)
									Set sParametro2 = SalStrMidX(sTringEnvio,255,255)
									Set sParametro3 = SalStrMidX(sTringEnvio,510,255)
									Set nNumseq = SalStrToNumber(SalStrMidX(sTringEnvio, 0, 6))
									Set nCodTransacao = SalStrToNumber(SalStrMidX(sTringEnvio,6,3))
									If fMPSPrepareProc( hSqlComunicacao, 'exec ' || DATABASE_RENAVAM || '..RetRenavamI
											@Parametro1 = :sParametro1, @Parametro2 = :sParametro2, @Parametro3=:sParametro3', '' )
										Call SqlExecute( hSqlComunicacao )
										Set nRetorno = 0
									! Set frmEnviaNotificacaoAutuacao.dfsMensagem = 'PROCESSANDO.....'
								Call fMPSDisconnect( hSqlComunicacao )
								Return TRUE
							! If fMPSConnect( hSqlComunicacao )
								If fMPSPrepareProc( hSqlComunicacao, 'exec ' || DATABASE_RENAVAM || '..TipoConsultaS @Transacao = :dfnTransacao', ':sTipoTransacao' )
									If SqlExecute( hSqlComunicacao )
										Call SqlFetchNext( hSqlComunicacao, nFetch )
										If nFetch = FETCH_Ok
											If SalStrUpperX( sTipoTransacao ) = 'R'
												Call SalSetWindowText( hWndForm, 'Comunicação BINIT' )
												Set nRetorno = _FSocket32( sGlbIPRENAVAM, nGlbPortaRENAVAM, 20, sTringEnvio, 4096 )
											Set sTringEnvio = SalStrMidX( sTringEnvio, 55, 4096 )
											If nRetorno != 55 And nRetorno > 0
												Set sParametro1 = SalStrMidX(sTringEnvio,0,255)
												Set sParametro2 = SalStrMidX(sTringEnvio,255,255)
												Set sParametro3 = SalStrMidX(sTringEnvio,510,255)
												Set nNumseq = SalStrToNumber(SalStrMidX(sTringEnvio, 0, 6))
												Set nCodTransacao = SalStrToNumber(SalStrMidX(sTringEnvio,6,3))
												If fMPSPrepareProc( hSqlComunicacao, 'exec ' || DATABASE_RENAVAM || '..RetRenavamI
														@Parametro1 = :sParametro1, @Parametro2 = :sParametro2, @Parametro3=:sParametro3', '' )
													Call SqlExecute( hSqlComunicacao )
													Set nRetorno = 0
												! Set frmEnviaNotificacaoAutuacao.dfsMensagem = 'PROCESSANDO.....'
								Call fMPSDisconnect( hSqlComunicacao )
								Return TRUE
					Function: fFuncaoComunicacao
						Description:
						Returns
						Parameters
							String: sTringEnvio
						Static Variables
						Local variables
							String: sTipoTransacao
							String: sDestinoTransacao
							! Long String: sTringRetorno
							Sql Handle: hSqlComunicacao
							Number: nFetch
							Number: nRetorno
							String: sParametro1
							String: sParametro2
							String: sParametro3
							Number: nNumseq
							Number: nCodTransacao
						Actions
							Call SalStrSetBufferLength( sTringEnvio, 4096 )
							Set dfsMensagem = 'COMUNICANDO COM BINIT.................'
							Set nRetorno = 20
							! Recuperando o código da transação
							Set nCodTransacao = SalStrToNumber(SalStrMidX(sTringEnvio, 6, 3))
							Set sDestinoTransacao = SalStrMidX( sTringEnvio, 25, 2)
							! Verifica o tipo de transação
							If fMPSConnect( hSqlComunicacao )
								If fMPSPrepareProc( hSqlComunicacao, 'exec ' || DATABASE_RENAVAM || '..TipoConsultaS @Transacao = :nCodTransacao', ':sTipoTransacao' )
									If SqlExecute( hSqlComunicacao )
										Call SqlFetchNext( hSqlComunicacao, nFetch )
										If nFetch = FETCH_Ok
											If SalStrUpperX( sTipoTransacao ) = 'R'
												Call SalSetWindowText( hWndForm, 'Comunicação BINIT' )
												Set nRetorno = _FSocket32( sGlbIPRENAVAM, nGlbPortaRENAVAM, 20, sTringEnvio, 4096 )
											Set sTringEnvio = SalStrMidX( sTringEnvio, 55, 4096 )
											If nRetorno != 55 And nRetorno > 0
												Set sParametro1 = SalStrMidX(sTringEnvio,0,255)
												Set sParametro2 = SalStrMidX(sTringEnvio,255,255)
												Set sParametro3 = SalStrMidX(sTringEnvio,510,255)
												Set nNumseq = SalStrToNumber(SalStrMidX(sTringEnvio, 0, 6))
												Set nCodTransacao = SalStrToNumber(SalStrMidX(sTringEnvio,6,3))
												If fMPSPrepareProc( hSqlComunicacao, 'exec ' || DATABASE_RENAVAM || '..RetRenavamI
														@Parametro1 = :sParametro1, @Parametro2 = :sParametro2, @Parametro3=:sParametro3', '' )
													Call SqlExecute( hSqlComunicacao )
													Set nRetorno = 0
												Set dfsMensagem = 'PROCESSANDO.....'
								Call fMPSDisconnect( hSqlComunicacao )
								Return TRUE
					! Function: MontaArquivo
						Description: 
						Returns 
						Parameters 
						Static Variables 
						Local variables 
							Boolean: bFimLeitura
							Number: nRow
						Actions 
							Set nRegistros = 0
							Set nRow = 0
							Set bFimLeitura = FALSE
							! Call SqlFetchNext( hSqlApp, nProximo )
							If nProximo = FETCH_EOF
								Call SalMessageBox( 'Não há notificações de multa a serem enviadas', 'Atenção', MB_IconExclamation | MB_Ok ) 
								Call SalWaitCursor( FALSE )
								Return FALSE
							! Call SalTblInsertRow( tblAutos, nRow )
							! Set tblAutos.colsArquivo = sArquivo
							Loop 
								Call SalSendMsg( dfmContador, SAM_Validate, nRegistros, 0)
								Set nRegistros = nRegistros + 1
								If NOT bFimLeitura
									If nTipoArquivo != nTipoArquivoAnt 
										If nTipoArquivoAnt != 0
											Call SalFileClose( hArquivo )
										Call SalTblInsertRow( tblAutos, nRow )
										Set tblAutos.colsArquivo = sArquivo
										Set nRow = nRow + 1
										Set nTipoArquivoAnt = nTipoArquivo
										If SalFileOpen( hArquivo, sArquivo, OF_Read | OF_Share_Exclusive)
											Call SalFileClose( hArquivo )
											Call SalFileCopy( sArquivo, SalStrLeftX( sArquivo,  SalStrLength( sArquivo ) - 3 ) || 'BCK', FALSE)
										If NOT SalFileOpen( hArquivo, sArquivo, OF_Write | OF_Create  )
											Call SalMessageBox( 'Não foi possível abrir Arquivo: '||sArquivo||' verifique se caminho está correto, ou se há espaço na unidade de disco ou ainda se existe permissão para a gravação do arquivo',
													                                     'Atenção', MB_Ok|MB_IconStop )
											Return FALSE
									Call SalFilePutStr( hArquivo,
											sRegistro1||SalStrRepeatX(' ',255-SalStrLength(sRegistro1)) || sRegistro2 ||SalStrRepeatX(' ',23-SalStrLength(sRegistro2))   || sRegistro3 ||SalStrRepeatX(' ',197-SalStrLength(sRegistro3))
											|| sRegistro4 || SalStrRepeatX(' ',197-SalStrLength(sRegistro4)) || sRegistro5 || SalStrRepeatX(' ',197-SalStrLength(sRegistro5)) || sRegistro6 ||SalStrRepeatX(' ',197-SalStrLength(sRegistro6)) || sRegistro7 ||SalStrRepeatX(' ',197-SalStrLength(sRegistro7)) ||
											sRegistro8 || SalStrRepeatX(' ',59-SalStrLength(sRegistro8)))
									If NOT  SqlFetchNext( hSqlApp, nProximo )
										Set bFimLeitura = TRUE
										Break 
								Else 
									Call SalFilePutStr( hArquivo, SalStrRepeatX( ' ', 790 ) )
									If SalNumberMod( nRegistros, 30 ) = 0
										Break 
							Call SalFileClose( hArquivo )
							Return TRUE
					Function: GeraArquivoRENAINF
						Description:
						Returns
						Parameters
						Static Variables
						Local variables
						Actions
							! começa a verificação do Arquivo...
							Set nTipoArquivoAnt = 0
							! Seleciona dados para o arquivo
							Set sArquivo = NomeArquivo( sArquivo)
							Set sCaminho = NomeDiretorio( sArquivo)
							!
							Set _sComandoPesquisa = 'exec dbinfracao..RNFGeraArquivoTransacaoS @Transacao =414'
							! -
							!
							Call SybPrepareProc( hSqlApp,_sComandoPesquisa, ':frmEnviaNotificacaoAutuacao.sArquivo,:frmEnviaNotificacaoAutuacao.sRegistro1,:frmEnviaNotificacaoAutuacao.sRegistro2,:frmEnviaNotificacaoAutuacao.sRegistro8')
							If NOT SqlExecute( hSqlApp )
								Call SalWaitCursor( FALSE )
								Return FALSE
							! 26/11/2004
							Call SqlFetchNext( hSqlApp, nProximo )
							If nProximo != FETCH_EOF
								Set nRetomando =  SalFileOpen( hArquivo, sArquivo,OF_Write|OF_Create )
								!
							If NOT  MontaArquivoRENAINF( )
								Call SalWaitCursor( FALSE )
								Return TRUE
							! Fecha arquivo
							Return TRUE
					Function: MontaArquivoRENAINF
						Description:
						Returns
						Parameters
						Static Variables
						Local variables
							Boolean: bFimLeitura
						Actions
							Set bFimLeitura = FALSE
							! Call SqlFetchNext( hSqlApp, nProximo )
							If nProximo = FETCH_EOF
								Call SalMessageBox( 'Não há Registros para transmitir', 'Atenção', MB_IconExclamation | MB_Ok )
								Call SalWaitCursor( FALSE )
								Return FALSE
							Loop
								If NOT bFimLeitura
									Call SalFilePutStr( hArquivo,frmEnviaNotificacaoAutuacao.sRegistro1||frmEnviaNotificacaoAutuacao.sRegistro2||frmEnviaNotificacaoAutuacao.sRegistro8)
									If NOT  SqlFetchNext( hSqlApp, nProximo )
										Set bFimLeitura = TRUE
										Break
							Call SalFileClose( hArquivo )
							Call SalMessageBox("Envie o arquivo:"|| frmEnviaNotificacaoAutuacao.sArquivo || " pelo QWARE", 'Arquivo de pagamentos',MB_Ok )
							Return TRUE
				Window Parameters
				Window Variables
					Number: nRegistros
					Number: nTotalRegistros
					Number: nTipoArquivoAnt
					Number: nTipoArquivo
					! Variaveis que conterao os dados do Arquivo de Remessa
					String: sHeader
					String: sUsuario
					Date/Time: dCriacao
					Long String: sRegistro1
					String: sRegistro2
					String: sRegistro3
					String: sRegistro4
					String: sRegistro5
					String: sRegistro6
					String: sRegistro7
					String: sRegistro8
					!
					Number: nRetomando
					Number: nProximo
					Number: nAux
					! Handle do Arquivo de Remessa
					File Handle: hArquivo
					String: sArquivo
					String: sCaminho
					String: sTipo
					Number: nCod
					String: sDescricao
				Message Actions
					! Comentários
						    Autor
							    Celso - 04/06/97
					On SAM_Create
						Set _sTextoStatusBar = 'Tela para geração do arquivo das notificações de multa para a FISEPE'
						Set _nEstadoInicialForm = EF_RegistroExistente
						Set _bLimpaTelaAposAtualizacao = FALSE
						Set _bLimpaTelaAposInclusao = TRUE
						Set _bLimpaTelaAposRemocao = TRUE
						Call SalCenterWindow( hWndForm )
						Call SalSendClassMessage( SAM_Create, wParam, lParam )
						Call SalHideWindow( picSemaforo )
					On SAM_CreateComplete
						Call SalSendClassMessage( SAM_CreateComplete, 0, 0 )
						! Call SalDisableWindow( pbArquivar )
						Set dfnTransmitido = 0
						Set dfnTransmitir = 0
						Call GeraArquivoRENAINF()
						Call SalPostMsg( tblAutos, SAM_CornerDoubleClick, 0 ,0)
						Call SalSendMsg( tblAutos, MSG_PesquisaTabela, 0 ,0)
						Call SalSendMsg( pbArquivar, SAM_Click, 0 ,0)
					On SAM_Destroy
						Call SalFileClose( hArquivo )
						Call SalSendClassMessage( SAM_Destroy, wParam, lParam )
					On MSG_Arquiva
						! If NOT SalSendMsg( tblAutos, MSG_Arquiva, 0, 0 )
							Call SalTblSetFlagsAnyRows( tblAutos, ROW_Edited, TRUE, ROW_Edited |  ROW_MarkDeleted, 0 )
							Call SalTblSetFlagsAnyRows( tblAutos, ROW_MarkDeleted, FALSE, ROW_MarkDeleted, 0 )
							Return FALSE
						! Call SalSendMsgToChildren( hWndForm, MSG_Desabilita1, 0, 0 )
						! Cria o arquivo
						If NOT GeraArquivo(  )
							Return TRUE
						Call SalDisableWindow( pbArquivar )
						Return TRUE
			!
		Functions
			Function: AlteraNome
				Description:
				Returns
				Parameters
				Static Variables
				Local variables
					String: sForm
				Actions
					Call SalGetWindowText( hWndMDI, sForm, 50 )
					Call SalSetWindowText( hWndMDI, sForm || ' - ' || SqlUser)
		Window Parameters
		Window Variables
			Number: nAux
		Message Actions
			On SAM_Create
				Set _sLoginCliente = 'DETRAN/PE'
				Set _bIgnoraPermissoes = 	TRUE
				Set _bNaoMostraFabricante = TRUE
				! Set _sUsuarioTeste = 'ajs'
				Set _sSenhaTeste = '******'
				Set _nCodigoSistema = 106
				Set _sDatabase = 'dbvcen'
				Set _sDataVersao = '04/07/2007'
				Set _bNaoMostraLogon = FALSE
				Set _sLoginSistema = 'Controle de Infrações'
				Set _sLoginPicture = 'detran.bmp'
				Call SalSendClassMessage( SAM_Create, wParam, lParam )
			On SAM_CreateComplete
				Set nGlobalSetor = NUMBER_Null
				! Call SalMessageBox( "LEMBRE DE TROCAR AS PERMISSOES", "MENSAGEM", TRUE )
				If SalSendClassMessage( SAM_CreateComplete, wParam, lParam )
					Call fMPSPrepareProc( hSqlApp, 'select NomeSecretaria, NomeDetran from ParametroGeral',':sGlobalSecretaria, :sGlobalDetran')
					Call SqlExecute( hSqlApp )
					Call SqlFetchNext( hSqlApp, nAux )
					Set sGlobalSetor = ''
					! If NOT fVerificaVersao( )
						Call SalDestroyWindow( hWndMDI )
						Return FALSE
					Call SalModalDialog( dlgUsuario, hWndMDI, TRUE)
					Call SalWaitCursor( TRUE )
					If NOT fMPSPrepareProc( hSqlApp, 'exec ParametroGeralS_UF', 
							':sGlobalUF, :nGlobalPzDigAuto, :dGlobalHoje' )
						Call SalWaitCursor( FALSE )
						Return FALSE
					If NOT SqlExecute( hSqlApp )
						Call SalWaitCursor( FALSE )
						Return FALSE
					Call SalWaitCursor( FALSE )
					Call SqlFetchNext( hSqlApp, nAux )
	Dialog Box: dlgEnvioTransacao
		Class:
		Property Template: ,,,,N,N
		Class DLL Name: QUIKPDLG.DLL
		Title: Envio Transação
		Accessories Enabled? No
		Visible? Yes
		Display Settings
			Display Style? Default
			Visible at Design time? No
			Type of Dialog: Modal
			Window Location and Size
				Left: 3.575"
				Top: 1.844"
				Width:  3.675"
				Width Editable? Yes
				Height: 1.521"
				Height Editable? Yes
			Absolute Screen Location? Yes
			Font Name: Default
			Font Size: Default
			Font Enhancement: Default
			Text Color: Default
			Background Color: Default
		Description:
		Tool Bar
			Display Settings
				Display Style? Default
				Location? Top
				Visible? Yes
				Size: Default
				Size Editable? Yes
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Contents
		Contents
			Pushbutton: pbCancela
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Title: &Cancelar
				Window Location and Size
					Left: 1.188"
					Top: 0.99"
					Width:  0.95"
					Width Editable? Yes
					Height: 0.25"
					Height Editable? Yes
				Visible? Yes
				Keyboard Accelerator: Esc
				Font Name: Arial
				Font Size: 9
				Font Enhancement: Default
				Picture File Name:
				Picture Transparent Color: None
				Image Style: Single
				Text Color: Default
				Background Color: Default
				Message Actions
					On SAM_Click
						Call SalEndDialog( dlgEnvioTransacao, FALSE )
			Background Text: Após 10 Segundos o Sistema Reinicia a Transmissão, Caso deseje interromper, Click em Cancelar
				Resource Id: 32298
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Window Location and Size
					Left: 0.188"
					Top: 0.135"
					Width:  3.25"
					Width Editable? Yes
					Height: 0.521"
					Height Editable? Yes
				Visible? Yes
				Justify: Center
				Font Name: Default
				Font Size: Default
				Font Enhancement: Default
				Text Color: Default
				Background Color: Default
			Data Field: dfnRelogio
				Class Child Ref Key: 0
				Class ChildKey: 0
				Class:
				Property Template:
				Class DLL Name:
				Data
					Maximum Data Length: Default
					Data Type: Number
					Editable? No
				Display Settings
					Window Location and Size
						Left: 1.438"
						Top: 0.698"
						Width:  0.45"
						Width Editable? Yes
						Height: 0.25"
						Height Editable? Yes
					Visible? Yes
					Border? Yes
					Justify: Center
					Format: Unformatted
					Country: Default
					Font Name: Default
					Font Size: Default
					Font Enhancement: Default
					Text Color: Blue
					Background Color: Default
					Input Mask: Unformatted
				Message Actions
		Functions
		Window Parameters
		Window Variables
			Number: nReturn
		Message Actions
			On SAM_Timer
				Set dfnRelogio = dfnRelogio + 1
				If dfnRelogio = 10
					Call SalEndDialog( dlgEnvioTransacao, nReturn )
					Call SalCreateWindow( frmEnviaNotificacaoAutuacao, mdiInfracao )
			On SAM_Create
				Call SalTimerSet( hWndForm, 1, 1000 )

  