.head 0 +  Application Description: Centura SQLWindows Standard Application Template
.head 1 -  Outline Version - 4.0.28
.head 1 +  Design-time Settings
.data VIEWINFO
0000: 6F00000001000000 FFFF01000D004347 5458566965775374 6174650400010000
0020: 0000000000350100 002C000000020000 0003000000FFFFFF FFFFFFFFFFF8FFFF
0040: FFE1FFFFFFFFFFFF FF000000007C0200 004D010000010000 0001000000010000
0060: 000F4170706C6963 6174696F6E497465 6D00000000
.enddata
.head 2 -  Outline Window State: Normal
.head 2 +  Outline Window Location and Size
.data VIEWINFO
0000: 6600040003002D00 0000000000000000 0000B71E5D0E0500 1D00FFFF4D61696E
0020: 0000000000000000 0000000000000000 0000003B00010000 00000000000000E9
0040: 1E800A00008600FF FF496E7465726E61 6C2046756E637469 6F6E730000000000
0060: 0000000000000000 0000000000003200 0100000000000000 0000E91E800A0000
0080: DF00FFFF56617269 61626C6573000000 0000000000000000 0000000000000000
00A0: 3000010000000000 00000000F51E100D 0000F400FFFF436C 6173736573000000
00C0: 0000000000000000 0000000000000000
.enddata
.data VIEWSIZE
0000: D000
.enddata
.head 3 -  Left: -0.013"
.head 3 -  Top: 0.0"
.head 3 -  Width:  8.013"
.head 3 -  Height: 4.969"
.head 2 +  Options Box Location
.data VIEWINFO
0000: D4180909B80B1A00
.enddata
.data VIEWSIZE
0000: 0800
.enddata
.head 3 -  Visible? Yes
.head 3 -  Left: 4.15"
.head 3 -  Top: 1.885"
.head 3 -  Width:  3.8"
.head 3 -  Height: 2.073"
.head 2 +  Class Editor Location
.head 3 -  Visible? No
.head 3 -  Left: 0.575"
.head 3 -  Top: 0.094"
.head 3 -  Width:  5.063"
.head 3 -  Height: 2.719"
.head 2 +  Tool Palette Location
.head 3 -  Visible? No
.head 3 -  Left: 6.388"
.head 3 -  Top: 0.729"
.head 2 -  Fully Qualified External References? Yes
.head 2 -  Reject Multiple Window Instances? No
.head 2 -  Enable Runtime Checks Of External References? Yes
.head 2 -  Use Release 4.0 Scope Rules? No
.head 1 +  Libraries
.head 2 -  File Include: detran_classes.apl
.head 2 -  File Include: frmRelProtocoloReprovacao.apl
.head 2 -  File Include: detran_funcoes.apl
.head 2 -  File Include: frmHistorico.apl
.head 2 -  File Include: frmHistoricoProc.apl
.head 2 -  File Include: frmImpressaoCertidao.apl
.head 2 -  File Include: frmAlteracaoProcesso.apl
.head 2 -  ! File Include: frmImpressao.apl
.head 2 -  File Include: frmImpCertidao.apl
.head 2 -  File Include: frmRelOrdemPlaca.apl
.head 1 +  Global Declarations
.head 2 +  Window Defaults
.head 3 +  Tool Bar
.head 4 -  Display Style? Etched
.head 4 -  Font Name: System Default
.head 4 -  Font Size: System Default
.head 4 -  Font Enhancement: System Default
.head 4 -  Text Color: System Default
.head 4 -  Background Color: System Default
.head 3 +  Form Window
.head 4 -  Display Style? Etched
.head 4 -  Font Name: System Default
.head 4 -  Font Size: System Default
.head 4 -  Font Enhancement: System Default
.head 4 -  Text Color: System Default
.head 4 -  Background Color: System Default
.head 3 +  Dialog Box
.head 4 -  Display Style? Etched
.head 4 -  Font Name: System Default
.head 4 -  Font Size: System Default
.head 4 -  Font Enhancement: System Default
.head 4 -  Text Color: System Default
.head 4 -  Background Color: System Default
.head 3 +  Top Level Table Window
.head 4 -  Font Name: System Default
.head 4 -  Font Size: System Default
.head 4 -  Font Enhancement: System Default
.head 4 -  Text Color: System Default
.head 4 -  Background Color: System Default
.head 3 +  Data Field
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Multiline Field
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Spin Field
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Background Text
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Pushbutton
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 3 +  Radio Button
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Check Box
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Option Button
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 3 +  Group Box
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Child Table Window
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  List Box
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Combo Box
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Line
.head 4 -  Line Color: Use Parent
.head 3 +  Frame
.head 4 -  Border Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Picture
.head 4 -  Border Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 2 +  Formats
.head 3 -  Number: 0'%'
.head 3 -  Number: #0
.head 3 -  Number: ###000
.head 3 -  Number: ###000;'($'###000')'
.head 3 -  Date/Time: hh:mm:ss AMPM
.head 3 -  Date/Time: M/d/yy
.head 3 -  Date/Time: MM-dd-yy
.head 3 -  Date/Time: dd-MMM-yyyy
.head 3 -  Date/Time: MMM d, yyyy
.head 3 -  Date/Time: MMM d, yyyy hh:mm AMPM
.head 3 -  Date/Time: MMMM d, yyyy hh:mm AMPM
.head 3 -  Input: 999999999999
.head 3 -  Number: #0
.head 3 -  Input: 999999999
.head 3 -  Number: #0
.head 2 +  External Functions
.head 2 +  Constants
.data CCDATA
0000: 3000000000000000 0000000000000000 00000000
.enddata
.data CCSIZE
0000: 1400
.enddata
.head 3 +  System
.head 3 +  User
.head 3 -  Enumerations
.head 2 +  Resources
.head 2 +  Variables
.data RESOURCE 0 0 1 2801029132
0000: 2200000013000000 0000000000000000 0200000100000005 020000D019000000
0020: 01FE00FF03
.enddata
.head 2 +  Internal Functions
.head 2 +  Named Menus
.head 2 +  Class Definitions
.data RESOURCE 0 0 1 1443028049
0000: AC030000CA010000 0000000000000000 0200000500FFFF01 00160000436C6173
0020: 73566172004F7574 6C696E6552006567 496E666FC2003C00 000A630051434B31
0040: 47657261006C0202 00001100001E0004 0000C20003000000 FF7F048300190000
0060: 00F001000000FF1F 1D0000AC00190001 FD00FF0736000000 196B000100FFFFC1
0080: 4F00000019DA0001 00FF7F68B0000000 0400F4020000FF1F 6C0000AC00040002
00A0: FD00FF0770000000 046B000200FFFFC1 7400000004DA0002 00FF7F78B0000000
00C0: 0400F60200FF1F7C 0000AC00040002FD 00FF17800000046B 000200FFFFC18400
00E0: 000004DA000200FF 7F88B00000000400 F60200FF1F8C0000 AC00190001FD00FF
0100: 07A5000000196B00 0100FFFFC1BE0000 0004DA000200FF7F 0180803E00000001
0120: 0070000E63514340 6F6E7461696E7220 AA0000000500006F 0400E801020000FF
0140: C18001000000BF04 190019000101FA00 007F80F20100000F 0800000096190001
0160: 00FE00FF83210000 0004B5000200FFFF 60250000001900ED 0100FF3F01806404
0180: 0000020038086351 4D44804922000000 0100DE0004DA0002 00FF7F01CC800400
01A0: 0370000D63514300 6865636B426F7822 A20000010000B704 00F60200FF1F0180
01C0: 0433000400060063 4461646F732200D1 000100005B040002 FB00FF0F
.enddata
.head 2 +  Default Classes
.head 3 -  MDI Window: cBaseMDI
.head 3 -  Form Window:
.head 3 -  Dialog Box:
.head 3 -  Table Window:
.head 3 -  Quest Window:
.head 3 -  Data Field:
.head 3 -  Spin Field:
.head 3 -  Multiline Field:
.head 3 -  Pushbutton:
.head 3 -  Radio Button:
.head 3 -  Option Button:
.head 3 -  Check Box:
.head 3 -  Child Table:
.head 3 -  Quest Child Window: cQuickDatabase
.head 3 -  List Box:
.head 3 -  Combo Box:
.head 3 -  Picture:
.head 3 -  Vertical Scroll Bar:
.head 3 -  Horizontal Scroll Bar:
.head 3 -  Column:
.head 3 -  Background Text:
.head 3 -  Group Box:
.head 3 -  Line:
.head 3 -  Frame:
.head 3 -  Custom Control:
.head 3 -  ActiveX:
.head 2 -  Application Actions
.head 1 +  Form Window: frmConsultaHistVeiculo
.head 2 -  Class: cQCK1Form
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Histórico Veículo
.head 2 -  Icon File:
.head 2 -  Accessories Enabled? Class Default
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Display Style? Class Default
.head 3 -  Visible at Design time? No
.head 3 -  Automatically Created at Runtime? Class Default
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Class Default
.head 3 -  Minimizable? Class Default
.head 3 -  System Menu? Class Default
.head 3 -  Resizable? Class Default
.head 3 -  Window Location and Size
.head 4 -  Left: -10.388"
.head 4 -  Top: 0.906"
.head 4 -  Width:  9.738"
.head 4 -  Width Editable? Class Default
.head 4 -  Height: 5.604"
.head 4 -  Height Editable? Class Default
.head 3 -  Form Size
.head 4 -  Width:  Class Default
.head 4 -  Height: Class Default
.head 4 -  Number of Pages: Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 2 -  Description: Consulta os Histórico de um Veículo
Autor: Nathan  -  18.12.96
Alteração: Leandro Neves - 14.10.2005 - Colocar o campo colnSetorBMV
Alteração: Djalma Júnior - 25/02/2013 - Acrescentar a coluna de Número de Lote e Detran On Line
Alteração: João Queiroz - 26/09/2014 - Acrescentar coluna para o numero do bmv que será visivel com permissão para usuario
Alteração: Almir - 11-05-2022 - Foi modificada a propriedade para FALSE do parâmetrao _bNuncaHabilitado na coluna Número do BMV
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Class Default
.head 4 -  Location? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Size: Class Default
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  ! ----- Campos "Chave" -----
.head 3 +  Data Field: dfsPlaca
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461625365727669 636F0000
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1DataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 7
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.738"
.head 6 -  Top: 0.365"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = 'Placa do veículo'
.head 6 -  Set _bVisivel = TRUE
.head 6 -  ! Set _bComponenteChave = TRUE
.head 6 -  ! Set _bCompChaveOpcionalParaPesquisa = TRUE
.head 6 -  Set _bSempreHabilitado = TRUE
.head 6 -  Set _sNomeParaMsgs = 'Placa'
.head 6 -  Set _sMsgValidacao = 'Placa inválida!'
.head 6 -  Set _sTipoMsgValidacao = 'ESPECIFICA'
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  ! On MSG_MudaEstadoForm
.head 6 -     Call SalSendClassMessage( MSG_MudaEstadoForm, wParam, lParam )
.head 6 -     Call SalPostMsg( hWndForm, SAM_User, 0, 0 )
.head 5 +  On UDM_ValidaCampo
.head 6 +  If NOT SalIsNull( hWndItem )
.head 7 +  If NOT PlacaValida( dfsPlaca )
.head 8 -  Return FALSE
.head 6 -  Return TRUE
.head 5 +  ! On SAM_User
.head 6 -   Call SalWaitCursor( TRUE )
.head 6 -  ! ----- Faz consulta de Veículo para o Pré-Atendimento -----
.head 6 +   If NOT fMPSPrepareProc( hSqlApp, 'exec PreAtendimentoS_VeiculoS
@Placa = :frmConsultaHistVeiculo.dfsPlaca, @UFPlaca = :frmConsultaHistVeiculo.dfsCodUf,
@Renavam = :frmConsultaHistVeiculo.dfnRenavam, @Chassi = :frmConsultaHistVeiculo.dfsChassi' ,
':frmConsultaHistVeiculo.dfnCodVeiculo, :frmConsultaHistVeiculo.nTmp,
:frmConsultaHistVeiculo.dfsPlaca, :frmConsultaHistVeiculo.dfsCodUf,
:frmConsultaHistVeiculo.dfnRenavam, :frmConsultaHistVeiculo.dfsChassi, :frmConsultaHistVeiculo.dfsCodDuplicado,
:frmConsultaHistVeiculo.dfsCodRemarcado, :frmConsultaHistVeiculo.nPreAtendimento,
:frmConsultaHistVeiculo.nPreSetor, :frmConsultaHistVeiculo.bVeiculoLocal, :frmConsultaHistVeiculo.nTransacaoRenavam,
:frmConsultaHistVeiculo.nControleRetorno' )
.head 7 -   Call SalWaitCursor( FALSE )
.head 7 -   Call ErroForm( 0 )
.head 7 -   Return FALSE
.head 6 +   If NOT SqlExecute( hSqlApp )
.head 7 -   Call SalWaitCursor( FALSE )
.head 7 -   Return FALSE
.head 6 -   Call SqlFetchNext( hSqlApp, nRetorno )
.head 6 -   Call SalWaitCursor( FALSE )
.head 6 +   If nRetorno != FETCH_Ok
.head 7 -   Return FALSE
.head 6 -   Return TRUE
.head 5 +  On SAM_User
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  ! ----- Faz consulta de Veículo para o Pré-Atendimento -----
.head 6 +  If fMPSConnect( hSqlTmp )
.head 7 +  If fMPSPrepareProc( hSqlTmp, 'exec VeiculoS_historico
@Placa = :frmConsultaHistVeiculo.dfsPlaca, @UFPlaca =  :frmConsultaHistVeiculo.dfsCodUf,
@Renavam = :frmConsultaHistVeiculo.dfnRenavam, @Chassi = :frmConsultaHistVeiculo.dfsChassi' ,
':frmConsultaHistVeiculo.dfnCodVeiculo, :frmConsultaHistVeiculo.dfsPlaca, :frmConsultaHistVeiculo.dfsCodUf,
:frmConsultaHistVeiculo.dfnRenavam, :frmConsultaHistVeiculo.dfsChassi, :frmConsultaHistVeiculo.dfsMarca,
:frmConsultaHistVeiculo.dfsCodDuplicado, :frmConsultaHistVeiculo.dfsCodRemarcado, :frmConsultaHistVeiculo.dfsEspecie,
:frmConsultaHistVeiculo.dfsCombustivel, :frmConsultaHistVeiculo.dfsCategoria' )
.head 8 +  If SqlExecute( hSqlTmp )
.head 9 -  Call SqlGetResultSetCount(hSqlTmp, nRetorno)
.head 9 +  If nRetorno <=0
.head 10 -  Call SalMessageBox( 'Nenhum registro foi localizado para os parâmetros informados na pesquisa.', 'Atenção', MB_IconExclamation | MB_Ok )
.head 10 -  Call SalWaitCursor( FALSE )
.head 10 -  Return FALSE
.head 9 -  Call SqlFetchNext( hSqlTmp, nRetorno )
.head 7 +  Else
.head 8 -  Call SalWaitCursor( FALSE )
.head 8 -  Call ErroForm( 0 )
.head 8 -  Return FALSE
.head 7 -  Call fMPSDisconnect( hSqlTmp )
.head 7 -  !
.head 6 +  Else
.head 7 -  Call SalWaitCursor( FALSE )
.head 7 -  Call ErroForm( 0 )
.head 7 -  Return FALSE
.head 6 -  !
.head 6 +  If nRetorno != FETCH_Ok
.head 7 -  Call SalWaitCursor( FALSE )
.head 7 -  Return FALSE
.head 7 -  ! ----- Verifica o retorno da Consulta -----
.head 7 +  ! Select Case nControleRetorno
.head 8 -  ! ----- Veículo inexistente -----
.head 8 +   Case 0
.head 9 -   Call SalMessageBeep( 0 )
.head 9 -   Call SalMessageBox( 'Veículo não localizado', 'Atenção', MB_IconExclamation | MB_Ok )
.head 9 -   Return FALSE
.head 9 -   Break
.head 8 -  ! ----- Consulta OK -----
.head 8 +   Case 1
.head 9 -   Call SalSendMsg( cmbUfServico, MSG_FetchRefreshDerivados, 0, 0 )
.head 9 -   Call SalSendMsg( cbDuplicado, MSG_FetchRefreshDerivados, 0, 0 )
.head 9 -   Call SalSendMsg( cbRemarcado, MSG_FetchRefreshDerivados, 0, 0 )
.head 9 +  ! If nPreAtendimento > 0
.head 10 -     Call SalMessageBeep( 0 )
.head 10 -     Call SalMessageBox( 'Já existe Pré-Atendimento para este Veículo! Não é permitido continuar!', 'Atenção', MB_IconExclamation | MB_Ok )
.head 10 -     Return FALSE
.head 9 -  ! ----- Invoca o preenchimento da tabela -----
.head 9 -   Call SalSendMsg( tblRestricao, SAM_User, 0, 0 )
.head 9 -  ! ----- Desabilita campos -----
.head 9 -   Call SalDisableWindow( pbPesquisar )
.head 9 -   Call SalDisableWindow( dfsPlaca )
.head 9 -   Call SalDisableWindow( cmbUfServico )
.head 9 -   Call SalDisableWindow( dfnRenavam )
.head 9 -   Call SalDisableWindow( dfsChassi )
.head 9 -   Return TRUE
.head 8 -  ! ----- Retornou mais de 1 veículo -----
.head 8 +  ! Case 2
.head 9 +     If SalModalDialog( dlgExcessoRetorno, hWndForm, nTransacaoRenavam, bVeiculoLocal )
.head 10 -  ! ----- Manda a consulta utilizando EV02 -----
.head 10 -  ! Return SalSendMsg( hWndForm, SAM_User, 0, 0 )
.head 9 +     Else
.head 10 -     Return FALSE
.head 8 -  ! ----- Problema na comunicação com o RENAVAM -----
.head 8 +   Case 3
.head 9 -   Call SalMessageBeep( 0 )
.head 9 -   Call SalMessageBox( 'Problemas na comunicação com o RENAVAM!', 'Atenção', MB_IconExclamation | MB_Ok )
.head 9 -   Return FALSE
.head 6 -  Call SalSendMsg( cmbUfServico, MSG_FetchRefreshDerivados, 0, 0 )
.head 6 -  Call SalSendMsg( cbDuplicado, MSG_FetchRefreshDerivados, 0, 0 )
.head 6 -  Call SalSendMsg( cbRemarcado, MSG_FetchRefreshDerivados, 0, 0 )
.head 6 -  ! ----- Invoca o preenchimento da tabela -----
.head 6 -  Call SalSendMsg( tblProcesso, MSG_PesquisaTabela, 0, 0 )
.head 6 -  ! ----- Desabilita campos -----
.head 6 -  Call SalDisableWindow( pbPesquisar )
.head 6 -  Call SalDisableWindow( dfsPlaca )
.head 6 -  Call SalDisableWindow( cmbUfServico )
.head 6 -  Call SalDisableWindow( dfnRenavam )
.head 6 -  Call SalDisableWindow( dfsChassi )
.head 6 -  Return TRUE
.head 3 +  Combo Box: cmbUfServico
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461625365727669 636F0000
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1ComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.25"
.head 5 -  Top: 0.365"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.771"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = 'UF da placa do veículo'
.head 6 -  Set _bVisivel = TRUE
.head 6 -  Set _sNomeParaMsgs = 'UF'
.head 6 -  ! Set _bComponenteChave = TRUE
.head 6 -  ! Set _bCompChaveOpcionalParaPesquisa = TRUE
.head 6 -  Set _bSempreHabilitado = TRUE
.head 6 -  Set _sNomeCampoCodigo = 'dfsCodUf'
.head 6 -  ! Set _sConsultaFrmOpcoesSQLOuSP = 'SP'
.head 6 -  Set _sConsultaBD = 'exec EstadoS_codcod'
.head 6 -  Set _sRefresh = 'Create'
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage( SAM_Click, wParam, lParam )
.head 6 -  Call SalSendMsg( hWndItem, SAM_Validate, wParam, lParam )
.head 3 -  !
.head 3 +  Data Field: dfnRenavam
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461625365727669 636F0000
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1DataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 12
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.938"
.head 6 -  Top: 0.365"
.head 6 -  Width:  1.45"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: 999999999999
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _bVisivel = TRUE
.head 6 -  Set _sTextoStatusBar = 'Número do RENAVAM do veículo'
.head 6 -  ! Set _bComponenteChave = TRUE
.head 6 -  ! Set _bCompChaveOpcionalParaPesquisa = TRUE
.head 6 -  Set _bSempreHabilitado = TRUE
.head 6 -  Set _sNomeParaMsgs = 'RENAVAM'
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 3 +  Data Field: dfsChassi
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461625365727669 636F0000
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1DataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 21
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.138"
.head 6 -  Top: 0.365"
.head 6 -  Width:  2.35"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _bVisivel = TRUE
.head 6 -  Set _sTextoStatusBar = 'Número do chassi do veículo'
.head 6 -  ! Set _bComponenteChave = TRUE
.head 6 -  ! Set _bCompChaveOpcionalParaPesquisa = TRUE
.head 6 -  Set _bSempreHabilitado = TRUE
.head 6 -  Set _sNomeParaMsgs = 'Chassi'
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  On UDM_ValidaCampo
.head 6 -  Return ConverteCampo( hWndItem )
.head 3 -  !
.head 3 +  Data Field: dfsCgcCpf
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461625365727669 636F00000000
.enddata
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1DataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 14
.head 5 -  Data Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.088"
.head 6 -  Top: 0.677"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _bVisivel = TRUE
.head 6 -  Set _bSempreHabilitado = TRUE
.head 6 -  Set _sTextoStatusBar = 'CPF/CNPJ do solicitante do pré-atendimento'
.head 6 -  Set _sNomeParaMsgs = 'CPF/CNPJ do solicitante'
.head 6 -  Set _bNaoTemDependentes = TRUE
.head 6 -  Set _sMsgValidacao = 'Número de CPF/CNPJ inválido!'
.head 6 -  Set _sTipoMsgValidacao = 'ESPECIFICA'
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  On UDM_ValidaCampo
.head 6 +  If NOT SalIsNull( hWndItem )
.head 7 -  !
.head 7 +  If DetranCPF( ( dfsCgcCpf ) )
.head 8 -  Call SalFmtSetInputMask ( dfsCgcCpf, '999.999.999-99' )
.head 7 +  Else If DetranCGC( ( dfsCgcCpf ) )
.head 8 -  Call SalFmtSetInputMask ( dfsCgcCpf, '99.999.999/9999-99' )
.head 7 -  !
.head 7 +  If DetranCGC( ( dfsCgcCpf ) ) OR DetranCPF( ( dfsCgcCpf ) )
.head 8 -  Set dfsNomeProprietario = STRING_Null
.head 8 -  Set dfsNomeProprietario = RetornaNomeProprietario ( ) 
.head 7 +  Else
.head 8 -  Return FALSE
.head 6 -  Call SalDisableWindow( dfsCgcCpf )
.head 6 -  Return TRUE
.head 5 +  On SAM_SetFocus
.head 6 -  Call SalFmtSetInputMask ( dfsCgcCpf, '99999999999999' )
.head 6 -  Return TRUE
.head 3 +  Data Field: dfnProtocolo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1DataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 10
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.088"
.head 6 -  Top: 0.99"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: 999999999
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = ''
.head 6 -  Set _sNroCamposIgnorados = 'NENHUM'
.head 6 -  !
.head 6 -  ! Set _bNuncaHabilitado = FALSE
.head 6 -  Set _bPermiteNulos = TRUE
.head 6 -  Set _bSempreHabilitado = TRUE
.head 6 -  !
.head 6 -  Set _bVisivel = TRUE
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 3 +  Data Field: dfnSetor
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1DataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.088"
.head 6 -  Top: 1.281"
.head 6 -  Width:  0.75"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: 000000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: 99999-9
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = 'Código do setor'
.head 6 -  !
.head 6 -  Set _bVisivel = TRUE
.head 6 -  !
.head 6 -  Set _sNomeParaMsgs = 'Setor'
.head 6 -  Set _bPermiteNulos = TRUE
.head 6 -  Set _sMsgValidacao = 'Dígito inválido!'
.head 6 -  Set _sTipoMsgValidacao = 'ESPECIFICA'
.head 6 -  Set _bSempreHabilitado = TRUE
.head 6 -  Set _bComponenteChave = FALSE
.head 6 -  Set _bCompChaveOpcionalParaPesquisa = FALSE
.head 6 -  Set _bCompChaveGeradoPeloSistema = FALSE
.head 6 -  !
.head 6 -  Set _sConsultaFrmOpcoesSQLOuSP = 'SP'
.head 6 -  Set _sConsultaFrmOpcoesCampo = 'SetorS_codreddesc'
.head 6 -  !
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  On UDM_ValidaCampo
.head 6 +  If NOT SalIsNull( hWndItem )
.head 7 -  Set nSetor = SalNumberTruncate( dfnSetor/10, 5, 0 )
.head 7 +  If (SalNumberMod(dfnSetor, 10)  != DigitoModulo11( nSetor ) )
.head 8 -  Return FALSE
.head 6 -  Return TRUE
.head 3 -  Background Text: Setor:
.head 4 -  Resource Id: 5144
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1BackgroundText
.head 4 -  Window Location and Size
.head 5 -  Left: 0.488"
.head 5 -  Top: 1.302"
.head 5 -  Width:  0.55"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Justify: Right
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 +  Data Field: dfsNomeProprietario
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461625365727669 636F0000
.enddata
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1DataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.888"
.head 6 -  Top: 0.677"
.head 6 -  Width:  6.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _bVisivel = TRUE
.head 6 -  ! - - - - - - - - -NAYCHE - - - 20/02/03
.head 6 -  Set _bNuncaHabilitado = TRUE
.head 6 -  Set _sTextoStatusBar = 'Nome do solicitante do pré-atendimento'
.head 6 -  Set _sNomeParaMsgs = 'Nome do solicitante'
.head 6 -  Set _bNaoTemDependentes = TRUE
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  On SAM_Validate
.head 6 +  If NOT SalIsNull( hWndItem )
.head 7 +  ! If NOT bVeiculoInformado AND SalIsNull( dfsCgcCpf )
.head 8 -  Call SalMessageBeep( 0 )
.head 8 -  Call SalMessageBox( 'Caso não haja veículo no pré-atendimento, é necessário informar o CPF/CGC!', 'Atenção', MB_IconExclamation | MB_Ok )
.head 8 -  ! Mensagem usada para evitar conflito com o foco
.head 8 -  Call SalPostMsg( hWndItem, SAM_User, 0, 0 )
.head 8 -  Return TRUE
.head 7 -  !
.head 7 -  ! Call SalSendMsg( hWndForm, MSG_Pesquisa, 0, 0 )
.head 7 -  ! Call SalSetFocus( lbServico )
.head 6 -  Else
.head 6 -  Return TRUE
.head 5 +  ! On SAM_KillFocus
.head 6 +  If NOT SalIsNull( hWndItem )
.head 7 +  If NOT bVeiculoInformado AND SalIsNull( dfsCgcCpf )
.head 8 -  Call SalMessageBeep( 0 )
.head 8 -  Call SalMessageBox( 'Caso não haja veículo no pré-atendimento, é necessário informar o CPF/CGC!', 'Atenção', MB_IconExclamation | MB_Ok )
.head 8 -  ! Mensagem usada para evitar conflito com o foco
.head 8 -  Call SalPostMsg( hWndItem, SAM_User, 0, 0 )
.head 8 -  Return TRUE
.head 7 -  !
.head 7 -  Set bSolicitante = TRUE
.head 7 -  Call SalSendMsg( hWndForm, MSG_Pesquisa, 0, 0 )
.head 7 -  Call VerTabAtiva( )
.head 7 +  If nEstado = 1
.head 8 -  Call SalSendMsg( lbServico, MSG_Refresh, 0, 0 )
.head 7 -  Call SalSetFocus( lbServico )
.head 3 -  !
.head 3 -  ! ----- Campos Informativos -----
.head 3 +  Check Box: cbDuplicado
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461625365727669 636F0000
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1CheckBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: DB
.head 4 -  Window Location and Size
.head 5 -  Left: 8.538"
.head 5 -  Top: 0.323"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.16"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Font Name: Arial
.head 4 -  Font Size: 9
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _bVisivel = TRUE
.head 6 -  Set _bNuncaHabilitado = TRUE
.head 6 -  Set _bSempreHabilitado = FALSE
.head 6 -  Set _sNomeCampoFonte = 'dfsCodDuplicado'
.head 6 -  Set _sValorCHECKED = 'S'
.head 6 -  Set _sValorNOTCHECKED = 'N'
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 3 +  Check Box: cbRemarcado
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461625365727669 636F0000
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1CheckBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: REM
.head 4 -  Window Location and Size
.head 5 -  Left: 8.538"
.head 5 -  Top: 0.469"
.head 5 -  Width:  0.55"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.16"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Font Name: Arial
.head 4 -  Font Size: 9
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _bVisivel = TRUE
.head 6 -  Set _bNuncaHabilitado = TRUE
.head 6 -  Set _bSempreHabilitado = FALSE
.head 6 -  Set _sNomeCampoFonte = 'dfsCodRemarcado'
.head 6 -  Set _sValorCHECKED = 'S'
.head 6 -  Set _sValorNOTCHECKED = 'N'
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 3 +  Data Field: dfsMarca
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1DataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.438"
.head 6 -  Top: 1.656"
.head 6 -  Width:  3.15"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = ''
.head 6 -  Set _sNroCamposIgnorados = 'NENHUM'
.head 6 -  !
.head 6 -  Set _bNuncaHabilitado = TRUE
.head 6 -  Set _bPermiteNulos = TRUE
.head 6 -  Set _bSempreHabilitado = FALSE
.head 6 -  !
.head 6 -  Set _bVisivel = TRUE
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 3 +  Data Field: dfsEspecie
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1DataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.788"
.head 6 -  Top: 1.656"
.head 6 -  Width:  3.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = ''
.head 6 -  Set _sNroCamposIgnorados = 'NENHUM'
.head 6 -  !
.head 6 -  Set _bNuncaHabilitado = TRUE
.head 6 -  Set _bPermiteNulos = TRUE
.head 6 -  Set _bSempreHabilitado = FALSE
.head 6 -  !
.head 6 -  Set _bVisivel = TRUE
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 3 +  Data Field: dfsCombustivel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1DataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.438"
.head 6 -  Top: 1.948"
.head 6 -  Width:  3.15"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = ''
.head 6 -  Set _sNroCamposIgnorados = 'NENHUM'
.head 6 -  !
.head 6 -  Set _bNuncaHabilitado = TRUE
.head 6 -  Set _bPermiteNulos = TRUE
.head 6 -  Set _bSempreHabilitado = FALSE
.head 6 -  !
.head 6 -  Set _bVisivel = TRUE
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 3 +  Data Field: dfsCategoria
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1DataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.788"
.head 6 -  Top: 1.948"
.head 6 -  Width:  3.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = ''
.head 6 -  Set _sNroCamposIgnorados = 'NENHUM'
.head 6 -  !
.head 6 -  Set _bNuncaHabilitado = TRUE
.head 6 -  Set _bPermiteNulos = TRUE
.head 6 -  Set _bSempreHabilitado = FALSE
.head 6 -  !
.head 6 -  Set _bVisivel = TRUE
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 3 +  Child Table: tblProcesso
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK2ChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.125"
.head 6 -  Top: 2.271"
.head 6 -  Width:  9.063"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 1.667"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Class Default
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: coldAbertura
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cQCK2Column
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Abertura
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Center
.head 6 -  Width:  1.088"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd-MM-yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set _sTextoStatusBar = ''
.head 8 -  Set _sNroCamposIgnorados = 'NENHUM'
.head 8 -  !
.head 8 -  Set _bNuncaHabilitado = TRUE
.head 8 -  Set _bPermiteNulos = TRUE
.head 8 -  Set _bSempreHabilitado = FALSE
.head 8 -  !
.head 8 -  Set _bVisivel = TRUE
.head 8 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  Column: colnSetor
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cQCK2Column
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Setor
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: 10
.head 6 -  Data Type: Number
.head 6 -  Justify: Right
.head 6 -  Width:  0.988"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: 000000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: 99999-9
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set _sTextoStatusBar = ''
.head 8 -  Set _sNroCamposIgnorados = 'NENHUM'
.head 8 -  !
.head 8 -  Set _bNuncaHabilitado = TRUE
.head 8 -  Set _bPermiteNulos = TRUE
.head 8 -  Set _bSempreHabilitado = FALSE
.head 8 -  !
.head 8 -  Set _bVisivel = TRUE
.head 8 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  Column: colnProcesso
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cQCK2Column
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Processo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: 10
.head 6 -  Data Type: Number
.head 6 -  Justify: Right
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set _sTextoStatusBar = ''
.head 8 -  Set _sNroCamposIgnorados = 'NENHUM'
.head 8 -  !
.head 8 -  Set _bNuncaHabilitado = TRUE
.head 8 -  Set _bPermiteNulos = TRUE
.head 8 -  Set _bSempreHabilitado = FALSE
.head 8 -  !
.head 8 -  Set _bVisivel = TRUE
.head 8 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  Column: colsPlaca
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cQCK2Column
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Placa
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: 10
.head 6 -  Data Type: String
.head 6 -  Justify: Right
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set _sTextoStatusBar = ''
.head 8 -  Set _sNroCamposIgnorados = 'NENHUM'
.head 8 -  !
.head 8 -  Set _bNuncaHabilitado = TRUE
.head 8 -  Set _bPermiteNulos = TRUE
.head 8 -  Set _bSempreHabilitado = FALSE
.head 8 -  !
.head 8 -  Set _bVisivel = TRUE
.head 8 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  Column: colsSituacao
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cQCK2Column
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Situação
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: 50
.head 6 -  Data Type: String
.head 6 -  Justify: Center
.head 6 -  Width:  2.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set _sTextoStatusBar = ''
.head 8 -  Set _sNroCamposIgnorados = 'NENHUM'
.head 8 -  !
.head 8 -  Set _bNuncaHabilitado = TRUE
.head 8 -  Set _bPermiteNulos = TRUE
.head 8 -  Set _bSempreHabilitado = FALSE
.head 8 -  !
.head 8 -  Set _bVisivel = TRUE
.head 8 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  Column: coldFechamento
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cQCK2Column
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fechamento
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Center
.head 6 -  Width:  1.125"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd-MM-yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set _sTextoStatusBar = ''
.head 8 -  Set _sNroCamposIgnorados = 'NENHUM'
.head 8 -  !
.head 8 -  Set _bNuncaHabilitado = TRUE
.head 8 -  Set _bPermiteNulos = TRUE
.head 8 -  Set _bSempreHabilitado = FALSE
.head 8 -  !
.head 8 -  Set _bVisivel = TRUE
.head 8 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  Column: colnArquivo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cQCK2Column
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Arquivo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: 10
.head 6 -  Data Type: Number
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.063"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set _sTextoStatusBar = ''
.head 8 -  Set _sNroCamposIgnorados = 'NENHUM'
.head 8 -  !
.head 8 -  Set _bNuncaHabilitado = TRUE
.head 8 -  Set _bPermiteNulos = TRUE
.head 8 -  Set _bSempreHabilitado = FALSE
.head 8 -  !
.head 8 -  Set _bVisivel = TRUE
.head 8 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  Column: colnArquivoAnterior
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cQCK2Column
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Arquivo Anterior
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: 10
.head 6 -  Data Type: Number
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.45"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set _sTextoStatusBar = ''
.head 8 -  Set _sNroCamposIgnorados = 'NENHUM'
.head 8 -  !
.head 8 -  Set _bNuncaHabilitado = TRUE
.head 8 -  Set _bPermiteNulos = TRUE
.head 8 -  Set _bSempreHabilitado = FALSE
.head 8 -  !
.head 8 -  Set _bVisivel = TRUE
.head 8 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  Column: colnSetorBMV
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cQCK2Column
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Setor BMV
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: 10
.head 6 -  Data Type: Number
.head 6 -  Justify: Right
.head 6 -  Width:  0.95"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set _bNuncaHabilitado = TRUE
.head 8 -  Set _bPermiteNulos = TRUE
.head 8 -  Set _bVisivel = TRUE
.head 8 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  Column: colnNumBMV
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cQCK2Column
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Número BMV
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: 10
.head 6 -  Data Type: Number
.head 6 -  Justify: Right
.head 6 -  Width:  1.45"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set _bNuncaHabilitado = FALSE
.head 8 -  Set _bPermiteNulos = TRUE
.head 8 -  Set _bVisivel = FALSE
.head 8 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  Column: colnProtocolo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cQCK2Column
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Protocolo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: 10
.head 6 -  Data Type: Number
.head 6 -  Justify: Right
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set _bNuncaHabilitado = TRUE
.head 8 -  Set _bPermiteNulos = TRUE
.head 8 -  Set _bVisivel = TRUE
.head 8 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  Column: colnLote
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cQCK2Column
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Lote
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: 12
.head 6 -  Data Type: Number
.head 6 -  Justify: Right
.head 6 -  Width:  1.413"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set _bNuncaHabilitado = TRUE
.head 8 -  Set _bPermiteNulos = TRUE
.head 8 -  Set _bVisivel = TRUE
.head 8 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  Column: colsDetranOnLine
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cQCK2Column
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Detran On Line
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: 10
.head 6 -  Data Type: String
.head 6 -  Justify: Center
.head 6 -  Width:  1.438"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set _bNuncaHabilitado = TRUE
.head 8 -  Set _bPermiteNulos = TRUE
.head 8 -  Set _bVisivel = TRUE
.head 8 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  Column: colsAcessoLogado
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: cQCK2Column
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Detran Pessoal
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: 10
.head 6 -  Data Type: String
.head 6 -  Justify: Center
.head 6 -  Width:  1.438"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set _bNuncaHabilitado = TRUE
.head 8 -  Set _bPermiteNulos = TRUE
.head 8 -  Set _bVisivel = TRUE
.head 8 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  String: sExibeBmv
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = 'Processos do Veículo'
.head 6 -  Set _sNroCamposIgnorados = 'NENHUM'
.head 6 -  !
.head 6 -  Set _sCriacaoConexao = 'Default'
.head 6 -  !
.head 6 -  Set _bNuncaHabilitado = FALSE
.head 6 -  Set _bPesquisaCreate = FALSE
.head 6 -  Set _bSempreHabilitado = FALSE
.head 6 -  Set _sComandoPesquisa =
'exec dbvcen..ProcessoS_veiculo @Veiculo = :frmConsultaHistVeiculo.dfnCodVeiculo,
@Placa = :frmConsultaHistVeiculo.dfsPlaca, @UFPlaca =  :frmConsultaHistVeiculo.dfsCodUf,
@Renavam = :frmConsultaHistVeiculo.dfnRenavam, @Chassi = :frmConsultaHistVeiculo.dfsChassi,
@CPFCGC = :frmConsultaHistVeiculo.dfsCgcCpf,
@nSetor = :frmConsultaHistVeiculo.dfnSetor,
@nProcesso = :frmConsultaHistVeiculo.dfnProtocolo'
.head 6 -  Set _sIntoPesquisa =
':frmConsultaHistVeiculo.tblProcesso.coldAbertura, 
:frmConsultaHistVeiculo.tblProcesso.colnProcesso,
:frmConsultaHistVeiculo.tblProcesso.colsSituacao, 
:frmConsultaHistVeiculo.tblProcesso.coldFechamento,
:frmConsultaHistVeiculo.tblProcesso.colnArquivo, 
:frmConsultaHistVeiculo.tblProcesso.colnArquivoAnterior, 
:frmConsultaHistVeiculo.tblProcesso.colnSetor,
:frmConsultaHistVeiculo.tblProcesso.colnSetorBMV,
:frmConsultaHistVeiculo.tblProcesso.colnNumBMV,
:frmConsultaHistVeiculo.tblProcesso.colnProtocolo,
:frmConsultaHistVeiculo.tblProcesso.colnLote,
:frmConsultaHistVeiculo.tblProcesso.colsDetranOnLine,
:frmConsultaHistVeiculo.tblProcesso.colsPlaca,
:frmConsultaHistVeiculo.tblProcesso.sExibeBmv,
:frmConsultaHistVeiculo.tblProcesso.colsAcessoLogado'
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  On UDM_AposPesquisa
.head 6 -  Call SalSendClassMessage(UDM_AposPesquisa, wParam, lParam )
.head 6 +  If nRowCount <=0
.head 7 -  Call SalMessageBox( 'Nenhum registro foi localizado para os parâmetros informados na pesquisa.', 'Atenção', MB_IconExclamation | MB_Ok )
.head 7 -  Return FALSE
.head 6 +  Else If sExibeBmv = 'S'
.head 7 -  Call SalShowWindow( frmConsultaHistVeiculo.tblProcesso.colnNumBMV)
.head 6 -  Return TRUE
.head 5 +  On SAM_DoubleClick
.head 6 +  If hWndHistoricoProc != hWndNULL
.head 7 -  Call SalSendMsg( hWndHistoricoProc, MSG_Sai, 0, 0 )
.head 6 +  If SalIsWindowEnabled( pbDetalhe )
.head 7 -  Call SalSendMsg( pbDetalhe, SAM_Click, 0, 0 )
.head 5 +  On SAM_RowHeaderClick
.head 6 -  ! Colocado esse click em 18/03/2019 - afs
.head 6 +  If SalTblAnyRows( tblProcesso, ROW_Selected, 0 )
.head 7 -  Call SalClearField( mlResumo )
.head 7 -  Call SalSendMsg( mlResumo, SAM_User, 0, 0 )
.head 5 +  On SAM_Click
.head 6 +  ! If hWndHistoricoProc != hWndNULL
.head 7 -  Call SalSendMsg( hWndHistoricoProc, MSG_Sai, 0, 0 )
.head 6 -  Call SalEnableWindow( pbDetalhe )
.head 6 +  If colsSituacao = 'REVISÃO'
.head 7 -  Call SalEnableWindow( pbReimpProtRep )
.head 6 +  Else
.head 7 -  Call SalDisableWindow( pbReimpProtRep )
.head 6 +  If VerificaPermissaoObjeto(_nCodigoSistema, 'ReimpressaoBMV')
.head 7 +  If colsSituacao = 'FECHADO'
.head 8 -  Call SalEnableWindow( pbReimpBMV )
.head 7 +  Else
.head 8 -  Call SalDisableWindow( pbReimpBMV )
.head 6 +  If VerificaPermissaoObjeto(_nCodigoSistema, 'ReimpressaoCertidao')
.head 7 +  If colsSituacao = 'FECHADO' and VerificaImprimeCertidao( )
.head 8 -  Call SalEnableWindow( pbImpCertidao )
.head 7 +  Else
.head 8 -  Call SalDisableWindow( pbImpCertidao )
.head 6 +  If VerificaPermissaoObjeto(_nCodigoSistema, 'frmRelOrdemPlaca')
.head 7 +  If VerificaImprimeOrdPlaca( )
.head 8 -  Call SalEnableWindow( pbImpOrdPlaca )
.head 7 +  Else
.head 8 -  Call SalDisableWindow( pbImpOrdPlaca )
.head 6 +  If frmConsultaHistVeiculo.sPermissaoCancelar = 'S'
.head 7 -  Call SalEnableWindow( pbAlterar )
.head 6 +  Else
.head 7 -  Call SalDisableWindow( pbAlterar )
.head 6 +  If SalTblAnyRows( tblProcesso, ROW_Selected, 0 )
.head 7 -  ! Colocado esse click em 18/03/2019 - afs
.head 7 -  Call SalClearField( mlResumo )
.head 7 -  Call SalSendMsg( mlResumo, SAM_User, 0, 0 )
.head 3 +  Multiline Field: mlResumo
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000100 00000000
.enddata
.data CLASSPROPSSIZE
0000: 1400
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1MultilineText
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  String Type: Long String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Border? Class Default
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Window Location and Size
.head 6 -  Left: 0.138"
.head 6 -  Top: 4.052"
.head 6 -  Width:  9.05"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _bVisivel = TRUE
.head 6 -  Set _bNuncaHabilitado = FALSE
.head 6 -  Set _bSempreHabilitado = TRUE
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  On SAM_User
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Call fMPSConnect( hSqlResumo )
.head 6 -  Call fMPSPrepareProc( hSqlResumo, 'exec PreAtendimento_VeiculoS_resumo
	@Veiculo = :frmConsultaHistVeiculo.dfnCodVeiculo,
	@SetorN = :frmConsultaHistVeiculo.tblProcesso.colnSetor,
	@Processo = :frmConsultaHistVeiculo.tblProcesso.colnProcesso,
	@iConsulta = "H" ' ,
	':frmConsultaHistVeiculo.lsTmp, :frmConsultaHistVeiculo.nTmp' )
.head 6 -  ! Call fMPSPrepareProc( hSqlApp, 'exec PreAtendimento_VeiculoS_resumo
@Veiculo = :frmConsultaHistVeiculo.dfnCodVeiculo, @Uf = :frmConsultaHistVeiculo.dfsCodUf' ,
':frmConsultaHistVeiculo.lsTmp, :frmConsultaHistVeiculo.nTmp' )
.head 6 -  Call SqlExecute( hSqlResumo )
.head 6 -  Call SqlFetchNext( hSqlResumo, nRetorno )
.head 6 +  While nRetorno = FETCH_Ok
.head 7 -  Set mlResumo = mlResumo || lsTmp
.head 7 -  Call SqlFetchNext( hSqlApp, nRetorno )
.head 6 -  Call SalWaitCursor( FALSE )
.head 6 -  Call SqlDisconnect( hSqlResumo )
.head 6 -  Return TRUE
.head 3 -  ! ----- Campos de Código -----
.head 3 +  Data Field: dfnCodVeiculo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1DataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.538"
.head 6 -  Top: 4.75"
.head 6 -  Width:  0.238"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _bVisivel = FALSE
.head 6 -  Set _bPermiteNulos = TRUE
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 3 +  Data Field: dfsCodUf
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1DataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.638"
.head 6 -  Top: 4.75"
.head 6 -  Width:  0.238"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _bVisivel = FALSE
.head 6 -  Set _bPermiteNulos = TRUE
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 3 +  Data Field: dfsCodDuplicado
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1DataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.9"
.head 6 -  Top: 4.76"
.head 6 -  Width:  0.238"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _bVisivel = FALSE
.head 6 -  Set _bPermiteNulos = TRUE
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 3 +  Data Field: dfsCodRemarcado
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1DataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.763"
.head 6 -  Top: 4.76"
.head 6 -  Width:  0.238"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _bVisivel = FALSE
.head 6 -  Set _bPermiteNulos = TRUE
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 3 -  ! ----- Botões da Tela -----
.head 3 +  Pushbutton: pbPesquisar
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPSSIZE
0000: 2700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573001400 7461625365727669 636F09746162506C
0020: 61636100000000
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1PushButton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: &Pesquisar
.head 4 -  Window Location and Size
.head 5 -  Left: 0.388"
.head 5 -  Top: 4.74"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = 'Efetua pesquisa no banco de dados'
.head 6 -  Set _sNroCamposIgnorados = 'NENHUM'
.head 6 -  Set _bValidaCamposNulos = TRUE
.head 6 -  Set _nPermissao = EF_Vazio | EF_RegistroExistente
.head 6 -  Set _sTipoComando = 'Comum'
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  On SAM_Click
.head 6 +  If dfsPlaca != STRING_Null or dfnRenavam != NUMBER_Null or dfsChassi != STRING_Null
.head 7 +  If NOT SalSendMsg( dfsPlaca, SAM_User, 0, 0 )
.head 8 -  Call SalSendMsg( hWndForm, MSG_Limpa, 0, 0 )
.head 6 +  Else
.head 7 -  Call SalSendMsg( tblProcesso, MSG_PesquisaTabela, 0, 0 )
.head 6 -  !
.head 6 -  Call SalDisableWindow( pbDetalhe )
.head 6 -  Call SalTblSetRowFlags( tblProcesso, 0, ROW_Selected, TRUE )
.head 6 +  If SalTblAnyRows( tblProcesso, 0, 0 )
.head 7 -  Call SalEnableWindow( pbDetalhe )
.head 7 +  If frmConsultaHistVeiculo.sPermissaoCancelar = 'S'
.head 8 -  Call SalEnableWindow( pbAlterar )
.head 7 +  Else
.head 8 -  Call SalDisableWindow( pbAlterar )
.head 3 +  Pushbutton: pbDetalhe
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPSSIZE
0000: 6A00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573005700 7461625365727669 636F097461625665
0020: 6963756C6F097461 62566973746F7269 6109746162446562 69746F0974616250
0040: 6C61636109746162 5265737472696361 6F09746162526F75 626F097461624669
0060: 6E616C697A610000 0000
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1PushButton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: &Detalhe
.head 4 -  Window Location and Size
.head 5 -  Left: 6.388"
.head 5 -  Top: 4.74"
.head 5 -  Width:  0.95"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = 'Visualisa detalhes do processo'
.head 6 -  Set _sTipoComando = 'Comum'
.head 6 -  Set _nPermissao = 0
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage( SAM_Click, wParam, lParam )
.head 6 +  If hWndHistoricoProc != hWndNULL
.head 7 -  Call SalSendMsg( hWndHistoricoProc, SAM_Close, 0, 0 )
.head 7 +  If NOT SalTblAnyRows( tblProcesso, ROW_Selected, 0 )
.head 8 -  Call SalMessageBeep( 0 )
.head 8 -  Call SalMessageBox( 'Selecione um processo!', 'Atenção', MB_IconExclamation | MB_Ok )
.head 8 -  Return FALSE
.head 7 -  Set hWndHistoricoProc = SalCreateWindow( frmHistoricoProc, hWndMDI, hWndItem, hWndHistoricoProc,
tblProcesso.colnSetor, tblProcesso.colnProcesso )
.head 6 +  Else
.head 7 +  If NOT SalTblAnyRows( tblProcesso, ROW_Selected, 0 )
.head 8 -  Call SalMessageBeep( 0 )
.head 8 -  Call SalMessageBox( 'Selecione um processo!', 'Atenção', MB_IconExclamation | MB_Ok )
.head 8 -  Return FALSE
.head 7 -  Set hWndHistoricoProc = SalCreateWindow( frmHistoricoProc, hWndMDI, hWndItem, hWndHistoricoProc,
tblProcesso.colnSetor, tblProcesso.colnProcesso )
.head 3 +  Pushbutton: pbLimpar
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPSSIZE
0000: 6A00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573005700 7461625365727669 636F097461625665
0020: 6963756C6F097461 62566973746F7269 6109746162446562 69746F0974616250
0040: 6C61636109746162 5265737472696361 6F09746162526F75 626F097461624669
0060: 6E616C697A610000 0000
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1PushButton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: &Limpar
.head 4 -  Window Location and Size
.head 5 -  Left: 7.388"
.head 5 -  Top: 4.74"
.head 5 -  Width:  0.95"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = 'Limpa os dados da tela'
.head 6 -  Set _sTipoComando = 'Limpa'
.head 6 -  Set _sTabela = ''
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage( SAM_Click, wParam, lParam )
.head 6 -  Call SalEnableWindow( pbPesquisar )
.head 6 -  Call SalDisableWindow( pbDetalhe )
.head 6 -  Call SalDisableWindow( pbReimpProtRep )
.head 6 -  Call SalEnableWindow( dfsPlaca )
.head 6 -  Call SalEnableWindow( cmbUfServico )
.head 6 -  Call SalHideWindow( frmConsultaHistVeiculo.tblProcesso.colnNumBMV)
.head 3 +  Pushbutton: pbReimpProtRep
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573005700 7461625365727669 636F097461625665
0020: 6963756C6F097461 62566973746F7269 6109746162446562 69746F0974616250
0040: 6C61636109746162 5265737472696361 6F09746162526F75 626F097461624669
0060: 6E616C697A610000 0000
.enddata
.data CLASSPROPSSIZE
0000: 6A00
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1PushButton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: P&rotocolo
.head 4 -  Window Location and Size
.head 5 -  Left: 4.588"
.head 5 -  Top: 4.74"
.head 5 -  Width:  0.85"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = 'Imprimir o Protocolo de Reprovação'
.head 6 -  Set _sTipoComando = 'Comum'
.head 6 -  ! Set _nPermissao = EF_Vazio | EF_RegistroExistente
.head 6 -  Set _nPermissao = 0
.head 6 -  !
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  On SAM_Click
.head 6 +  If NOT SalTblAnyRows( tblProcesso, ROW_Selected, 0 )
.head 7 -  Call SalMessageBeep( 0 )
.head 7 -  Call SalMessageBox( 'Selecione um processo!', 'Atenção', MB_IconExclamation | MB_Ok )
.head 7 -  Return FALSE
.head 6 +  If hWndRelProtocoloReprovacao != hWndNULL
.head 7 -  Call SalSendMsg( hWndRelProtocoloReprovacao, SAM_Close, 0, 0 )
.head 6 +  If SalMessageBox( 'Deseja realmente imprimir o Protocolo de Reprovação?', 'Atenção', MB_IconQuestion | MB_YesNo  ) = IDYES
.head 7 -  Set hWndRelProtocoloReprovacao = SalCreateWindow( frmRelProtocoloReprovacao, hWndMDI, hWndRelProtocoloReprovacao, tblProcesso.colnProcesso,tblProcesso.colnSetor)
.head 3 +  Pushbutton: pbSair
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPSSIZE
0000: 6A00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573005700 7461625365727669 636F097461625665
0020: 6963756C6F097461 62566973746F7269 6109746162446562 69746F0974616250
0040: 6C61636109746162 5265737472696361 6F09746162526F75 626F097461624669
0060: 6E616C697A610000 0000
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1PushButton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: &Sair
.head 4 -  Window Location and Size
.head 5 -  Left: 8.388"
.head 5 -  Top: 4.74"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = 'Sai desta tela'
.head 6 -  Set _sTabela = ''
.head 6 -  Set _sTipoComando = 'Sai'
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 3 -  ! ----- Detalhes de Tela -----
.head 3 -  Frame
.head 4 -  Resource Id: 53206
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.038"
.head 5 -  Top: 0.531"
.head 5 -  Width:  9.25"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 4.125"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Picture: picSemaforo
.head 4 -  Class Child Ref Key: 1
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1Form
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.038"
.head 5 -  Top: 4.729"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  File Name:
.head 4 -  Storage: Class Default
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Fit: Class Default
.head 4 -  Scaling
.head 5 -  Width:  Class Default
.head 5 -  Height:  Class Default
.head 4 -  Corners: Class Default
.head 4 -  Border Style: Class Default
.head 4 -  Border Thickness: Class Default
.head 4 -  Tile To Parent? Class Default
.head 4 -  Border Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Marca/Modelo:
.head 4 -  Resource Id: 53207
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1BackgroundText
.head 4 -  Window Location and Size
.head 5 -  Left: 0.088"
.head 5 -  Top: 1.677"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Justify: Right
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 +  Data Field: dfsSetor
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1DataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.888"
.head 6 -  Top: 1.281"
.head 6 -  Width:  5.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Left
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = 'Descrição do setor'
.head 6 -  !
.head 6 -  Set _bVisivel = TRUE
.head 6 -  !
.head 6 -  Set _sValorDefault = ''
.head 6 -  Set _bPermiteNulos = TRUE
.head 6 -  !
.head 6 -  Set _bÉDependente = TRUE
.head 6 -  Set _bÉCampoDescrição = TRUE
.head 6 -  !
.head 6 -  Set _sCamposResponsaveis[0] = 'dfnSetor'
.head 6 -  Set _sConsultaDescrição = 'SetorS_desc @CodReduzido = :frmConsultaHistVeiculo.dfnSetor'
.head 6 -  !
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 3 -  Background Text: Processo:
.head 4 -  Resource Id: 5145
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1BackgroundText
.head 4 -  Window Location and Size
.head 5 -  Left: 0.238"
.head 5 -  Top: 1.01"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Justify: Right
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 -  Background Text: Espécie:
.head 4 -  Resource Id: 53208
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1BackgroundText
.head 4 -  Window Location and Size
.head 5 -  Left: 4.888"
.head 5 -  Top: 1.677"
.head 5 -  Width:  0.825"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Justify: Right
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 -  Background Text: Categoria:
.head 4 -  Resource Id: 53209
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1BackgroundText
.head 4 -  Window Location and Size
.head 5 -  Left: 4.888"
.head 5 -  Top: 1.969"
.head 5 -  Width:  0.825"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Justify: Right
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 -  Background Text: Chassi:
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461625665696375 6C6F00000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 53210
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1BackgroundText
.head 4 -  Window Location and Size
.head 5 -  Left: 5.488"
.head 5 -  Top: 0.385"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 -  Background Text: Placa:
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461625665696375 6C6F00000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 53211
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1BackgroundText
.head 4 -  Window Location and Size
.head 5 -  Left: 0.188"
.head 5 -  Top: 0.385"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 -  Background Text: RENAVAM:
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461625665696375 6C6F00000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 53212
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1BackgroundText
.head 4 -  Window Location and Size
.head 5 -  Left: 2.988"
.head 5 -  Top: 0.385"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 -  Background Text: UF:
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461625665696375 6C6F00000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 53213
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1BackgroundText
.head 4 -  Window Location and Size
.head 5 -  Left: 1.925"
.head 5 -  Top: 0.385"
.head 5 -  Width:  0.3"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 -  Group Box: Identificação
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461625665696375 6C6F00000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 53214
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.138"
.head 5 -  Top: 0.115"
.head 5 -  Width:  9.05"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.458"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Combustível:
.head 4 -  Resource Id: 53215
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1BackgroundText
.head 4 -  Window Location and Size
.head 5 -  Left: 0.088"
.head 5 -  Top: 1.885"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Justify: Right
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 -  ! cQCK1BackgroundText: Ano Fabricação:
.head 3 -  ! cQCK1BackgroundText: Ano Modelo:
.head 3 +  Pushbutton: pbImpOrdPlaca
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461625665696375 6C6F00000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1PushButton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: &Ordem Placa
.head 4 -  Window Location and Size
.head 5 -  Left: 2.488"
.head 5 -  Top: 4.74"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = 'Abre tela para reimpressão da ordem de placa'
.head 6 -  Set _sTipoComando = 'Comum'
.head 6 -  ! Set _nPermissao = EF_Vazio | EF_RegistroExistente
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  On SAM_Click
.head 6 +  If NOT SalTblAnyRows( tblProcesso, ROW_Selected, 0 )
.head 7 -  Call SalMessageBeep( 0 )
.head 7 -  Call SalMessageBox( 'Selecione um processo!', 'Atenção', MB_IconExclamation | MB_Ok )
.head 7 -  Return FALSE
.head 6 +  If hWndOrdPlaca != hWndNULL
.head 7 -  Call SalSendMsg(  hWndOrdPlaca, SAM_Close, 0, 0)
.head 6 -  ! Set hWndOrdPlaca = SalCreateWindow( frmImpressao, hWndMDI, hWndItem)
.head 6 +  If frmConsultaHistVeiculo.dfsCodUf = 'PE'
.head 7 -  Set hWndOrdPlaca = SalCreateWindow( frmRelOrdemPlaca, hWndMDI, hWndOrdPlaca, 0, TRUE, 0, dfnCodVeiculo )
.head 6 +  Else
.head 7 -  Set bVeiculoBin = BINConsultaVeiculo( dfsPlaca, dfsCodUf, NUMBER_Null, '', '',
'', 'N', nCodConsultaBin, nNumSeqTransacaoBin )
.head 7 -  Set hWndOrdPlaca = SalCreateWindow( frmRelOrdemPlaca, hWndMDI, hWndOrdPlaca, 0, TRUE, 1, dfnCodVeiculo )
.head 6 -  ! - wParam = nProcesso / lParam = nSetor
.head 6 -  Call SalPostMsg(hWndOrdPlaca, UDM_EnviaTransacao250, frmConsultaHistVeiculo.tblProcesso.colnProcesso, frmConsultaHistVeiculo.tblProcesso.colnSetor)
.head 3 +  Pushbutton: pbAlterar
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461625665696375 6C6F00000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1PushButton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: &Alterar
.head 4 -  Window Location and Size
.head 5 -  Left: 1.775"
.head 5 -  Top: 4.74"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = 'Abre tela para alteração de processo'
.head 6 -  Set _sTipoComando = 'Comum'
.head 6 -  ! Set _nPermissao = EF_Vazio | EF_RegistroExistente
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  On SAM_Click
.head 6 +  If NOT SalTblAnyRows( tblProcesso, ROW_Selected, 0 )
.head 7 -  Call SalMessageBeep( 0 )
.head 7 -  Call SalMessageBox( 'Selecione um processo!', 'Atenção', MB_IconExclamation | MB_Ok )
.head 7 -  Return FALSE
.head 6 +  If hWndAltProc != hWndNULL
.head 7 -  Call SalSendMsg(  hWndAltProc, SAM_Close, 0, 0)
.head 6 -  Set hWndAltProc = SalCreateWindow( frmAlteracaoProcesso, hWndMDI, hWndItem, tblProcesso.colnSetor, tblProcesso.colnProcesso )
.head 6 -  Return TRUE
.head 3 +  Pushbutton: pbImpCertidao
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461625665696375 6C6F00000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1PushButton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: &Certidão
.head 4 -  Window Location and Size
.head 5 -  Left: 3.6"
.head 5 -  Top: 4.74"
.head 5 -  Width:  0.95"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = 'Abre tela para reimpressão de certidão'
.head 6 -  Set _sTipoComando = 'Comum'
.head 6 -  ! Set _nPermissao = EF_Vazio | EF_RegistroExistente
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  On SAM_Click
.head 6 +  If NOT SalTblAnyRows( tblProcesso, ROW_Selected, 0 )
.head 7 -  Call SalMessageBeep( 0 )
.head 7 -  Call SalMessageBox( 'Selecione um processo!', 'Atenção', MB_IconExclamation | MB_Ok )
.head 7 -  Return FALSE
.head 6 +  If hWndImprimeCertidao != hWndNULL
.head 7 -  Call SalSendMsg(  hWndImprimeCertidao, SAM_Close, 0, 0)
.head 6 -  Set hWndImprimeCertidao = SalCreateWindow( frmImpressaoCertidao, hWndMDI, hWndItem)
.head 6 -  Return TRUE
.head 3 +  Pushbutton: pbReimpBMV
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPSSIZE
0000: 7000
.enddata
.data CLASSPROPS
0000: 5469706F436F6D61 6E646F0004005361 6900005461624368 696C644E616D6573
0020: 003B007461624765 72616C0974616256 656963756C6F0974 616250726F707269
0040: 65746172696F0974 6162526573747269 63616F0974616245 6E74456D70000054
0060: 6162656C61000100 0000000000000000
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1PushButton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: &BMV
.head 4 -  Window Location and Size
.head 5 -  Left: 5.488"
.head 5 -  Top: 4.74"
.head 5 -  Width:  0.85"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set _sTextoStatusBar = 'Reimprime o BMV'
.head 6 -  Set _sTipoComando = 'Comum'
.head 6 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If tblProcesso.colsSituacao = 'FECHADO'
.head 7 -  Set Setor = SalNumberToStrX( frmConsultaHistVeiculo.tblProcesso.colnSetor, 0 )
.head 7 -  Set nControle = 0
.head 7 -  Set nSubControle = 0
.head 7 -  ! Set sVarQRP = '
VeicPlaca, 		VeicRenavam, 		VeicChassi,
VeicAquisicao,		VeicTipo,			VeicMarcaMod,
VeicAnoFM,		VeicEspecie,		VeicCor,
VeicComb,		VeicCatComp,		VeicFabr,
VeicCarroc,		VeicNumMotor,		VeicPot,
VeiTranCapCar,		VeiTranCMT,		VeiTranRTB,
VeiTranNEixo,		VeicChREM,		VeicMarcaMod,
VeicCapPas,		RegAProp,		RegACPFCGC,
RegAVlrVen,		RegANF,			RegACRV,
RegAPlaca,		CabNumero,		CabSetor,
BMV,			CabArquivo,		CabEmissao,
Bloqueio1,		Bloqueio2,		Bloqueio3,
Bloqueio4,		CabServico1,		CabServico2,
CabServico3,		CabServico4,		CabServico5,
CabServico6,		PropDesc,		PropCPFCGC,
PropDocOE,		PropDocOEUF,		PropEnd,
PropCompEnd,		PropBairro,		PropMunic,
PropCEP,			UsuMatr,			UsuDesc,
PropDoc,
RestrFin1,			RestrFin2,			DataContrato,
NumeroContrato,		ProcCPF,			ProcDesc,
Restricao1,		Restricao2,		Msg1,
Msg2,			Msg3,			Msg4,
Msg5, 			PropNum,		Data,
PropTelefone		MunSetor'
.head 7 -  Set sVarQRP = '
VeicPlaca, 		
VeicRenavam, 		
VeicChassi,
VeicAquisicao,		
VeicTipo,			
VeicMarcaMod,
VeicAnoFM,		
VeicEspecie,		
VeicCor,
VeicComb,		
VeicCatComp,		
VeicFabr,
VeicCarroc,		
VeicNumMotor,		
VeicPot,
VeiTranCapCar,		
VeiTranCMT,		
VeiTranRTB,
VeiTranNEixo,		
VeicChREM,		
VeicCapPas,		
RegAProp,		
RegACPFCGC,
RegAVlrVen,		
RegANF,			
RegACRV,
RegAPlaca,		
CabNumero,		
CabSetor,
BMV,			
CabArquivo,		
CabEmissao,
Bloqueio1,		
Bloqueio2,		
Bloqueio3,
Bloqueio4,		
CabServico1,		
CabServico2,
CabServico3,		
CabServico4,		
CabServico5,
CabServico6,		
PropDesc,		
PropCPFCGC,
PropDocOE,		
PropDocOEUF,		
PropEnd,
PropCompEnd,		
PropBairro,		
PropMunic,
PropCEP,			
UsuMatr,			
UsuDesc,
PropDoc,
RestrFin1,			
RestrFin2,			
DataContrato,
NumeroContrato,		
ProcCPF,			
ProcDesc,
Restricao1,		
Restricao2,		
Msg1,
Msg2,			
Msg3,			
Msg4,
Msg5,			
PropNum,		
Data,
PropTelefone,		
MunSetor,
TipoDocumentoProp,
OrgaoProp,
NumeroDocProp,
ArrendatarioCgc,
Arrendatario,
TipoVeicUtilizacao,
NomeCondutor,
Email,
DataSolicitacao,
CodBarrasBMV'
.head 7 -  !
.head 7 -  Set sVarSQLWin = '
Placa,			
Renavam, 		
Chassi,
DataAquisicao,		
Tipo,			
Marca,
AnoFabric,		
Especia,			
Cor,
Combustivel,		
Categoria,			
Fabricacao,
Carroceria,		
NumMotor,		
Potencia,
CapCarga,		
CMT,			
RTB,
NumEixos,		
ChassiRegr,		
CapPassag,		
ProprietarioAnt,		
NumDocPropAnt,
VlrVenalAnt,		
NotaFiscalAnt,		
CRVAnt,
PlacaAnt,			
:frmConsultaHistVeiculo.tblProcesso.colnProcesso,
Setor,			
BMV,			
Arquivo,
DataFechamento,		
Bloqueio1,		
Bloqueio2,
Bloqueio3,		
Bloqueio4,		
Servico1,
Servico2,			
Servico3,			
Servico4,
Servico5,			
Servico6,			
Proprietario,
NunDoc,			
OrgaoExp,		
UFProp,
Logradouro,		
Complemento,		
Bairro,
Municipio,			
CEP,			
Matricula,
Atendente,		
DocProprietario,
Financeira,		
CGCFinanceira,		
DataBaixa,
NumContrato,		
CPFSolicitante,		
Solicitante,
RestricaoVenda1,		
RestricaoVenda2,	
sMsg1,
sMsg2,			
sMsg3,			
sMsg4,
sMsg5,		
NumeroEnd,		
DataHora,
Telefone,			
MunSetor,
TipoDocumentoProp,
OrgaoProp,
NumeroDocProp,
CGCCPF_Arrendatario,
Arrendatario,
TipoVeicUtilizacao,
NomeCondutor,
Email,
dDataSolicitacao,
sCodBarrasBMV'
.head 7 -  !
.head 7 -  Set hWndRelBMVRest =  SalReportView( hWndForm, hWndNULL, 'BMV.QRP', sVarSQLWin, sVarQRP, nError )
.head 3 -  Background Text: CNPJ/CPF:
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461625665696375 6C6F0000
.enddata
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.head 4 -  Resource Id: 48931
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQCK1BackgroundText
.head 4 -  Window Location and Size
.head 5 -  Left: 0.188"
.head 5 -  Top: 0.74"
.head 5 -  Width:  0.85"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 2 +  Functions
.head 3 +  Function: ErroForm
.head 4 -  Description: Imprime na tela mensagem de erro de acordo com o código
Autor: Nathan - 19.11.96
.head 4 -  Returns
.head 4 +  Parameters
.head 5 -  Number: nErro
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sMensagem
.head 4 +  Actions
.head 5 -  Call SalMessageBeep( 0 )
.head 5 +  Select Case nErro
.head 6 +  Case 1
.head 7 -  Set sMensagem = 'Não existem operações suficientes para a realização do pré-atendimento !'
.head 7 -  Break
.head 6 +  Case 2
.head 7 -  Set sMensagem = 'Problemas na criação do processo de pré-atendimento !'
.head 7 -  Break
.head 6 +  Case 3
.head 7 -  Set sMensagem = 'Problemas na gravação dos serviços selecionados !'
.head 7 -  Break
.head 6 +  Case 4
.head 7 -  Set sMensagem = 'Problemas de gravação do Laudo de Vistoria !'
.head 7 -  Break
.head 6 +  Case 5
.head 7 -  Set sMensagem = 'Problemas na gravação das placas selecionadas !'
.head 7 -  Break
.head 6 +  Case 6
.head 7 -  Set sMensagem = 'Problemas na geração do processo de pré-atendimento !'
.head 7 -  Break
.head 6 +  Default
.head 7 -  Set sMensagem = 'Problemas ao preparar consulta no banco de dados !'
.head 7 -  Break
.head 5 -  Call SalMessageBox( sMensagem, 'Atenção', MB_IconExclamation | MB_Ok )
.head 3 +  Function: VerHistAntigo
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call fMPSPrepareProc( hSqlApp, 'exec HistoricoS_existe @Placa = :frmConsultaHistVeiculo.dfsPlaca,
@Renavam = :frmConsultaHistVeiculo.dfnRenavam, @Chassi = :frmConsultaHistVeiculo.dfsChassi',
':frmConsultaHistVeiculo.nPlaca, :frmConsultaHistVeiculo.nRenavam, :frmConsultaHistVeiculo.nChassi' )
.head 5 -  Call SqlExecute( hSqlApp )
.head 5 -  Call SqlFetchNext( hSqlApp, nRetorno )
.head 5 +  If nPlaca > 0 OR nChassi > 0 OR nRenavam > 0
.head 6 -  Call SalMessageBeep( 0 )
.head 6 +  If SalMessageBox( 'Deseja consultar o histórico anterior à implantação ?', 'Atenção',
MB_IconQuestion | MB_YesNo ) = IDYES
.head 7 +  If nPlaca > 0
.head 8 -  Set hWndHistorico = SalCreateWindow( frmHistorico, hWndMDI, dfsPlaca, NUMBER_Null, '' )
.head 7 +  Else If nChassi > 0
.head 8 -  Set hWndHistorico = SalCreateWindow( frmHistorico, hWndMDI, '', NUMBER_Null, dfsChassi )
.head 7 +  Else If nRenavam > 0
.head 8 -  Set hWndHistorico = SalCreateWindow( frmHistorico, hWndMDI, '', dfnRenavam, '' )
.head 3 +  Function: VerificaImprimeCertidao
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Sql Handle: hSqlCertidao
.head 5 -  Boolean: bImprimeCertidao
.head 4 +  Actions
.head 5 -  !
.head 5 -  ! Executa a Procedure para saber se é possível reimprimir a Certidao
.head 5 -  Set bImprimeCertidao = FALSE
.head 5 +  If fMPSConnect( hSqlCertidao )
.head 6 +  If fMPSPrepareProc( hSqlCertidao, 'exec HistVeiculoVerImprimeCertidaoS
@nSetor = :frmConsultaHistVeiculo.tblProcesso.colnSetor, @nProcesso = :frmConsultaHistVeiculo.tblProcesso.colnProcesso',
':bImprimeCertidao' )
.head 7 +  If SqlExecute( hSqlCertidao )
.head 8 -  Call SqlFetchNext( hSqlCertidao, lParam )
.head 6 -  Call fMPSDisconnect( hSqlCertidao )
.head 6 -  Return bImprimeCertidao
.head 5 -  !
.head 3 +  Function: VerificaImprimeOrdPlaca
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Sql Handle: hSqlOrdPlaca
.head 5 -  Boolean: bImprimeOrdPlaca
.head 4 +  Actions
.head 5 -  ! Executa a Procedure para saber se é possível reimprimir a Ordem de Placa
.head 5 -  Set bImprimeOrdPlaca = FALSE
.head 5 +  If fMPSConnect( hSqlOrdPlaca )
.head 6 +  If fMPSPrepareProc( hSqlOrdPlaca, 'exec dbvcen..HistVeiculoOrdemPlacaS
@nSetor = :frmConsultaHistVeiculo.tblProcesso.colnSetor, @nProcesso = :frmConsultaHistVeiculo.tblProcesso.colnProcesso',
':bImprimeOrdPlaca' )
.head 7 +  If SqlExecute( hSqlOrdPlaca )
.head 8 -  Call SqlFetchNext( hSqlOrdPlaca, lParam )
.head 6 -  Call fMPSDisconnect( hSqlOrdPlaca )
.head 6 -  Return bImprimeOrdPlaca
.head 5 -  !
.head 3 +  Function: VerificaPermissaoObjeto
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 +  Parameters
.head 5 -  Number: nSistema
.head 5 -  String: sObjeto
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Sql Handle: hSqlPerm
.head 5 -  Boolean: bPermissao
.head 4 +  Actions
.head 5 -  !
.head 5 -  ! Executa a Procedure para saber se é possível habilitar objeto
.head 5 -  Set bPermissao = FALSE
.head 5 +  If fMPSConnect( hSqlPerm )
.head 6 +  If fMPSPrepareProc( hSqlPerm, 'exec MPS..PermissaoValorS
@nSistema = :nSistema,
@sItem = :sObjeto ',
':bPermissao' )
.head 7 +  If SqlExecute( hSqlPerm)
.head 8 -  Call SqlFetchNext( hSqlPerm, lParam )
.head 6 -  Call fMPSDisconnect( hSqlPerm )
.head 6 -  Return bPermissao
.head 5 -  !
.head 3 +  Function: RetornaNomeProprietario
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Sql Handle: hSqlProprietario
.head 5 -  String: sNome
.head 4 +  Actions
.head 5 +  If fMPSConnect( hSqlProprietario )
.head 6 +  If fMPSPrepareProc( hSqlProprietario, 'exec ProprietarioS_nome @NumDoc  = :dfsCgcCpf ' , 
		':sNome' )
.head 7 +  If SqlExecute( hSqlProprietario )
.head 8 -  Call SqlFetchNext( hSqlProprietario, lParam )
.head 6 -  Call fMPSDisconnect( hSqlProprietario )
.head 5 -  Return sNome
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  Window Handle: hWndHistoricoProc
.head 3 -  Window Handle: hWndHistorico
.head 3 -  Window Handle: hWndRelProtocoloReprovacao 
.head 3 -  Number: nRetorno
.head 3 -  ! ----- Número de Registros localizados -----
.head 3 -  Number: nPlaca
.head 3 -  Number: nRenavam
.head 3 -  Number: nChassi
.head 3 -  ! ----- Retorno de consulta de Veículo -----
.head 3 -  Number: nEspecie
.head 3 -  Number: nCombustivel
.head 3 -  Number: nMarca
.head 3 -  Number: nCategoria
.head 3 -  Number: nCor
.head 3 -  ! ----- Variáveis temporárias -----
.head 3 -  Date/Time: dTmp
.head 3 -  String: lsTmp
.head 3 -  Number: nTmp
.head 3 -  String: sTmp
.head 3 -  ! ----- Controles de Pré-Atendimento existente -----
.head 3 -  Boolean: bDAEEmitida
.head 3 -  Boolean: _bVisivel
.head 3 -  Number: nPreSetor
.head 3 -  Number: nPreAtendimento
.head 3 -  Number: nPreServico
.head 3 -  Number: nPreQuantidade
.head 3 -  ! ----- Variáveis de Controle de Veículo -----
.head 3 -  Boolean: bVeiculoLocal
.head 3 -  Number: nControleRetorno
.head 3 -  Number: nTransacaoRenavam
.head 3 -  ! ! --------------------  BMV --------------------
.head 3 -  String: sUsuario
.head 3 -  String: sVarQRP
.head 3 -  String: sVarSQLWin
.head 3 -  String: MunSetor
.head 3 -  Sql Handle: hSqlRel
.head 3 -  Sql Handle: hSqlRel1
.head 3 -  Sql Handle: hSqlRel2
.head 3 -  ! ! -------------- Variavei BMV ------------------------
.head 3 -  String: Placa
.head 3 -  String: sPermissaoCancelar
.head 3 -  String: ParametroGeral
.head 3 -  Number: Renavam
.head 3 -  String: Chassi
.head 3 -  String: Tipo
.head 3 -  Date/Time: DataAquisicao
.head 3 -  String: Marca
.head 3 -  String: AnoFabric
.head 3 -  String: Especia
.head 3 -  Number: nnCor
.head 3 -  String: Cor
.head 3 -  String: Combustivel
.head 3 -  String: Categoria
.head 3 -  String: Fabricacao
.head 3 -  String: Carroceria
.head 3 -  Number: nNumMotor
.head 3 -  String: NumMotor
.head 3 -  Number: Potencia
.head 3 -  Number: CapCarga
.head 3 -  Number: CMT
.head 3 -  Number: RTB
.head 3 -  Number: NumEixos
.head 3 -  String: ChassiDB
.head 3 -  String: ChassiRegr
.head 3 -  String: AnoModelo
.head 3 -  Number: VlrVenal
.head 3 -  ! Number: NotaFiscal
.head 3 -  String: NotaFiscal
.head 3 -  Number: CRV
.head 3 -  Number: CapPassag
.head 3 -  String: ProprietarioAnt
.head 3 -  String: NumDocPropAnt
.head 3 -  String: OrgaoExpedidorPropAnt
.head 3 -  String: UFPropAnt
.head 3 -  Number: VlrVenalAnt
.head 3 -  String: NotaFiscalAnt
.head 3 -  Number: CRVAnt
.head 3 -  String: PlacaAnt
.head 3 -  String: Proprietario
.head 3 -  String: NunDoc
.head 3 -  String: OrgaoExp
.head 3 -  String: UFProp
.head 3 -  Number: BMV
.head 3 -  String: Setor
.head 3 -  Number: nError
.head 3 -  Number: TipoServico
.head 3 -  String: Servico
.head 3 -  Number: nControle
.head 3 -  Number: nSubControle
.head 3 -  Number: Arquivo
.head 3 -  Date/Time: DataFechamento
.head 3 -  String: Bloqueio1
.head 3 -  String: Bloqueio2
.head 3 -  String: Bloqueio3
.head 3 -  String: Bloqueio4
.head 3 -  String: Servico1
.head 3 -  String: Servico2
.head 3 -  String: Servico3
.head 3 -  String: Servico4
.head 3 -  String: Servico5
.head 3 -  String: Servico6
.head 3 -  Number: nRetorno1
.head 3 -  Number: nRetorno2
.head 3 -  Number: nRetorno3
.head 3 -  String: CodSetor
.head 3 -  String: Logradouro
.head 3 -  String: Complemento
.head 3 -  Number: CEP
.head 3 -  String: Municipio
.head 3 -  String: Bairro
.head 3 -  String: CPFSolicitante
.head 3 -  String: Solicitante
.head 3 -  Number: Matricula
.head 3 -  String: Atendente
.head 3 -  Number: DocProprietario
.head 3 -  Number: TipoDocto
.head 3 -  String: TipoDocumentoProp
.head 3 -  String: OrgaoProp
.head 3 -  String: NumeroDocProp
.head 3 -  ! !
.head 3 -  Number: ContratoRest
.head 3 -  Number: CodRestricao
.head 3 -  String: Restricao
.head 3 -  String: Restricao2
.head 3 -  Date/Time: DataInicial
.head 3 -  Date/Time: DataBaixa
.head 3 -  Date/Time: DataHora
.head 3 -  String: Usuario
.head 3 -  String: Telefone
.head 3 -  String: NumeroEnd
.head 3 -  Number: CodFinanceira
.head 3 -  String: Financeira
.head 3 -  String: CGCFinanceira
.head 3 -  String: Arrendatario
.head 3 -  String: Observacao
.head 3 -  String: CGCCPF_Arrendatario
.head 3 -  String: EfeitoSuspensivoSeq
.head 3 -  String: NumContrato
.head 3 -  String: NumRestricaoSNG
.head 3 -  String: ConvenioSng
.head 3 -  String: RestricaoVenda1
.head 3 -  String: RestricaoVenda2
.head 3 -  Long String: sMsg1
.head 3 -  Long String: sMsg2
.head 3 -  Long String: sMsg3
.head 3 -  Long String: sMsg4
.head 3 -  Long String: sMsg5
.head 3 -  String: Email
.head 3 -  ! !
.head 3 -  Window Handle: hWndRelBMVRest
.head 3 -  Sql Handle: hSql
.head 3 -  Number: nPermissaoForm
.head 3 -  Window Handle: hWndImprimeCertidao
.head 3 -  Window Handle: hWndOrdPlaca
.head 3 -  Window Handle: hWndAltProc
.head 3 -  Sql Handle: hSqlTmp
.head 3 -  String: TipoVeicUtilizacao
.head 3 -  String: NomeCondutor
.head 3 -  Boolean: bVeiculoBin
.head 3 -  Number: nCodConsultaBin
.head 3 -  Number: nNumSeqTransacaoBin
.head 3 -  !
.head 3 -  Number: nSetor
.head 3 -  Date/Time: dDataSolicitacao
.head 3 -  ! - -
.head 3 -  String: sCodBarrasBMV
.head 3 -  String: sCodBarrasBMVImpar
.head 3 -  ! ! - - afs
.head 3 -  Sql Handle: hSqlResumo
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Set _sTextoStatusBar = ''
.head 4 -  Set _sNroCamposIgnorados = 'NENHUM'
.head 4 -  !
.head 4 -  Set _sCriacaoConexao = 'FALSE'
.head 4 -  !
.head 4 -  Set _nEstadoInicialForm = EF_Vazio
.head 4 -  Call SalSendClassMessage( SAM_Create, wParam, lParam )
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 -  Call HabilitacaoNome( 'mdipbConsHistVeic', FALSE )
.head 3 +  On SAM_Destroy
.head 4 -  Call SalSendClassMessage( SAM_Destroy, wParam, lParam )
.head 4 +  If hWndHistoricoProc != hWndNULL
.head 5 -  Call SalSendMsg( hWndHistoricoProc, MSG_Sai, 0, 0 )
.head 4 +  If hWndHistorico != hWndNULL
.head 5 -  Call SalSendMsg( hWndHistorico, MSG_Sai, 0, 0 )
.head 4 +  If hWndOrdPlaca != hWndNULL
.head 5 -  Call SalSendMsg( hWndOrdPlaca, MSG_Sai, 0, 0 )
.head 4 -  Call HabilitacaoNome( 'mdipbConsHistVeic', TRUE )
.head 3 +  On MSG_Limpa
.head 4 +  If hWndHistoricoProc != hWndNULL
.head 5 -  Call SalSendMsg( hWndHistoricoProc, MSG_Sai, 0, 0 )
.head 4 +  If hWndHistorico != hWndNULL
.head 5 -  Call SalSendMsg( hWndHistorico, MSG_Sai, 0, 0 )
.head 4 -  Call SalSendClassMessage( MSG_Limpa, wParam, lParam )
.head 3 +  On MSG_Sai
.head 4 +  If hWndHistoricoProc != hWndNULL
.head 5 -  Call SalSendMsg( hWndHistoricoProc, MSG_Sai, 0, 0 )
.head 4 -  Call SalSendClassMessage( MSG_Sai, wParam, lParam )
.head 3 +  On SAM_ReportFetchInit
.head 4 -  Set frmConsultaHistVeiculo.BMV = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.DataFechamento = DATETIME_Null
.head 4 -  Set frmConsultaHistVeiculo.CPFSolicitante = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Solicitante = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Placa = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.ParametroGeral = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Renavam = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.Chassi = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.DataAquisicao = DATETIME_Null
.head 4 -  Set frmConsultaHistVeiculo.Tipo = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Marca = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.AnoFabric = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Especia = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.nnCor = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.Combustivel = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Categoria = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Fabricacao = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Carroceria = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.NumMotor = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Potencia = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.CapCarga = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.CMT = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.RTB = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.NumEixos = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.ChassiDB = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.ChassiRegr = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.AnoModelo = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.VlrVenal = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.NotaFiscal  = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.CRV = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.CapPassag  = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.Proprietario = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.NunDoc = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.DocProprietario = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.OrgaoExp = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.UFProp = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Logradouro = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Complemento = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.CEP = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.Municipio = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Bairro = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.ProprietarioAnt = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.NumDocPropAnt = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.OrgaoExpedidorPropAnt = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.UFPropAnt = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.VlrVenalAnt  = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.NotaFiscalAnt = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.CRVAnt = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.PlacaAnt = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Arquivo = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.Matricula = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.Atendente = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.sMsg1 = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.sMsg2 = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.sMsg3 = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.sMsg4 = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.sMsg5 = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.TipoServico = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.Servico1 = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Servico2 = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Servico3 = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Servico4 = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Servico5 = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Servico6 = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.CodRestricao = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.Restricao = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Restricao2 = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.DataInicial = DATETIME_Null
.head 4 -  Set frmConsultaHistVeiculo.DataBaixa = DATETIME_Null
.head 4 -  Set frmConsultaHistVeiculo.Usuario = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.CodFinanceira = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.Financeira = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.CGCFinanceira = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Arrendatario = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Observacao = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.CGCCPF_Arrendatario = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.EfeitoSuspensivoSeq = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.NumContrato = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.NumRestricaoSNG = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.ConvenioSng = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.TipoDocto = NUMBER_Null
.head 4 -  Set frmConsultaHistVeiculo.TipoDocumentoProp = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.OrgaoProp = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.NumeroDocProp = STRING_Null
.head 4 -  Set Bloqueio1 = STRING_Null
.head 4 -  Set Bloqueio2 = STRING_Null
.head 4 -  Set Bloqueio3 = STRING_Null
.head 4 -  Set Bloqueio4 = STRING_Null
.head 4 -  Set TipoVeicUtilizacao  = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.NomeCondutor  = STRING_Null
.head 4 -  Set frmConsultaHistVeiculo.Email = STRING_Null
.head 4 -  !
.head 4 -  !
.head 4 +  ! saa
.head 5 -  Call SalMessageBox( 'Sem retorno de dados', 'Atenção', MB_IconExclamation | MB_Ok )
.head 4 +  If SqlConnect( hSqlRel )
.head 5 +  ! saa 
.head 6 -  Call SalMessageBox( 'Sem retorno de dados', 'Atenção', MB_IconExclamation | MB_Ok )
.head 5 -  Call SqlSetInMessage ( hSqlRel, 10000 )
.head 5 +  If fMPSPrepareProc( hSqlRel, 'Exec ImpressaoBMV
@Placa = :frmConsultaHistVeiculo.dfsPlaca,
@Processo = :frmConsultaHistVeiculo.tblProcesso.colnProcesso,
@SetorN = :frmConsultaHistVeiculo.tblProcesso.colnSetor ',
':frmConsultaHistVeiculo.BMV,
:frmConsultaHistVeiculo.DataFechamento,
:frmConsultaHistVeiculo.CPFSolicitante,
:frmConsultaHistVeiculo.Solicitante,
:frmConsultaHistVeiculo.Placa,
:frmConsultaHistVeiculo.ParametroGeral,
:frmConsultaHistVeiculo.Renavam,
:frmConsultaHistVeiculo.Chassi,
:frmConsultaHistVeiculo.DataAquisicao,
:frmConsultaHistVeiculo.Tipo,
:frmConsultaHistVeiculo.Marca,
:frmConsultaHistVeiculo.AnoFabric,
:frmConsultaHistVeiculo.Especia,
:frmConsultaHistVeiculo.Cor,
:frmConsultaHistVeiculo.Combustivel,
:frmConsultaHistVeiculo.Categoria,
:frmConsultaHistVeiculo.Fabricacao,
:frmConsultaHistVeiculo.Carroceria,
:frmConsultaHistVeiculo.NumMotor,
:frmConsultaHistVeiculo.Potencia,
:frmConsultaHistVeiculo.CapCarga,
:frmConsultaHistVeiculo.CMT,
:frmConsultaHistVeiculo.RTB,
:frmConsultaHistVeiculo.NumEixos,
:frmConsultaHistVeiculo.ChassiDB,
:frmConsultaHistVeiculo.ChassiRegr,
:frmConsultaHistVeiculo.AnoModelo,
:frmConsultaHistVeiculo.VlrVenal,
:frmConsultaHistVeiculo.NotaFiscal,
:frmConsultaHistVeiculo.CRV,
:frmConsultaHistVeiculo.CapPassag,
:frmConsultaHistVeiculo.Proprietario,
:frmConsultaHistVeiculo.NunDoc,
:frmConsultaHistVeiculo.DocProprietario,
:frmConsultaHistVeiculo.OrgaoExp,
:frmConsultaHistVeiculo.UFProp,
:frmConsultaHistVeiculo.Logradouro,
:frmConsultaHistVeiculo.Complemento,
:frmConsultaHistVeiculo.CEP,
:frmConsultaHistVeiculo.Municipio,
:frmConsultaHistVeiculo.Bairro,
:frmConsultaHistVeiculo.ProprietarioAnt,
:frmConsultaHistVeiculo.NumDocPropAnt,
:frmConsultaHistVeiculo.OrgaoExpedidorPropAnt,
:frmConsultaHistVeiculo.UFPropAnt,
:frmConsultaHistVeiculo.VlrVenalAnt,
:frmConsultaHistVeiculo.NotaFiscalAnt,
:frmConsultaHistVeiculo.CRVAnt,
:frmConsultaHistVeiculo.PlacaAnt,
:frmConsultaHistVeiculo.Arquivo,
:frmConsultaHistVeiculo.Matricula,
:frmConsultaHistVeiculo.Atendente,
:frmConsultaHistVeiculo.sMsg1,
:frmConsultaHistVeiculo.sMsg2,
:frmConsultaHistVeiculo.sMsg3,
:frmConsultaHistVeiculo.sMsg4,
:frmConsultaHistVeiculo.sMsg5,
:frmConsultaHistVeiculo.NumeroEnd,
:frmConsultaHistVeiculo.Telefone,
:frmConsultaHistVeiculo.DataHora,
:frmConsultaHistVeiculo.MunSetor,
:frmConsultaHistVeiculo.TipoDocto,
:frmConsultaHistVeiculo.TipoDocumentoProp,
:frmConsultaHistVeiculo.OrgaoProp,
:frmConsultaHistVeiculo.NumeroDocProp,
:frmConsultaHistVeiculo.Servico1,
:frmConsultaHistVeiculo.Servico2,
:frmConsultaHistVeiculo.Servico3,
:frmConsultaHistVeiculo.Servico4,
:frmConsultaHistVeiculo.Servico5,
:frmConsultaHistVeiculo.Servico6,
:frmConsultaHistVeiculo.Arrendatario,
:frmConsultaHistVeiculo.CGCCPF_Arrendatario,
:frmConsultaHistVeiculo.RestricaoVenda1,
:frmConsultaHistVeiculo.RestricaoVenda2,
:frmConsultaHistVeiculo.Financeira,
:frmConsultaHistVeiculo.CGCFinanceira,
:frmConsultaHistVeiculo.NumContrato,
:frmConsultaHistVeiculo.DataBaixa,
:frmConsultaHistVeiculo.Bloqueio1,
:frmConsultaHistVeiculo.Bloqueio2,
:frmConsultaHistVeiculo.Bloqueio3,
:frmConsultaHistVeiculo.Bloqueio4,
:frmConsultaHistVeiculo.TipoVeicUtilizacao,
:frmConsultaHistVeiculo.NomeCondutor,
:frmConsultaHistVeiculo.Email,
:frmConsultaHistVeiculo.dDataSolicitacao' )
.head 6 +  If SqlExecute( hSqlRel )
.head 7 -  Set nControle = 0
.head 6 +  Else
.head 7 -  Call SalReportClose( hWndRelBMVRest )
.head 7 -  Return FALSE
.head 3 +  On SAM_ReportFetchNext
.head 4 +  If nControle = 0
.head 5 +  If SqlFetchNext( hSqlRel, lParam )
.head 6 -  Call SalSendMsg(hWndForm, UDM_AposPesquisa,0,0)
.head 6 -  Return TRUE
.head 5 +  Else
.head 6 -  Call SqlDisconnect( hSqlRel )
.head 6 +  If SqlConnect(hSqlRel)
.head 7 +  If fMPSPrepareProc( hSqlRel, 	'Exec dbvcen..ProcessoServicoS_desc
@Setor = :frmConsultaHistVeiculo.tblProcesso.colnSetor,
@Processo = :frmConsultaHistVeiculo.tblProcesso.colnProcesso',
 ':frmConsultaHistVeiculo.TipoServico, :frmConsultaHistVeiculo.Servico')
.head 8 -  Call SqlExecute( hSqlRel )
.head 6 -  Set nControle = 1
.head 4 +  If nControle = 1
.head 5 +  If SqlFetchNext( hSqlRel, lParam )
.head 6 +  If nSubControle = 0
.head 7 -  Set Servico1 = Servico
.head 7 -  Set nSubControle = 2
.head 7 -  Return TRUE
.head 6 +  If nSubControle = 1
.head 7 -  Set Servico2 = Servico
.head 7 -  Set nSubControle = 3
.head 7 -  Return TRUE
.head 6 +  If nSubControle = 2
.head 7 -  Set Servico3 = Servico
.head 7 -  Set nSubControle = 4
.head 7 -  Return TRUE
.head 6 +  If nSubControle = 3
.head 7 -  Set Servico5 = Servico
.head 7 -  Set nSubControle = 5
.head 7 -  Return TRUE
.head 6 +  If nSubControle = 4
.head 7 -  Set Servico5 = Servico
.head 7 -  Set nSubControle = 6
.head 7 -  Return TRUE
.head 6 +  If nSubControle = 5
.head 7 -  Set Servico6 = Servico
.head 7 -  Return TRUE
.head 5 +  Else
.head 6 -  Call SqlDisconnect( hSqlRel )
.head 6 +  If SqlConnect(hSqlRel)
.head 7 +  If fMPSPrepareProc( hSqlRel, 	'Exec dbvcen..HistoricoRestricaoS_processo
@Processo = :frmConsultaHistVeiculo.tblProcesso.colnProcesso,
@SetorN = :frmConsultaHistVeiculo.tblProcesso.colnSetor',
 ' :frmConsultaHistVeiculo.CodRestricao,
:frmConsultaHistVeiculo.Restricao,
:frmConsultaHistVeiculo.Restricao2,
:frmConsultaHistVeiculo.DataInicial,
:frmConsultaHistVeiculo.DataBaixa,
:frmConsultaHistVeiculo.Usuario,
:frmConsultaHistVeiculo.CodFinanceira,
:frmConsultaHistVeiculo.Financeira,
:frmConsultaHistVeiculo.CGCFinanceira,
:frmConsultaHistVeiculo.Arrendatario,
:frmConsultaHistVeiculo.Observacao,
:frmConsultaHistVeiculo.CGCCPF_Arrendatario,
:frmConsultaHistVeiculo.EfeitoSuspensivoSeq,
:frmConsultaHistVeiculo.NumContrato,
:frmConsultaHistVeiculo.NumRestricaoSNG,
:frmConsultaHistVeiculo.ConvenioSng')
.head 8 -  Call SqlExecute( hSqlRel )
.head 6 -  Set nSubControle = 0
.head 6 -  Set nControle = 2
.head 4 +  If nControle = 2
.head 5 +  If SqlFetchNext( hSqlRel, lParam )
.head 6 +  If nSubControle = 0
.head 7 -  Set Bloqueio1 = Restricao2
.head 7 +  If CodRestricao = 1 or CodRestricao =2 or CodRestricao = 3
.head 8 -  Set RestricaoVenda1 = Restricao2
.head 7 -  Set nSubControle = 2
.head 7 -  Return TRUE
.head 6 +  If nSubControle = 1
.head 7 -  Set Bloqueio2 = Restricao2
.head 7 +  If CodRestricao = 1 or CodRestricao =2 or CodRestricao = 3
.head 8 -  Set RestricaoVenda2 = Restricao2
.head 7 -  Set nSubControle = 3
.head 7 -  Return TRUE
.head 6 +  If nSubControle = 2
.head 7 -  Set Bloqueio3 = Restricao2
.head 7 -  Set nSubControle = 4
.head 7 -  Return TRUE
.head 6 +  If nSubControle = 3
.head 7 -  Set Bloqueio4 = Restricao2
.head 7 -  Return TRUE
.head 5 +  Else
.head 6 -  Return FALSE
.head 3 +  On UDM_AposPesquisa
.head 4 -  Set sCodBarrasBMV = SalNumberToStrX(frmConsultaHistVeiculo.BMV,0)
.head 4 -  Call fCodigoBarraNumImpar(sCodBarrasBMV, sCodBarrasBMV)
.head 4 -  Return TRUE
.head 3 +  On SAM_CreateComplete
.head 4 -  ! ----- Valida permissão de Cancelamento de Processo ----- 25/01/2012 ----- Djalma Júnior
.head 4 -  Set frmConsultaHistVeiculo.sUsuario = SqlUser
.head 4 +  If NOT fMPSPrepareProc( hSqlApp, 	'Exec dbvcen..PermissaoCancelarProcessoS @Usuario = :frmConsultaHistVeiculo.sUsuario ',
 ' :frmConsultaHistVeiculo.sPermissaoCancelar')
.head 5 -  ! Call SqlExecute( hSqlApp )
.head 4 +  If NOT SqlExecute( hSqlApp )
.head 5 -  Call SalWaitCursor( FALSE )
.head 5 -  Return FALSE
.head 4 -  Call SqlFetchNext( hSqlApp, nRetorno )
.head 4 -  !
.head 4 -  Call SalSendClassMessage( SAM_CreateComplete, wParam, lParam )
.head 4 -  Set nPermissaoForm = frmConsultaHistVeiculo.fObtemPermissao( 'frmConsultaHistVeiculo' )
.head 4 -  Call SalDisableWindow( pbReimpProtRep )
